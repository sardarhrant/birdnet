import{$ as ji,$a as fi,A as ko,Aa as Yn,Ab as rr,B as It,Ba as Hi,Bb as or,C as oi,Ca as de,D as Ft,Da as Ae,E as yc,Ea as Po,F as Io,Fa as Sc,G as Et,Ga as Xn,H as bc,Ha as Dc,I as Vt,Ia as Ro,J as Mt,Ja as Gi,K as Eo,Ka as Pc,L as wc,La as Rc,M as xc,Ma as Oo,N as Cc,Na as hi,O as Gn,Oa as Ce,P as $e,Pa as ui,Q as Wn,Qa as Oc,R as ve,Ra as G,S as ie,Sa as J,T as Mo,Ta as fe,U as S,Ua as Lc,V as Pe,Va as Lo,W as kc,Wa as He,X as $,Xa as Jn,Y as To,Ya as Qn,Z as A,Za as Wi,_ as I,_a as di,a as C,aa as he,ab as Nc,b as le,ba as Re,bb as ae,ca as zt,cb as Fc,d as Ku,da as Bt,db as qi,e as Yu,ea as Ic,eb as rt,f as wo,fa as si,fb as pe,g as Zn,ga as Ye,gb as er,h as pc,ha as Ui,hb as No,i as mc,ia as ai,ib as Fo,j as Ct,ja as ci,jb as tr,k as xo,ka as Ec,kb as Vo,l as Co,la as Mc,lb as Vc,m as Te,ma as qn,mb as jt,n as gc,na as Ao,nb as zc,o as Ue,oa as So,ob as Xe,p as $n,pa as Zi,pb as Bc,q as kt,qa as Oe,qb as zo,r as De,ra as ue,rb as jc,s as R,sa as Do,sb as Uc,t as zi,ta as ft,tb as me,u as _c,ua as Tc,ub as ir,v as vc,va as Kn,vb as nr,w as Z,wa as Ac,wb as Zc,x as Bi,xa as pt,xb as Bo,y as Ze,ya as li,yb as $c,z as Hn,za as $i,zb as Hc}from"./chunk-F3NCP6LF.js";var xh=Ku((Dr,wh)=>{"use strict";(function(n,r){typeof Dr=="object"&&typeof wh<"u"?r(Dr):typeof define=="function"&&define.amd?define(["exports"],r):(n=typeof globalThis<"u"?globalThis:n||self,r(n.leaflet={}))})(Dr,function(n){"use strict";var r="1.9.4";function i(e){var t,o,c,l;for(o=1,c=arguments.length;o<c;o++){l=arguments[o];for(t in l)e[t]=l[t]}return e}var s=Object.create||function(){function e(){}return function(t){return e.prototype=t,new e}}();function a(e,t){var o=Array.prototype.slice;if(e.bind)return e.bind.apply(e,o.call(arguments,1));var c=o.call(arguments,2);return function(){return e.apply(t,c.length?c.concat(o.call(arguments)):arguments)}}var h=0;function u(e){return"_leaflet_id"in e||(e._leaflet_id=++h),e._leaflet_id}function m(e,t,o){var c,l,d,p;return p=function(){c=!1,l&&(d.apply(o,l),l=!1)},d=function(){c?l=arguments:(e.apply(o,arguments),setTimeout(p,t),c=!0)},d}function f(e,t,o){var c=t[1],l=t[0],d=c-l;return e===c&&o?e:((e-l)%d+d)%d+l}function _(){return!1}function b(e,t){if(t===!1)return e;var o=Math.pow(10,t===void 0?6:t);return Math.round(e*o)/o}function w(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function M(e){return w(e).split(/\s+/)}function k(e,t){Object.prototype.hasOwnProperty.call(e,"options")||(e.options=e.options?s(e.options):{});for(var o in t)e.options[o]=t[o];return e.options}function Y(e,t,o){var c=[];for(var l in e)c.push(encodeURIComponent(o?l.toUpperCase():l)+"="+encodeURIComponent(e[l]));return(!t||t.indexOf("?")===-1?"?":"&")+c.join("&")}var O=/\{ *([\w_ -]+) *\}/g;function D(e,t){return e.replace(O,function(o,c){var l=t[c];if(l===void 0)throw new Error("No value provided for variable "+o);return typeof l=="function"&&(l=l(t)),l})}var K=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function be(e,t){for(var o=0;o<e.length;o++)if(e[o]===t)return o;return-1}var W="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function st(e){return window["webkit"+e]||window["moz"+e]||window["ms"+e]}var Qe=0;function yt(e){var t=+new Date,o=Math.max(0,16-(t-Qe));return Qe=t+o,window.setTimeout(e,o)}var Kt=window.requestAnimationFrame||st("RequestAnimationFrame")||yt,ia=window.cancelAnimationFrame||st("CancelAnimationFrame")||st("CancelRequestAnimationFrame")||function(e){window.clearTimeout(e)};function ke(e,t,o){if(o&&Kt===yt)e.call(t);else return Kt.call(window,a(e,t))}function Ve(e){e&&ia.call(window,e)}var Ch={__proto__:null,extend:i,create:s,bind:a,get lastId(){return h},stamp:u,throttle:m,wrapNum:f,falseFn:_,formatNum:b,trim:w,splitWords:M,setOptions:k,getParamString:Y,template:D,isArray:K,indexOf:be,emptyImageUrl:W,requestFn:Kt,cancelFn:ia,requestAnimFrame:ke,cancelAnimFrame:Ve};function at(){}at.extend=function(e){var t=function(){k(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},o=t.__super__=this.prototype,c=s(o);c.constructor=t,t.prototype=c;for(var l in this)Object.prototype.hasOwnProperty.call(this,l)&&l!=="prototype"&&l!=="__super__"&&(t[l]=this[l]);return e.statics&&i(t,e.statics),e.includes&&(kh(e.includes),i.apply(null,[c].concat(e.includes))),i(c,e),delete c.statics,delete c.includes,c.options&&(c.options=o.options?s(o.options):{},i(c.options,e.options)),c._initHooks=[],c.callInitHooks=function(){if(!this._initHooksCalled){o.callInitHooks&&o.callInitHooks.call(this),this._initHooksCalled=!0;for(var d=0,p=c._initHooks.length;d<p;d++)c._initHooks[d].call(this)}},t},at.include=function(e){var t=this.prototype.options;return i(this.prototype,e),e.options&&(this.prototype.options=t,this.mergeOptions(e.options)),this},at.mergeOptions=function(e){return i(this.prototype.options,e),this},at.addInitHook=function(e){var t=Array.prototype.slice.call(arguments,1),o=typeof e=="function"?e:function(){this[e].apply(this,t)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(o),this};function kh(e){if(!(typeof L>"u"||!L||!L.Mixin)){e=K(e)?e:[e];for(var t=0;t<e.length;t++)e[t]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var Se={on:function(e,t,o){if(typeof e=="object")for(var c in e)this._on(c,e[c],t);else{e=M(e);for(var l=0,d=e.length;l<d;l++)this._on(e[l],t,o)}return this},off:function(e,t,o){if(!arguments.length)delete this._events;else if(typeof e=="object")for(var c in e)this._off(c,e[c],t);else{e=M(e);for(var l=arguments.length===1,d=0,p=e.length;d<p;d++)l?this._off(e[d]):this._off(e[d],t,o)}return this},_on:function(e,t,o,c){if(typeof t!="function"){console.warn("wrong listener type: "+typeof t);return}if(this._listens(e,t,o)===!1){o===this&&(o=void 0);var l={fn:t,ctx:o};c&&(l.once=!0),this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(l)}},_off:function(e,t,o){var c,l,d;if(this._events&&(c=this._events[e],!!c)){if(arguments.length===1){if(this._firingCount)for(l=0,d=c.length;l<d;l++)c[l].fn=_;delete this._events[e];return}if(typeof t!="function"){console.warn("wrong listener type: "+typeof t);return}var p=this._listens(e,t,o);if(p!==!1){var g=c[p];this._firingCount&&(g.fn=_,this._events[e]=c=c.slice()),c.splice(p,1)}}},fire:function(e,t,o){if(!this.listens(e,o))return this;var c=i({},t,{type:e,target:this,sourceTarget:t&&t.sourceTarget||this});if(this._events){var l=this._events[e];if(l){this._firingCount=this._firingCount+1||1;for(var d=0,p=l.length;d<p;d++){var g=l[d],v=g.fn;g.once&&this.off(e,v,g.ctx),v.call(g.ctx||this,c)}this._firingCount--}}return o&&this._propagateEvent(c),this},listens:function(e,t,o,c){typeof e!="string"&&console.warn('"string" type argument expected');var l=t;typeof t!="function"&&(c=!!t,l=void 0,o=void 0);var d=this._events&&this._events[e];if(d&&d.length&&this._listens(e,l,o)!==!1)return!0;if(c){for(var p in this._eventParents)if(this._eventParents[p].listens(e,t,o,c))return!0}return!1},_listens:function(e,t,o){if(!this._events)return!1;var c=this._events[e]||[];if(!t)return!!c.length;o===this&&(o=void 0);for(var l=0,d=c.length;l<d;l++)if(c[l].fn===t&&c[l].ctx===o)return l;return!1},once:function(e,t,o){if(typeof e=="object")for(var c in e)this._on(c,e[c],t,!0);else{e=M(e);for(var l=0,d=e.length;l<d;l++)this._on(e[l],t,o,!0)}return this},addEventParent:function(e){return this._eventParents=this._eventParents||{},this._eventParents[u(e)]=e,this},removeEventParent:function(e){return this._eventParents&&delete this._eventParents[u(e)],this},_propagateEvent:function(e){for(var t in this._eventParents)this._eventParents[t].fire(e.type,i({layer:e.target,propagatedFrom:e.target},e),!0)}};Se.addEventListener=Se.on,Se.removeEventListener=Se.clearAllEventListeners=Se.off,Se.addOneTimeEventListener=Se.once,Se.fireEvent=Se.fire,Se.hasEventListeners=Se.listens;var ki=at.extend(Se);function N(e,t,o){this.x=o?Math.round(e):e,this.y=o?Math.round(t):t}var na=Math.trunc||function(e){return e>0?Math.floor(e):Math.ceil(e)};N.prototype={clone:function(){return new N(this.x,this.y)},add:function(e){return this.clone()._add(P(e))},_add:function(e){return this.x+=e.x,this.y+=e.y,this},subtract:function(e){return this.clone()._subtract(P(e))},_subtract:function(e){return this.x-=e.x,this.y-=e.y,this},divideBy:function(e){return this.clone()._divideBy(e)},_divideBy:function(e){return this.x/=e,this.y/=e,this},multiplyBy:function(e){return this.clone()._multiplyBy(e)},_multiplyBy:function(e){return this.x*=e,this.y*=e,this},scaleBy:function(e){return new N(this.x*e.x,this.y*e.y)},unscaleBy:function(e){return new N(this.x/e.x,this.y/e.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=na(this.x),this.y=na(this.y),this},distanceTo:function(e){e=P(e);var t=e.x-this.x,o=e.y-this.y;return Math.sqrt(t*t+o*o)},equals:function(e){return e=P(e),e.x===this.x&&e.y===this.y},contains:function(e){return e=P(e),Math.abs(e.x)<=Math.abs(this.x)&&Math.abs(e.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function P(e,t,o){return e instanceof N?e:K(e)?new N(e[0],e[1]):e==null?e:typeof e=="object"&&"x"in e&&"y"in e?new N(e.x,e.y):new N(e,t,o)}function ee(e,t){if(e)for(var o=t?[e,t]:e,c=0,l=o.length;c<l;c++)this.extend(o[c])}ee.prototype={extend:function(e){var t,o;if(!e)return this;if(e instanceof N||typeof e[0]=="number"||"x"in e)t=o=P(e);else if(e=Ie(e),t=e.min,o=e.max,!t||!o)return this;return!this.min&&!this.max?(this.min=t.clone(),this.max=o.clone()):(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(o.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(o.y,this.max.y)),this},getCenter:function(e){return P((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,e)},getBottomLeft:function(){return P(this.min.x,this.max.y)},getTopRight:function(){return P(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(e){var t,o;return typeof e[0]=="number"||e instanceof N?e=P(e):e=Ie(e),e instanceof ee?(t=e.min,o=e.max):t=o=e,t.x>=this.min.x&&o.x<=this.max.x&&t.y>=this.min.y&&o.y<=this.max.y},intersects:function(e){e=Ie(e);var t=this.min,o=this.max,c=e.min,l=e.max,d=l.x>=t.x&&c.x<=o.x,p=l.y>=t.y&&c.y<=o.y;return d&&p},overlaps:function(e){e=Ie(e);var t=this.min,o=this.max,c=e.min,l=e.max,d=l.x>t.x&&c.x<o.x,p=l.y>t.y&&c.y<o.y;return d&&p},isValid:function(){return!!(this.min&&this.max)},pad:function(e){var t=this.min,o=this.max,c=Math.abs(t.x-o.x)*e,l=Math.abs(t.y-o.y)*e;return Ie(P(t.x-c,t.y-l),P(o.x+c,o.y+l))},equals:function(e){return e?(e=Ie(e),this.min.equals(e.getTopLeft())&&this.max.equals(e.getBottomRight())):!1}};function Ie(e,t){return!e||e instanceof ee?e:new ee(e,t)}function Ee(e,t){if(e)for(var o=t?[e,t]:e,c=0,l=o.length;c<l;c++)this.extend(o[c])}Ee.prototype={extend:function(e){var t=this._southWest,o=this._northEast,c,l;if(e instanceof X)c=e,l=e;else if(e instanceof Ee){if(c=e._southWest,l=e._northEast,!c||!l)return this}else return e?this.extend(j(e)||re(e)):this;return!t&&!o?(this._southWest=new X(c.lat,c.lng),this._northEast=new X(l.lat,l.lng)):(t.lat=Math.min(c.lat,t.lat),t.lng=Math.min(c.lng,t.lng),o.lat=Math.max(l.lat,o.lat),o.lng=Math.max(l.lng,o.lng)),this},pad:function(e){var t=this._southWest,o=this._northEast,c=Math.abs(t.lat-o.lat)*e,l=Math.abs(t.lng-o.lng)*e;return new Ee(new X(t.lat-c,t.lng-l),new X(o.lat+c,o.lng+l))},getCenter:function(){return new X((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new X(this.getNorth(),this.getWest())},getSouthEast:function(){return new X(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(e){typeof e[0]=="number"||e instanceof X||"lat"in e?e=j(e):e=re(e);var t=this._southWest,o=this._northEast,c,l;return e instanceof Ee?(c=e.getSouthWest(),l=e.getNorthEast()):c=l=e,c.lat>=t.lat&&l.lat<=o.lat&&c.lng>=t.lng&&l.lng<=o.lng},intersects:function(e){e=re(e);var t=this._southWest,o=this._northEast,c=e.getSouthWest(),l=e.getNorthEast(),d=l.lat>=t.lat&&c.lat<=o.lat,p=l.lng>=t.lng&&c.lng<=o.lng;return d&&p},overlaps:function(e){e=re(e);var t=this._southWest,o=this._northEast,c=e.getSouthWest(),l=e.getNorthEast(),d=l.lat>t.lat&&c.lat<o.lat,p=l.lng>t.lng&&c.lng<o.lng;return d&&p},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(e,t){return e?(e=re(e),this._southWest.equals(e.getSouthWest(),t)&&this._northEast.equals(e.getNorthEast(),t)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function re(e,t){return e instanceof Ee?e:new Ee(e,t)}function X(e,t,o){if(isNaN(e)||isNaN(t))throw new Error("Invalid LatLng object: ("+e+", "+t+")");this.lat=+e,this.lng=+t,o!==void 0&&(this.alt=+o)}X.prototype={equals:function(e,t){if(!e)return!1;e=j(e);var o=Math.max(Math.abs(this.lat-e.lat),Math.abs(this.lng-e.lng));return o<=(t===void 0?1e-9:t)},toString:function(e){return"LatLng("+b(this.lat,e)+", "+b(this.lng,e)+")"},distanceTo:function(e){return bt.distance(this,j(e))},wrap:function(){return bt.wrapLatLng(this)},toBounds:function(e){var t=180*e/40075017,o=t/Math.cos(Math.PI/180*this.lat);return re([this.lat-t,this.lng-o],[this.lat+t,this.lng+o])},clone:function(){return new X(this.lat,this.lng,this.alt)}};function j(e,t,o){return e instanceof X?e:K(e)&&typeof e[0]!="object"?e.length===3?new X(e[0],e[1],e[2]):e.length===2?new X(e[0],e[1]):null:e==null?e:typeof e=="object"&&"lat"in e?new X(e.lat,"lng"in e?e.lng:e.lon,e.alt):t===void 0?null:new X(e,t,o)}var ct={latLngToPoint:function(e,t){var o=this.projection.project(e),c=this.scale(t);return this.transformation._transform(o,c)},pointToLatLng:function(e,t){var o=this.scale(t),c=this.transformation.untransform(e,o);return this.projection.unproject(c)},project:function(e){return this.projection.project(e)},unproject:function(e){return this.projection.unproject(e)},scale:function(e){return 256*Math.pow(2,e)},zoom:function(e){return Math.log(e/256)/Math.LN2},getProjectedBounds:function(e){if(this.infinite)return null;var t=this.projection.bounds,o=this.scale(e),c=this.transformation.transform(t.min,o),l=this.transformation.transform(t.max,o);return new ee(c,l)},infinite:!1,wrapLatLng:function(e){var t=this.wrapLng?f(e.lng,this.wrapLng,!0):e.lng,o=this.wrapLat?f(e.lat,this.wrapLat,!0):e.lat,c=e.alt;return new X(o,t,c)},wrapLatLngBounds:function(e){var t=e.getCenter(),o=this.wrapLatLng(t),c=t.lat-o.lat,l=t.lng-o.lng;if(c===0&&l===0)return e;var d=e.getSouthWest(),p=e.getNorthEast(),g=new X(d.lat-c,d.lng-l),v=new X(p.lat-c,p.lng-l);return new Ee(g,v)}},bt=i({},ct,{wrapLng:[-180,180],R:6371e3,distance:function(e,t){var o=Math.PI/180,c=e.lat*o,l=t.lat*o,d=Math.sin((t.lat-e.lat)*o/2),p=Math.sin((t.lng-e.lng)*o/2),g=d*d+Math.cos(c)*Math.cos(l)*p*p,v=2*Math.atan2(Math.sqrt(g),Math.sqrt(1-g));return this.R*v}}),ra=6378137,Br={R:ra,MAX_LATITUDE:85.0511287798,project:function(e){var t=Math.PI/180,o=this.MAX_LATITUDE,c=Math.max(Math.min(o,e.lat),-o),l=Math.sin(c*t);return new N(this.R*e.lng*t,this.R*Math.log((1+l)/(1-l))/2)},unproject:function(e){var t=180/Math.PI;return new X((2*Math.atan(Math.exp(e.y/this.R))-Math.PI/2)*t,e.x*t/this.R)},bounds:function(){var e=ra*Math.PI;return new ee([-e,-e],[e,e])}()};function jr(e,t,o,c){if(K(e)){this._a=e[0],this._b=e[1],this._c=e[2],this._d=e[3];return}this._a=e,this._b=t,this._c=o,this._d=c}jr.prototype={transform:function(e,t){return this._transform(e.clone(),t)},_transform:function(e,t){return t=t||1,e.x=t*(this._a*e.x+this._b),e.y=t*(this._c*e.y+this._d),e},untransform:function(e,t){return t=t||1,new N((e.x/t-this._b)/this._a,(e.y/t-this._d)/this._c)}};function Ii(e,t,o,c){return new jr(e,t,o,c)}var Ur=i({},bt,{code:"EPSG:3857",projection:Br,transformation:function(){var e=.5/(Math.PI*Br.R);return Ii(e,.5,-e,.5)}()}),Ih=i({},Ur,{code:"EPSG:900913"});function oa(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function sa(e,t){var o="",c,l,d,p,g,v;for(c=0,d=e.length;c<d;c++){for(g=e[c],l=0,p=g.length;l<p;l++)v=g[l],o+=(l?"L":"M")+v.x+" "+v.y;o+=t?E.svg?"z":"x":""}return o||"M0 0"}var Zr=document.documentElement.style,kn="ActiveXObject"in window,Eh=kn&&!document.addEventListener,aa="msLaunchUri"in navigator&&!("documentMode"in document),$r=et("webkit"),ca=et("android"),la=et("android 2")||et("android 3"),Mh=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Th=ca&&et("Google")&&Mh<537&&!("AudioNode"in window),Hr=!!window.opera,ha=!aa&&et("chrome"),ua=et("gecko")&&!$r&&!Hr&&!kn,Ah=!ha&&et("safari"),da=et("phantom"),fa="OTransition"in Zr,Sh=navigator.platform.indexOf("Win")===0,pa=kn&&"transition"in Zr,Gr="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!la,ma="MozPerspective"in Zr,Dh=!window.L_DISABLE_3D&&(pa||Gr||ma)&&!fa&&!da,Ei=typeof orientation<"u"||et("mobile"),Ph=Ei&&$r,Rh=Ei&&Gr,ga=!window.PointerEvent&&window.MSPointerEvent,_a=!!(window.PointerEvent||ga),va="ontouchstart"in window||!!window.TouchEvent,Oh=!window.L_NO_TOUCH&&(va||_a),Lh=Ei&&Hr,Nh=Ei&&ua,Fh=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Vh=function(){var e=!1;try{var t=Object.defineProperty({},"passive",{get:function(){e=!0}});window.addEventListener("testPassiveEventSupport",_,t),window.removeEventListener("testPassiveEventSupport",_,t)}catch{}return e}(),zh=function(){return!!document.createElement("canvas").getContext}(),Wr=!!(document.createElementNS&&oa("svg").createSVGRect),Bh=!!Wr&&function(){var e=document.createElement("div");return e.innerHTML="<svg/>",(e.firstChild&&e.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),jh=!Wr&&function(){try{var e=document.createElement("div");e.innerHTML='<v:shape adj="1"/>';var t=e.firstChild;return t.style.behavior="url(#default#VML)",t&&typeof t.adj=="object"}catch{return!1}}(),Uh=navigator.platform.indexOf("Mac")===0,Zh=navigator.platform.indexOf("Linux")===0;function et(e){return navigator.userAgent.toLowerCase().indexOf(e)>=0}var E={ie:kn,ielt9:Eh,edge:aa,webkit:$r,android:ca,android23:la,androidStock:Th,opera:Hr,chrome:ha,gecko:ua,safari:Ah,phantom:da,opera12:fa,win:Sh,ie3d:pa,webkit3d:Gr,gecko3d:ma,any3d:Dh,mobile:Ei,mobileWebkit:Ph,mobileWebkit3d:Rh,msPointer:ga,pointer:_a,touch:Oh,touchNative:va,mobileOpera:Lh,mobileGecko:Nh,retina:Fh,passiveEvents:Vh,canvas:zh,svg:Wr,vml:jh,inlineSvg:Bh,mac:Uh,linux:Zh},ya=E.msPointer?"MSPointerDown":"pointerdown",ba=E.msPointer?"MSPointerMove":"pointermove",wa=E.msPointer?"MSPointerUp":"pointerup",xa=E.msPointer?"MSPointerCancel":"pointercancel",qr={touchstart:ya,touchmove:ba,touchend:wa,touchcancel:xa},Ca={touchstart:Kh,touchmove:In,touchend:In,touchcancel:In},Yt={},ka=!1;function $h(e,t,o){return t==="touchstart"&&qh(),Ca[t]?(o=Ca[t].bind(this,o),e.addEventListener(qr[t],o,!1),o):(console.warn("wrong event specified:",t),_)}function Hh(e,t,o){if(!qr[t]){console.warn("wrong event specified:",t);return}e.removeEventListener(qr[t],o,!1)}function Gh(e){Yt[e.pointerId]=e}function Wh(e){Yt[e.pointerId]&&(Yt[e.pointerId]=e)}function Ia(e){delete Yt[e.pointerId]}function qh(){ka||(document.addEventListener(ya,Gh,!0),document.addEventListener(ba,Wh,!0),document.addEventListener(wa,Ia,!0),document.addEventListener(xa,Ia,!0),ka=!0)}function In(e,t){if(t.pointerType!==(t.MSPOINTER_TYPE_MOUSE||"mouse")){t.touches=[];for(var o in Yt)t.touches.push(Yt[o]);t.changedTouches=[t],e(t)}}function Kh(e,t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&_e(t),In(e,t)}function Yh(e){var t={},o,c;for(c in e)o=e[c],t[c]=o&&o.bind?o.bind(e):o;return e=t,t.type="dblclick",t.detail=2,t.isTrusted=!1,t._simulated=!0,t}var Xh=200;function Jh(e,t){e.addEventListener("dblclick",t);var o=0,c;function l(d){if(d.detail!==1){c=d.detail;return}if(!(d.pointerType==="mouse"||d.sourceCapabilities&&!d.sourceCapabilities.firesTouchEvents)){var p=Sa(d);if(!(p.some(function(v){return v instanceof HTMLLabelElement&&v.attributes.for})&&!p.some(function(v){return v instanceof HTMLInputElement||v instanceof HTMLSelectElement}))){var g=Date.now();g-o<=Xh?(c++,c===2&&t(Yh(d))):c=1,o=g}}}return e.addEventListener("click",l),{dblclick:t,simDblclick:l}}function Qh(e,t){e.removeEventListener("dblclick",t.dblclick),e.removeEventListener("click",t.simDblclick)}var Kr=Tn(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Mi=Tn(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Ea=Mi==="webkitTransition"||Mi==="OTransition"?Mi+"End":"transitionend";function Ma(e){return typeof e=="string"?document.getElementById(e):e}function Ti(e,t){var o=e.style[t]||e.currentStyle&&e.currentStyle[t];if((!o||o==="auto")&&document.defaultView){var c=document.defaultView.getComputedStyle(e,null);o=c?c[t]:null}return o==="auto"?null:o}function H(e,t,o){var c=document.createElement(e);return c.className=t||"",o&&o.appendChild(c),c}function te(e){var t=e.parentNode;t&&t.removeChild(e)}function En(e){for(;e.firstChild;)e.removeChild(e.firstChild)}function Xt(e){var t=e.parentNode;t&&t.lastChild!==e&&t.appendChild(e)}function Jt(e){var t=e.parentNode;t&&t.firstChild!==e&&t.insertBefore(e,t.firstChild)}function Yr(e,t){if(e.classList!==void 0)return e.classList.contains(t);var o=Mn(e);return o.length>0&&new RegExp("(^|\\s)"+t+"(\\s|$)").test(o)}function z(e,t){if(e.classList!==void 0)for(var o=M(t),c=0,l=o.length;c<l;c++)e.classList.add(o[c]);else if(!Yr(e,t)){var d=Mn(e);Xr(e,(d?d+" ":"")+t)}}function ne(e,t){e.classList!==void 0?e.classList.remove(t):Xr(e,w((" "+Mn(e)+" ").replace(" "+t+" "," ")))}function Xr(e,t){e.className.baseVal===void 0?e.className=t:e.className.baseVal=t}function Mn(e){return e.correspondingElement&&(e=e.correspondingElement),e.className.baseVal===void 0?e.className:e.className.baseVal}function ze(e,t){"opacity"in e.style?e.style.opacity=t:"filter"in e.style&&eu(e,t)}function eu(e,t){var o=!1,c="DXImageTransform.Microsoft.Alpha";try{o=e.filters.item(c)}catch{if(t===1)return}t=Math.round(t*100),o?(o.Enabled=t!==100,o.Opacity=t):e.style.filter+=" progid:"+c+"(opacity="+t+")"}function Tn(e){for(var t=document.documentElement.style,o=0;o<e.length;o++)if(e[o]in t)return e[o];return!1}function Pt(e,t,o){var c=t||new N(0,0);e.style[Kr]=(E.ie3d?"translate("+c.x+"px,"+c.y+"px)":"translate3d("+c.x+"px,"+c.y+"px,0)")+(o?" scale("+o+")":"")}function oe(e,t){e._leaflet_pos=t,E.any3d?Pt(e,t):(e.style.left=t.x+"px",e.style.top=t.y+"px")}function Rt(e){return e._leaflet_pos||new N(0,0)}var Ai,Si,Jr;if("onselectstart"in document)Ai=function(){F(window,"selectstart",_e)},Si=function(){Q(window,"selectstart",_e)};else{var Di=Tn(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Ai=function(){if(Di){var e=document.documentElement.style;Jr=e[Di],e[Di]="none"}},Si=function(){Di&&(document.documentElement.style[Di]=Jr,Jr=void 0)}}function Qr(){F(window,"dragstart",_e)}function eo(){Q(window,"dragstart",_e)}var An,to;function io(e){for(;e.tabIndex===-1;)e=e.parentNode;e.style&&(Sn(),An=e,to=e.style.outlineStyle,e.style.outlineStyle="none",F(window,"keydown",Sn))}function Sn(){An&&(An.style.outlineStyle=to,An=void 0,to=void 0,Q(window,"keydown",Sn))}function Ta(e){do e=e.parentNode;while((!e.offsetWidth||!e.offsetHeight)&&e!==document.body);return e}function no(e){var t=e.getBoundingClientRect();return{x:t.width/e.offsetWidth||1,y:t.height/e.offsetHeight||1,boundingClientRect:t}}var tu={__proto__:null,TRANSFORM:Kr,TRANSITION:Mi,TRANSITION_END:Ea,get:Ma,getStyle:Ti,create:H,remove:te,empty:En,toFront:Xt,toBack:Jt,hasClass:Yr,addClass:z,removeClass:ne,setClass:Xr,getClass:Mn,setOpacity:ze,testProp:Tn,setTransform:Pt,setPosition:oe,getPosition:Rt,get disableTextSelection(){return Ai},get enableTextSelection(){return Si},disableImageDrag:Qr,enableImageDrag:eo,preventOutline:io,restoreOutline:Sn,getSizedParentNode:Ta,getScale:no};function F(e,t,o,c){if(t&&typeof t=="object")for(var l in t)oo(e,l,t[l],o);else{t=M(t);for(var d=0,p=t.length;d<p;d++)oo(e,t[d],o,c)}return this}var tt="_leaflet_events";function Q(e,t,o,c){if(arguments.length===1)Aa(e),delete e[tt];else if(t&&typeof t=="object")for(var l in t)so(e,l,t[l],o);else if(t=M(t),arguments.length===2)Aa(e,function(g){return be(t,g)!==-1});else for(var d=0,p=t.length;d<p;d++)so(e,t[d],o,c);return this}function Aa(e,t){for(var o in e[tt]){var c=o.split(/\d/)[0];(!t||t(c))&&so(e,c,null,null,o)}}var ro={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function oo(e,t,o,c){var l=t+u(o)+(c?"_"+u(c):"");if(e[tt]&&e[tt][l])return this;var d=function(g){return o.call(c||e,g||window.event)},p=d;!E.touchNative&&E.pointer&&t.indexOf("touch")===0?d=$h(e,t,d):E.touch&&t==="dblclick"?d=Jh(e,d):"addEventListener"in e?t==="touchstart"||t==="touchmove"||t==="wheel"||t==="mousewheel"?e.addEventListener(ro[t]||t,d,E.passiveEvents?{passive:!1}:!1):t==="mouseenter"||t==="mouseleave"?(d=function(g){g=g||window.event,co(e,g)&&p(g)},e.addEventListener(ro[t],d,!1)):e.addEventListener(t,p,!1):e.attachEvent("on"+t,d),e[tt]=e[tt]||{},e[tt][l]=d}function so(e,t,o,c,l){l=l||t+u(o)+(c?"_"+u(c):"");var d=e[tt]&&e[tt][l];if(!d)return this;!E.touchNative&&E.pointer&&t.indexOf("touch")===0?Hh(e,t,d):E.touch&&t==="dblclick"?Qh(e,d):"removeEventListener"in e?e.removeEventListener(ro[t]||t,d,!1):e.detachEvent("on"+t,d),e[tt][l]=null}function Ot(e){return e.stopPropagation?e.stopPropagation():e.originalEvent?e.originalEvent._stopped=!0:e.cancelBubble=!0,this}function ao(e){return oo(e,"wheel",Ot),this}function Pi(e){return F(e,"mousedown touchstart dblclick contextmenu",Ot),e._leaflet_disable_click=!0,this}function _e(e){return e.preventDefault?e.preventDefault():e.returnValue=!1,this}function Lt(e){return _e(e),Ot(e),this}function Sa(e){if(e.composedPath)return e.composedPath();for(var t=[],o=e.target;o;)t.push(o),o=o.parentNode;return t}function Da(e,t){if(!t)return new N(e.clientX,e.clientY);var o=no(t),c=o.boundingClientRect;return new N((e.clientX-c.left)/o.x-t.clientLeft,(e.clientY-c.top)/o.y-t.clientTop)}var iu=E.linux&&E.chrome?window.devicePixelRatio:E.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Pa(e){return E.edge?e.wheelDeltaY/2:e.deltaY&&e.deltaMode===0?-e.deltaY/iu:e.deltaY&&e.deltaMode===1?-e.deltaY*20:e.deltaY&&e.deltaMode===2?-e.deltaY*60:e.deltaX||e.deltaZ?0:e.wheelDelta?(e.wheelDeltaY||e.wheelDelta)/2:e.detail&&Math.abs(e.detail)<32765?-e.detail*20:e.detail?e.detail/-32765*60:0}function co(e,t){var o=t.relatedTarget;if(!o)return!0;try{for(;o&&o!==e;)o=o.parentNode}catch{return!1}return o!==e}var nu={__proto__:null,on:F,off:Q,stopPropagation:Ot,disableScrollPropagation:ao,disableClickPropagation:Pi,preventDefault:_e,stop:Lt,getPropagationPath:Sa,getMousePosition:Da,getWheelDelta:Pa,isExternalTarget:co,addListener:F,removeListener:Q},Ra=ki.extend({run:function(e,t,o,c){this.stop(),this._el=e,this._inProgress=!0,this._duration=o||.25,this._easeOutPower=1/Math.max(c||.5,.2),this._startPos=Rt(e),this._offset=t.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=ke(this._animate,this),this._step()},_step:function(e){var t=+new Date-this._startTime,o=this._duration*1e3;t<o?this._runFrame(this._easeOut(t/o),e):(this._runFrame(1),this._complete())},_runFrame:function(e,t){var o=this._startPos.add(this._offset.multiplyBy(e));t&&o._round(),oe(this._el,o),this.fire("step")},_complete:function(){Ve(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(e){return 1-Math.pow(1-e,this._easeOutPower)}}),U=ki.extend({options:{crs:Ur,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(e,t){t=k(this,t),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(e),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),t.maxBounds&&this.setMaxBounds(t.maxBounds),t.zoom!==void 0&&(this._zoom=this._limitZoom(t.zoom)),t.center&&t.zoom!==void 0&&this.setView(j(t.center),t.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Mi&&E.any3d&&!E.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),F(this._proxy,Ea,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(e,t,o){if(t=t===void 0?this._zoom:this._limitZoom(t),e=this._limitCenter(j(e),t,this.options.maxBounds),o=o||{},this._stop(),this._loaded&&!o.reset&&o!==!0){o.animate!==void 0&&(o.zoom=i({animate:o.animate},o.zoom),o.pan=i({animate:o.animate,duration:o.duration},o.pan));var c=this._zoom!==t?this._tryAnimatedZoom&&this._tryAnimatedZoom(e,t,o.zoom):this._tryAnimatedPan(e,o.pan);if(c)return clearTimeout(this._sizeTimer),this}return this._resetView(e,t,o.pan&&o.pan.noMoveStart),this},setZoom:function(e,t){return this._loaded?this.setView(this.getCenter(),e,{zoom:t}):(this._zoom=e,this)},zoomIn:function(e,t){return e=e||(E.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+e,t)},zoomOut:function(e,t){return e=e||(E.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-e,t)},setZoomAround:function(e,t,o){var c=this.getZoomScale(t),l=this.getSize().divideBy(2),d=e instanceof N?e:this.latLngToContainerPoint(e),p=d.subtract(l).multiplyBy(1-1/c),g=this.containerPointToLatLng(l.add(p));return this.setView(g,t,{zoom:o})},_getBoundsCenterZoom:function(e,t){t=t||{},e=e.getBounds?e.getBounds():re(e);var o=P(t.paddingTopLeft||t.padding||[0,0]),c=P(t.paddingBottomRight||t.padding||[0,0]),l=this.getBoundsZoom(e,!1,o.add(c));if(l=typeof t.maxZoom=="number"?Math.min(t.maxZoom,l):l,l===1/0)return{center:e.getCenter(),zoom:l};var d=c.subtract(o).divideBy(2),p=this.project(e.getSouthWest(),l),g=this.project(e.getNorthEast(),l),v=this.unproject(p.add(g).divideBy(2).add(d),l);return{center:v,zoom:l}},fitBounds:function(e,t){if(e=re(e),!e.isValid())throw new Error("Bounds are not valid.");var o=this._getBoundsCenterZoom(e,t);return this.setView(o.center,o.zoom,t)},fitWorld:function(e){return this.fitBounds([[-90,-180],[90,180]],e)},panTo:function(e,t){return this.setView(e,this._zoom,{pan:t})},panBy:function(e,t){if(e=P(e).round(),t=t||{},!e.x&&!e.y)return this.fire("moveend");if(t.animate!==!0&&!this.getSize().contains(e))return this._resetView(this.unproject(this.project(this.getCenter()).add(e)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ra,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),t.noMoveStart||this.fire("movestart"),t.animate!==!1){z(this._mapPane,"leaflet-pan-anim");var o=this._getMapPanePos().subtract(e).round();this._panAnim.run(this._mapPane,o,t.duration||.25,t.easeLinearity)}else this._rawPanBy(e),this.fire("move").fire("moveend");return this},flyTo:function(e,t,o){if(o=o||{},o.animate===!1||!E.any3d)return this.setView(e,t,o);this._stop();var c=this.project(this.getCenter()),l=this.project(e),d=this.getSize(),p=this._zoom;e=j(e),t=t===void 0?p:t;var g=Math.max(d.x,d.y),v=g*this.getZoomScale(p,t),y=l.distanceTo(c)||1,x=1.42,T=x*x;function B(se){var Un=se?-1:1,Hu=se?v:g,Gu=v*v-g*g+Un*T*T*y*y,Wu=2*Hu*T*y,bo=Gu/Wu,fc=Math.sqrt(bo*bo+1)-bo,qu=fc<1e-9?-18:Math.log(fc);return qu}function xe(se){return(Math.exp(se)-Math.exp(-se))/2}function ce(se){return(Math.exp(se)+Math.exp(-se))/2}function je(se){return xe(se)/ce(se)}var Me=B(0);function ri(se){return g*(ce(Me)/ce(Me+x*se))}function ju(se){return g*(ce(Me)*je(Me+x*se)-xe(Me))/T}function Uu(se){return 1-Math.pow(1-se,1.5)}var Zu=Date.now(),uc=(B(1)-Me)/x,$u=o.duration?1e3*o.duration:1e3*uc*.8;function dc(){var se=(Date.now()-Zu)/$u,Un=Uu(se)*uc;se<=1?(this._flyToFrame=ke(dc,this),this._move(this.unproject(c.add(l.subtract(c).multiplyBy(ju(Un)/y)),p),this.getScaleZoom(g/ri(Un),p),{flyTo:!0})):this._move(e,t)._moveEnd(!0)}return this._moveStart(!0,o.noMoveStart),dc.call(this),this},flyToBounds:function(e,t){var o=this._getBoundsCenterZoom(e,t);return this.flyTo(o.center,o.zoom,t)},setMaxBounds:function(e){return e=re(e),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),e.isValid()?(this.options.maxBounds=e,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(e){var t=this.options.minZoom;return this.options.minZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(e):this},setMaxZoom:function(e){var t=this.options.maxZoom;return this.options.maxZoom=e,this._loaded&&t!==e&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(e):this},panInsideBounds:function(e,t){this._enforcingBounds=!0;var o=this.getCenter(),c=this._limitCenter(o,this._zoom,re(e));return o.equals(c)||this.panTo(c,t),this._enforcingBounds=!1,this},panInside:function(e,t){t=t||{};var o=P(t.paddingTopLeft||t.padding||[0,0]),c=P(t.paddingBottomRight||t.padding||[0,0]),l=this.project(this.getCenter()),d=this.project(e),p=this.getPixelBounds(),g=Ie([p.min.add(o),p.max.subtract(c)]),v=g.getSize();if(!g.contains(d)){this._enforcingBounds=!0;var y=d.subtract(g.getCenter()),x=g.extend(d).getSize().subtract(v);l.x+=y.x<0?-x.x:x.x,l.y+=y.y<0?-x.y:x.y,this.panTo(this.unproject(l),t),this._enforcingBounds=!1}return this},invalidateSize:function(e){if(!this._loaded)return this;e=i({animate:!1,pan:!0},e===!0?{animate:!0}:e);var t=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var o=this.getSize(),c=t.divideBy(2).round(),l=o.divideBy(2).round(),d=c.subtract(l);return!d.x&&!d.y?this:(e.animate&&e.pan?this.panBy(d):(e.pan&&this._rawPanBy(d),this.fire("move"),e.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:t,newSize:o}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(e){if(e=this._locateOptions=i({timeout:1e4,watch:!1},e),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var t=a(this._handleGeolocationResponse,this),o=a(this._handleGeolocationError,this);return e.watch?this._locationWatchId=navigator.geolocation.watchPosition(t,o,e):navigator.geolocation.getCurrentPosition(t,o,e),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(e){if(this._container._leaflet_id){var t=e.code,o=e.message||(t===1?"permission denied":t===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:t,message:"Geolocation error: "+o+"."})}},_handleGeolocationResponse:function(e){if(this._container._leaflet_id){var t=e.coords.latitude,o=e.coords.longitude,c=new X(t,o),l=c.toBounds(e.coords.accuracy*2),d=this._locateOptions;if(d.setView){var p=this.getBoundsZoom(l);this.setView(c,d.maxZoom?Math.min(p,d.maxZoom):p)}var g={latlng:c,bounds:l,timestamp:e.timestamp};for(var v in e.coords)typeof e.coords[v]=="number"&&(g[v]=e.coords[v]);this.fire("locationfound",g)}},addHandler:function(e,t){if(!t)return this;var o=this[e]=new t(this);return this._handlers.push(o),this.options[e]&&o.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),te(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Ve(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var e;for(e in this._layers)this._layers[e].remove();for(e in this._panes)te(this._panes[e]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(e,t){var o="leaflet-pane"+(e?" leaflet-"+e.replace("Pane","")+"-pane":""),c=H("div",o,t||this._mapPane);return e&&(this._panes[e]=c),c},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var e=this.getPixelBounds(),t=this.unproject(e.getBottomLeft()),o=this.unproject(e.getTopRight());return new Ee(t,o)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(e,t,o){e=re(e),o=P(o||[0,0]);var c=this.getZoom()||0,l=this.getMinZoom(),d=this.getMaxZoom(),p=e.getNorthWest(),g=e.getSouthEast(),v=this.getSize().subtract(o),y=Ie(this.project(g,c),this.project(p,c)).getSize(),x=E.any3d?this.options.zoomSnap:1,T=v.x/y.x,B=v.y/y.y,xe=t?Math.max(T,B):Math.min(T,B);return c=this.getScaleZoom(xe,c),x&&(c=Math.round(c/(x/100))*(x/100),c=t?Math.ceil(c/x)*x:Math.floor(c/x)*x),Math.max(l,Math.min(d,c))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new N(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(e,t){var o=this._getTopLeftPoint(e,t);return new ee(o,o.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(e){return this.options.crs.getProjectedBounds(e===void 0?this.getZoom():e)},getPane:function(e){return typeof e=="string"?this._panes[e]:e},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(e,t){var o=this.options.crs;return t=t===void 0?this._zoom:t,o.scale(e)/o.scale(t)},getScaleZoom:function(e,t){var o=this.options.crs;t=t===void 0?this._zoom:t;var c=o.zoom(e*o.scale(t));return isNaN(c)?1/0:c},project:function(e,t){return t=t===void 0?this._zoom:t,this.options.crs.latLngToPoint(j(e),t)},unproject:function(e,t){return t=t===void 0?this._zoom:t,this.options.crs.pointToLatLng(P(e),t)},layerPointToLatLng:function(e){var t=P(e).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(e){var t=this.project(j(e))._round();return t._subtract(this.getPixelOrigin())},wrapLatLng:function(e){return this.options.crs.wrapLatLng(j(e))},wrapLatLngBounds:function(e){return this.options.crs.wrapLatLngBounds(re(e))},distance:function(e,t){return this.options.crs.distance(j(e),j(t))},containerPointToLayerPoint:function(e){return P(e).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(e){return P(e).add(this._getMapPanePos())},containerPointToLatLng:function(e){var t=this.containerPointToLayerPoint(P(e));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(e){return this.layerPointToContainerPoint(this.latLngToLayerPoint(j(e)))},mouseEventToContainerPoint:function(e){return Da(e,this._container)},mouseEventToLayerPoint:function(e){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(e))},mouseEventToLatLng:function(e){return this.layerPointToLatLng(this.mouseEventToLayerPoint(e))},_initContainer:function(e){var t=this._container=Ma(e);if(t){if(t._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");F(t,"scroll",this._onScroll,this),this._containerId=u(t)},_initLayout:function(){var e=this._container;this._fadeAnimated=this.options.fadeAnimation&&E.any3d,z(e,"leaflet-container"+(E.touch?" leaflet-touch":"")+(E.retina?" leaflet-retina":"")+(E.ielt9?" leaflet-oldie":"")+(E.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var t=Ti(e,"position");t!=="absolute"&&t!=="relative"&&t!=="fixed"&&t!=="sticky"&&(e.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var e=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),oe(this._mapPane,new N(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(z(e.markerPane,"leaflet-zoom-hide"),z(e.shadowPane,"leaflet-zoom-hide"))},_resetView:function(e,t,o){oe(this._mapPane,new N(0,0));var c=!this._loaded;this._loaded=!0,t=this._limitZoom(t),this.fire("viewprereset");var l=this._zoom!==t;this._moveStart(l,o)._move(e,t)._moveEnd(l),this.fire("viewreset"),c&&this.fire("load")},_moveStart:function(e,t){return e&&this.fire("zoomstart"),t||this.fire("movestart"),this},_move:function(e,t,o,c){t===void 0&&(t=this._zoom);var l=this._zoom!==t;return this._zoom=t,this._lastCenter=e,this._pixelOrigin=this._getNewPixelOrigin(e),c?o&&o.pinch&&this.fire("zoom",o):((l||o&&o.pinch)&&this.fire("zoom",o),this.fire("move",o)),this},_moveEnd:function(e){return e&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Ve(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(e){oe(this._mapPane,this._getMapPanePos().subtract(e))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(e){this._targets={},this._targets[u(this._container)]=this;var t=e?Q:F;t(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&t(window,"resize",this._onResize,this),E.any3d&&this.options.transform3DLimit&&(e?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Ve(this._resizeRequest),this._resizeRequest=ke(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var e=this._getMapPanePos();Math.max(Math.abs(e.x),Math.abs(e.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(e,t){for(var o=[],c,l=t==="mouseout"||t==="mouseover",d=e.target||e.srcElement,p=!1;d;){if(c=this._targets[u(d)],c&&(t==="click"||t==="preclick")&&this._draggableMoved(c)){p=!0;break}if(c&&c.listens(t,!0)&&(l&&!co(d,e)||(o.push(c),l))||d===this._container)break;d=d.parentNode}return!o.length&&!p&&!l&&this.listens(t,!0)&&(o=[this]),o},_isClickDisabled:function(e){for(;e&&e!==this._container;){if(e._leaflet_disable_click)return!0;e=e.parentNode}},_handleDOMEvent:function(e){var t=e.target||e.srcElement;if(!(!this._loaded||t._leaflet_disable_events||e.type==="click"&&this._isClickDisabled(t))){var o=e.type;o==="mousedown"&&io(t),this._fireDOMEvent(e,o)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(e,t,o){if(e.type==="click"){var c=i({},e);c.type="preclick",this._fireDOMEvent(c,c.type,o)}var l=this._findEventTargets(e,t);if(o){for(var d=[],p=0;p<o.length;p++)o[p].listens(t,!0)&&d.push(o[p]);l=d.concat(l)}if(l.length){t==="contextmenu"&&_e(e);var g=l[0],v={originalEvent:e};if(e.type!=="keypress"&&e.type!=="keydown"&&e.type!=="keyup"){var y=g.getLatLng&&(!g._radius||g._radius<=10);v.containerPoint=y?this.latLngToContainerPoint(g.getLatLng()):this.mouseEventToContainerPoint(e),v.layerPoint=this.containerPointToLayerPoint(v.containerPoint),v.latlng=y?g.getLatLng():this.layerPointToLatLng(v.layerPoint)}for(p=0;p<l.length;p++)if(l[p].fire(t,v,!0),v.originalEvent._stopped||l[p].options.bubblingMouseEvents===!1&&be(this._mouseEvents,t)!==-1)return}},_draggableMoved:function(e){return e=e.dragging&&e.dragging.enabled()?e:this,e.dragging&&e.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var e=0,t=this._handlers.length;e<t;e++)this._handlers[e].disable()},whenReady:function(e,t){return this._loaded?e.call(t||this,{target:this}):this.on("load",e,t),this},_getMapPanePos:function(){return Rt(this._mapPane)||new N(0,0)},_moved:function(){var e=this._getMapPanePos();return e&&!e.equals([0,0])},_getTopLeftPoint:function(e,t){var o=e&&t!==void 0?this._getNewPixelOrigin(e,t):this.getPixelOrigin();return o.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(e,t){var o=this.getSize()._divideBy(2);return this.project(e,t)._subtract(o)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(e,t,o){var c=this._getNewPixelOrigin(o,t);return this.project(e,t)._subtract(c)},_latLngBoundsToNewLayerBounds:function(e,t,o){var c=this._getNewPixelOrigin(o,t);return Ie([this.project(e.getSouthWest(),t)._subtract(c),this.project(e.getNorthWest(),t)._subtract(c),this.project(e.getSouthEast(),t)._subtract(c),this.project(e.getNorthEast(),t)._subtract(c)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(e){return this.latLngToLayerPoint(e).subtract(this._getCenterLayerPoint())},_limitCenter:function(e,t,o){if(!o)return e;var c=this.project(e,t),l=this.getSize().divideBy(2),d=new ee(c.subtract(l),c.add(l)),p=this._getBoundsOffset(d,o,t);return Math.abs(p.x)<=1&&Math.abs(p.y)<=1?e:this.unproject(c.add(p),t)},_limitOffset:function(e,t){if(!t)return e;var o=this.getPixelBounds(),c=new ee(o.min.add(e),o.max.add(e));return e.add(this._getBoundsOffset(c,t))},_getBoundsOffset:function(e,t,o){var c=Ie(this.project(t.getNorthEast(),o),this.project(t.getSouthWest(),o)),l=c.min.subtract(e.min),d=c.max.subtract(e.max),p=this._rebound(l.x,-d.x),g=this._rebound(l.y,-d.y);return new N(p,g)},_rebound:function(e,t){return e+t>0?Math.round(e-t)/2:Math.max(0,Math.ceil(e))-Math.max(0,Math.floor(t))},_limitZoom:function(e){var t=this.getMinZoom(),o=this.getMaxZoom(),c=E.any3d?this.options.zoomSnap:1;return c&&(e=Math.round(e/c)*c),Math.max(t,Math.min(o,e))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){ne(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(e,t){var o=this._getCenterOffset(e)._trunc();return(t&&t.animate)!==!0&&!this.getSize().contains(o)?!1:(this.panBy(o,t),!0)},_createAnimProxy:function(){var e=this._proxy=H("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(e),this.on("zoomanim",function(t){var o=Kr,c=this._proxy.style[o];Pt(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),c===this._proxy.style[o]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){te(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var e=this.getCenter(),t=this.getZoom();Pt(this._proxy,this.project(e,t),this.getZoomScale(t,1))},_catchTransitionEnd:function(e){this._animatingZoom&&e.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(e,t,o){if(this._animatingZoom)return!0;if(o=o||{},!this._zoomAnimated||o.animate===!1||this._nothingToAnimate()||Math.abs(t-this._zoom)>this.options.zoomAnimationThreshold)return!1;var c=this.getZoomScale(t),l=this._getCenterOffset(e)._divideBy(1-1/c);return o.animate!==!0&&!this.getSize().contains(l)?!1:(ke(function(){this._moveStart(!0,o.noMoveStart||!1)._animateZoom(e,t,!0)},this),!0)},_animateZoom:function(e,t,o,c){this._mapPane&&(o&&(this._animatingZoom=!0,this._animateToCenter=e,this._animateToZoom=t,z(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:e,zoom:t,noUpdate:c}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&ne(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function ru(e,t){return new U(e,t)}var qe=at.extend({options:{position:"topright"},initialize:function(e){k(this,e)},getPosition:function(){return this.options.position},setPosition:function(e){var t=this._map;return t&&t.removeControl(this),this.options.position=e,t&&t.addControl(this),this},getContainer:function(){return this._container},addTo:function(e){this.remove(),this._map=e;var t=this._container=this.onAdd(e),o=this.getPosition(),c=e._controlCorners[o];return z(t,"leaflet-control"),o.indexOf("bottom")!==-1?c.insertBefore(t,c.firstChild):c.appendChild(t),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(te(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(e){this._map&&e&&e.screenX>0&&e.screenY>0&&this._map.getContainer().focus()}}),Ri=function(e){return new qe(e)};U.include({addControl:function(e){return e.addTo(this),this},removeControl:function(e){return e.remove(),this},_initControlPos:function(){var e=this._controlCorners={},t="leaflet-",o=this._controlContainer=H("div",t+"control-container",this._container);function c(l,d){var p=t+l+" "+t+d;e[l+d]=H("div",p,o)}c("top","left"),c("top","right"),c("bottom","left"),c("bottom","right")},_clearControlPos:function(){for(var e in this._controlCorners)te(this._controlCorners[e]);te(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Oa=qe.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(e,t,o,c){return o<c?-1:c<o?1:0}},initialize:function(e,t,o){k(this,o),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var c in e)this._addLayer(e[c],c);for(c in t)this._addLayer(t[c],c,!0)},onAdd:function(e){this._initLayout(),this._update(),this._map=e,e.on("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(e){return qe.prototype.addTo.call(this,e),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(e,t){return this._addLayer(e,t),this._map?this._update():this},addOverlay:function(e,t){return this._addLayer(e,t,!0),this._map?this._update():this},removeLayer:function(e){e.off("add remove",this._onLayerChange,this);var t=this._getLayer(u(e));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){z(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var e=this._map.getSize().y-(this._container.offsetTop+50);return e<this._section.clientHeight?(z(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=e+"px"):ne(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return ne(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var e="leaflet-control-layers",t=this._container=H("div",e),o=this.options.collapsed;t.setAttribute("aria-haspopup",!0),Pi(t),ao(t);var c=this._section=H("section",e+"-list");o&&(this._map.on("click",this.collapse,this),F(t,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var l=this._layersLink=H("a",e+"-toggle",t);l.href="#",l.title="Layers",l.setAttribute("role","button"),F(l,{keydown:function(d){d.keyCode===13&&this._expandSafely()},click:function(d){_e(d),this._expandSafely()}},this),o||this.expand(),this._baseLayersList=H("div",e+"-base",c),this._separator=H("div",e+"-separator",c),this._overlaysList=H("div",e+"-overlays",c),t.appendChild(c)},_getLayer:function(e){for(var t=0;t<this._layers.length;t++)if(this._layers[t]&&u(this._layers[t].layer)===e)return this._layers[t]},_addLayer:function(e,t,o){this._map&&e.on("add remove",this._onLayerChange,this),this._layers.push({layer:e,name:t,overlay:o}),this.options.sortLayers&&this._layers.sort(a(function(c,l){return this.options.sortFunction(c.layer,l.layer,c.name,l.name)},this)),this.options.autoZIndex&&e.setZIndex&&(this._lastZIndex++,e.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;En(this._baseLayersList),En(this._overlaysList),this._layerControlInputs=[];var e,t,o,c,l=0;for(o=0;o<this._layers.length;o++)c=this._layers[o],this._addItem(c),t=t||c.overlay,e=e||!c.overlay,l+=c.overlay?0:1;return this.options.hideSingleBase&&(e=e&&l>1,this._baseLayersList.style.display=e?"":"none"),this._separator.style.display=t&&e?"":"none",this},_onLayerChange:function(e){this._handlingClick||this._update();var t=this._getLayer(u(e.target)),o=t.overlay?e.type==="add"?"overlayadd":"overlayremove":e.type==="add"?"baselayerchange":null;o&&this._map.fire(o,t)},_createRadioElement:function(e,t){var o='<input type="radio" class="leaflet-control-layers-selector" name="'+e+'"'+(t?' checked="checked"':"")+"/>",c=document.createElement("div");return c.innerHTML=o,c.firstChild},_addItem:function(e){var t=document.createElement("label"),o=this._map.hasLayer(e.layer),c;e.overlay?(c=document.createElement("input"),c.type="checkbox",c.className="leaflet-control-layers-selector",c.defaultChecked=o):c=this._createRadioElement("leaflet-base-layers_"+u(this),o),this._layerControlInputs.push(c),c.layerId=u(e.layer),F(c,"click",this._onInputClick,this);var l=document.createElement("span");l.innerHTML=" "+e.name;var d=document.createElement("span");t.appendChild(d),d.appendChild(c),d.appendChild(l);var p=e.overlay?this._overlaysList:this._baseLayersList;return p.appendChild(t),this._checkDisabledLayers(),t},_onInputClick:function(){if(!this._preventClick){var e=this._layerControlInputs,t,o,c=[],l=[];this._handlingClick=!0;for(var d=e.length-1;d>=0;d--)t=e[d],o=this._getLayer(t.layerId).layer,t.checked?c.push(o):t.checked||l.push(o);for(d=0;d<l.length;d++)this._map.hasLayer(l[d])&&this._map.removeLayer(l[d]);for(d=0;d<c.length;d++)this._map.hasLayer(c[d])||this._map.addLayer(c[d]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var e=this._layerControlInputs,t,o,c=this._map.getZoom(),l=e.length-1;l>=0;l--)t=e[l],o=this._getLayer(t.layerId).layer,t.disabled=o.options.minZoom!==void 0&&c<o.options.minZoom||o.options.maxZoom!==void 0&&c>o.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var e=this._section;this._preventClick=!0,F(e,"click",_e),this.expand();var t=this;setTimeout(function(){Q(e,"click",_e),t._preventClick=!1})}}),ou=function(e,t,o){return new Oa(e,t,o)},lo=qe.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(e){var t="leaflet-control-zoom",o=H("div",t+" leaflet-bar"),c=this.options;return this._zoomInButton=this._createButton(c.zoomInText,c.zoomInTitle,t+"-in",o,this._zoomIn),this._zoomOutButton=this._createButton(c.zoomOutText,c.zoomOutTitle,t+"-out",o,this._zoomOut),this._updateDisabled(),e.on("zoomend zoomlevelschange",this._updateDisabled,this),o},onRemove:function(e){e.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(e){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(e.shiftKey?3:1))},_zoomOut:function(e){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(e.shiftKey?3:1))},_createButton:function(e,t,o,c,l){var d=H("a",o,c);return d.innerHTML=e,d.href="#",d.title=t,d.setAttribute("role","button"),d.setAttribute("aria-label",t),Pi(d),F(d,"click",Lt),F(d,"click",l,this),F(d,"click",this._refocusOnMap,this),d},_updateDisabled:function(){var e=this._map,t="leaflet-disabled";ne(this._zoomInButton,t),ne(this._zoomOutButton,t),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||e._zoom===e.getMinZoom())&&(z(this._zoomOutButton,t),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||e._zoom===e.getMaxZoom())&&(z(this._zoomInButton,t),this._zoomInButton.setAttribute("aria-disabled","true"))}});U.mergeOptions({zoomControl:!0}),U.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new lo,this.addControl(this.zoomControl))});var su=function(e){return new lo(e)},La=qe.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(e){var t="leaflet-control-scale",o=H("div",t),c=this.options;return this._addScales(c,t+"-line",o),e.on(c.updateWhenIdle?"moveend":"move",this._update,this),e.whenReady(this._update,this),o},onRemove:function(e){e.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(e,t,o){e.metric&&(this._mScale=H("div",t,o)),e.imperial&&(this._iScale=H("div",t,o))},_update:function(){var e=this._map,t=e.getSize().y/2,o=e.distance(e.containerPointToLatLng([0,t]),e.containerPointToLatLng([this.options.maxWidth,t]));this._updateScales(o)},_updateScales:function(e){this.options.metric&&e&&this._updateMetric(e),this.options.imperial&&e&&this._updateImperial(e)},_updateMetric:function(e){var t=this._getRoundNum(e),o=t<1e3?t+" m":t/1e3+" km";this._updateScale(this._mScale,o,t/e)},_updateImperial:function(e){var t=e*3.2808399,o,c,l;t>5280?(o=t/5280,c=this._getRoundNum(o),this._updateScale(this._iScale,c+" mi",c/o)):(l=this._getRoundNum(t),this._updateScale(this._iScale,l+" ft",l/t))},_updateScale:function(e,t,o){e.style.width=Math.round(this.options.maxWidth*o)+"px",e.innerHTML=t},_getRoundNum:function(e){var t=Math.pow(10,(Math.floor(e)+"").length-1),o=e/t;return o=o>=10?10:o>=5?5:o>=3?3:o>=2?2:1,t*o}}),au=function(e){return new La(e)},cu='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',ho=qe.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(E.inlineSvg?cu+" ":"")+"Leaflet</a>"},initialize:function(e){k(this,e),this._attributions={}},onAdd:function(e){e.attributionControl=this,this._container=H("div","leaflet-control-attribution"),Pi(this._container);for(var t in e._layers)e._layers[t].getAttribution&&this.addAttribution(e._layers[t].getAttribution());return this._update(),e.on("layeradd",this._addAttribution,this),this._container},onRemove:function(e){e.off("layeradd",this._addAttribution,this)},_addAttribution:function(e){e.layer.getAttribution&&(this.addAttribution(e.layer.getAttribution()),e.layer.once("remove",function(){this.removeAttribution(e.layer.getAttribution())},this))},setPrefix:function(e){return this.options.prefix=e,this._update(),this},addAttribution:function(e){return e?(this._attributions[e]||(this._attributions[e]=0),this._attributions[e]++,this._update(),this):this},removeAttribution:function(e){return e?(this._attributions[e]&&(this._attributions[e]--,this._update()),this):this},_update:function(){if(this._map){var e=[];for(var t in this._attributions)this._attributions[t]&&e.push(t);var o=[];this.options.prefix&&o.push(this.options.prefix),e.length&&o.push(e.join(", ")),this._container.innerHTML=o.join(' <span aria-hidden="true">|</span> ')}}});U.mergeOptions({attributionControl:!0}),U.addInitHook(function(){this.options.attributionControl&&new ho().addTo(this)});var lu=function(e){return new ho(e)};qe.Layers=Oa,qe.Zoom=lo,qe.Scale=La,qe.Attribution=ho,Ri.layers=ou,Ri.zoom=su,Ri.scale=au,Ri.attribution=lu;var it=at.extend({initialize:function(e){this._map=e},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});it.addTo=function(e,t){return e.addHandler(t,this),this};var hu={Events:Se},Na=E.touch?"touchstart mousedown":"mousedown",wt=ki.extend({options:{clickTolerance:3},initialize:function(e,t,o,c){k(this,c),this._element=e,this._dragStartTarget=t||e,this._preventOutline=o},enable:function(){this._enabled||(F(this._dragStartTarget,Na,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(wt._dragging===this&&this.finishDrag(!0),Q(this._dragStartTarget,Na,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(e){if(this._enabled&&(this._moved=!1,!Yr(this._element,"leaflet-zoom-anim"))){if(e.touches&&e.touches.length!==1){wt._dragging===this&&this.finishDrag();return}if(!(wt._dragging||e.shiftKey||e.which!==1&&e.button!==1&&!e.touches)&&(wt._dragging=this,this._preventOutline&&io(this._element),Qr(),Ai(),!this._moving)){this.fire("down");var t=e.touches?e.touches[0]:e,o=Ta(this._element);this._startPoint=new N(t.clientX,t.clientY),this._startPos=Rt(this._element),this._parentScale=no(o);var c=e.type==="mousedown";F(document,c?"mousemove":"touchmove",this._onMove,this),F(document,c?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(e){if(this._enabled){if(e.touches&&e.touches.length>1){this._moved=!0;return}var t=e.touches&&e.touches.length===1?e.touches[0]:e,o=new N(t.clientX,t.clientY)._subtract(this._startPoint);!o.x&&!o.y||Math.abs(o.x)+Math.abs(o.y)<this.options.clickTolerance||(o.x/=this._parentScale.x,o.y/=this._parentScale.y,_e(e),this._moved||(this.fire("dragstart"),this._moved=!0,z(document.body,"leaflet-dragging"),this._lastTarget=e.target||e.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),z(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(o),this._moving=!0,this._lastEvent=e,this._updatePosition())}},_updatePosition:function(){var e={originalEvent:this._lastEvent};this.fire("predrag",e),oe(this._element,this._newPos),this.fire("drag",e)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(e){ne(document.body,"leaflet-dragging"),this._lastTarget&&(ne(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Q(document,"mousemove touchmove",this._onMove,this),Q(document,"mouseup touchend touchcancel",this._onUp,this),eo(),Si();var t=this._moved&&this._moving;this._moving=!1,wt._dragging=!1,t&&this.fire("dragend",{noInertia:e,distance:this._newPos.distanceTo(this._startPos)})}});function Fa(e,t,o){var c,l=[1,4,2,8],d,p,g,v,y,x,T,B;for(d=0,x=e.length;d<x;d++)e[d]._code=Nt(e[d],t);for(g=0;g<4;g++){for(T=l[g],c=[],d=0,x=e.length,p=x-1;d<x;p=d++)v=e[d],y=e[p],v._code&T?y._code&T||(B=Dn(y,v,T,t,o),B._code=Nt(B,t),c.push(B)):(y._code&T&&(B=Dn(y,v,T,t,o),B._code=Nt(B,t),c.push(B)),c.push(v));e=c}return e}function Va(e,t){var o,c,l,d,p,g,v,y,x;if(!e||e.length===0)throw new Error("latlngs not passed");Be(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var T=j([0,0]),B=re(e),xe=B.getNorthWest().distanceTo(B.getSouthWest())*B.getNorthEast().distanceTo(B.getNorthWest());xe<1700&&(T=uo(e));var ce=e.length,je=[];for(o=0;o<ce;o++){var Me=j(e[o]);je.push(t.project(j([Me.lat-T.lat,Me.lng-T.lng])))}for(g=v=y=0,o=0,c=ce-1;o<ce;c=o++)l=je[o],d=je[c],p=l.y*d.x-d.y*l.x,v+=(l.x+d.x)*p,y+=(l.y+d.y)*p,g+=p*3;g===0?x=je[0]:x=[v/g,y/g];var ri=t.unproject(P(x));return j([ri.lat+T.lat,ri.lng+T.lng])}function uo(e){for(var t=0,o=0,c=0,l=0;l<e.length;l++){var d=j(e[l]);t+=d.lat,o+=d.lng,c++}return j([t/c,o/c])}var uu={__proto__:null,clipPolygon:Fa,polygonCenter:Va,centroid:uo};function za(e,t){if(!t||!e.length)return e.slice();var o=t*t;return e=pu(e,o),e=fu(e,o),e}function Ba(e,t,o){return Math.sqrt(Oi(e,t,o,!0))}function du(e,t,o){return Oi(e,t,o)}function fu(e,t){var o=e.length,c=typeof Uint8Array<"u"?Uint8Array:Array,l=new c(o);l[0]=l[o-1]=1,fo(e,l,t,0,o-1);var d,p=[];for(d=0;d<o;d++)l[d]&&p.push(e[d]);return p}function fo(e,t,o,c,l){var d=0,p,g,v;for(g=c+1;g<=l-1;g++)v=Oi(e[g],e[c],e[l],!0),v>d&&(p=g,d=v);d>o&&(t[p]=1,fo(e,t,o,c,p),fo(e,t,o,p,l))}function pu(e,t){for(var o=[e[0]],c=1,l=0,d=e.length;c<d;c++)mu(e[c],e[l])>t&&(o.push(e[c]),l=c);return l<d-1&&o.push(e[d-1]),o}var ja;function Ua(e,t,o,c,l){var d=c?ja:Nt(e,o),p=Nt(t,o),g,v,y;for(ja=p;;){if(!(d|p))return[e,t];if(d&p)return!1;g=d||p,v=Dn(e,t,g,o,l),y=Nt(v,o),g===d?(e=v,d=y):(t=v,p=y)}}function Dn(e,t,o,c,l){var d=t.x-e.x,p=t.y-e.y,g=c.min,v=c.max,y,x;return o&8?(y=e.x+d*(v.y-e.y)/p,x=v.y):o&4?(y=e.x+d*(g.y-e.y)/p,x=g.y):o&2?(y=v.x,x=e.y+p*(v.x-e.x)/d):o&1&&(y=g.x,x=e.y+p*(g.x-e.x)/d),new N(y,x,l)}function Nt(e,t){var o=0;return e.x<t.min.x?o|=1:e.x>t.max.x&&(o|=2),e.y<t.min.y?o|=4:e.y>t.max.y&&(o|=8),o}function mu(e,t){var o=t.x-e.x,c=t.y-e.y;return o*o+c*c}function Oi(e,t,o,c){var l=t.x,d=t.y,p=o.x-l,g=o.y-d,v=p*p+g*g,y;return v>0&&(y=((e.x-l)*p+(e.y-d)*g)/v,y>1?(l=o.x,d=o.y):y>0&&(l+=p*y,d+=g*y)),p=e.x-l,g=e.y-d,c?p*p+g*g:new N(l,d)}function Be(e){return!K(e[0])||typeof e[0][0]!="object"&&typeof e[0][0]<"u"}function Za(e){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Be(e)}function $a(e,t){var o,c,l,d,p,g,v,y;if(!e||e.length===0)throw new Error("latlngs not passed");Be(e)||(console.warn("latlngs are not flat! Only the first ring will be used"),e=e[0]);var x=j([0,0]),T=re(e),B=T.getNorthWest().distanceTo(T.getSouthWest())*T.getNorthEast().distanceTo(T.getNorthWest());B<1700&&(x=uo(e));var xe=e.length,ce=[];for(o=0;o<xe;o++){var je=j(e[o]);ce.push(t.project(j([je.lat-x.lat,je.lng-x.lng])))}for(o=0,c=0;o<xe-1;o++)c+=ce[o].distanceTo(ce[o+1])/2;if(c===0)y=ce[0];else for(o=0,d=0;o<xe-1;o++)if(p=ce[o],g=ce[o+1],l=p.distanceTo(g),d+=l,d>c){v=(d-c)/l,y=[g.x-v*(g.x-p.x),g.y-v*(g.y-p.y)];break}var Me=t.unproject(P(y));return j([Me.lat+x.lat,Me.lng+x.lng])}var gu={__proto__:null,simplify:za,pointToSegmentDistance:Ba,closestPointOnSegment:du,clipSegment:Ua,_getEdgeIntersection:Dn,_getBitCode:Nt,_sqClosestPointOnSegment:Oi,isFlat:Be,_flat:Za,polylineCenter:$a},po={project:function(e){return new N(e.lng,e.lat)},unproject:function(e){return new X(e.y,e.x)},bounds:new ee([-180,-90],[180,90])},mo={R:6378137,R_MINOR:6356752314245179e-9,bounds:new ee([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(e){var t=Math.PI/180,o=this.R,c=e.lat*t,l=this.R_MINOR/o,d=Math.sqrt(1-l*l),p=d*Math.sin(c),g=Math.tan(Math.PI/4-c/2)/Math.pow((1-p)/(1+p),d/2);return c=-o*Math.log(Math.max(g,1e-10)),new N(e.lng*t*o,c)},unproject:function(e){for(var t=180/Math.PI,o=this.R,c=this.R_MINOR/o,l=Math.sqrt(1-c*c),d=Math.exp(-e.y/o),p=Math.PI/2-2*Math.atan(d),g=0,v=.1,y;g<15&&Math.abs(v)>1e-7;g++)y=l*Math.sin(p),y=Math.pow((1-y)/(1+y),l/2),v=Math.PI/2-2*Math.atan(d*y)-p,p+=v;return new X(p*t,e.x*t/o)}},_u={__proto__:null,LonLat:po,Mercator:mo,SphericalMercator:Br},vu=i({},bt,{code:"EPSG:3395",projection:mo,transformation:function(){var e=.5/(Math.PI*mo.R);return Ii(e,.5,-e,.5)}()}),Ha=i({},bt,{code:"EPSG:4326",projection:po,transformation:Ii(1/180,1,-1/180,.5)}),yu=i({},ct,{projection:po,transformation:Ii(1,0,-1,0),scale:function(e){return Math.pow(2,e)},zoom:function(e){return Math.log(e)/Math.LN2},distance:function(e,t){var o=t.lng-e.lng,c=t.lat-e.lat;return Math.sqrt(o*o+c*c)},infinite:!0});ct.Earth=bt,ct.EPSG3395=vu,ct.EPSG3857=Ur,ct.EPSG900913=Ih,ct.EPSG4326=Ha,ct.Simple=yu;var Ke=ki.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(e){return e.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(e){return e&&e.removeLayer(this),this},getPane:function(e){return this._map.getPane(e?this.options[e]||e:this.options.pane)},addInteractiveTarget:function(e){return this._map._targets[u(e)]=this,this},removeInteractiveTarget:function(e){return delete this._map._targets[u(e)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(e){var t=e.target;if(t.hasLayer(this)){if(this._map=t,this._zoomAnimated=t._zoomAnimated,this.getEvents){var o=this.getEvents();t.on(o,this),this.once("remove",function(){t.off(o,this)},this)}this.onAdd(t),this.fire("add"),t.fire("layeradd",{layer:this})}}});U.include({addLayer:function(e){if(!e._layerAdd)throw new Error("The provided object is not a Layer.");var t=u(e);return this._layers[t]?this:(this._layers[t]=e,e._mapToAdd=this,e.beforeAdd&&e.beforeAdd(this),this.whenReady(e._layerAdd,e),this)},removeLayer:function(e){var t=u(e);return this._layers[t]?(this._loaded&&e.onRemove(this),delete this._layers[t],this._loaded&&(this.fire("layerremove",{layer:e}),e.fire("remove")),e._map=e._mapToAdd=null,this):this},hasLayer:function(e){return u(e)in this._layers},eachLayer:function(e,t){for(var o in this._layers)e.call(t,this._layers[o]);return this},_addLayers:function(e){e=e?K(e)?e:[e]:[];for(var t=0,o=e.length;t<o;t++)this.addLayer(e[t])},_addZoomLimit:function(e){(!isNaN(e.options.maxZoom)||!isNaN(e.options.minZoom))&&(this._zoomBoundLayers[u(e)]=e,this._updateZoomLevels())},_removeZoomLimit:function(e){var t=u(e);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var e=1/0,t=-1/0,o=this._getZoomSpan();for(var c in this._zoomBoundLayers){var l=this._zoomBoundLayers[c].options;e=l.minZoom===void 0?e:Math.min(e,l.minZoom),t=l.maxZoom===void 0?t:Math.max(t,l.maxZoom)}this._layersMaxZoom=t===-1/0?void 0:t,this._layersMinZoom=e===1/0?void 0:e,o!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Qt=Ke.extend({initialize:function(e,t){k(this,t),this._layers={};var o,c;if(e)for(o=0,c=e.length;o<c;o++)this.addLayer(e[o])},addLayer:function(e){var t=this.getLayerId(e);return this._layers[t]=e,this._map&&this._map.addLayer(e),this},removeLayer:function(e){var t=e in this._layers?e:this.getLayerId(e);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(e){var t=typeof e=="number"?e:this.getLayerId(e);return t in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(e){var t=Array.prototype.slice.call(arguments,1),o,c;for(o in this._layers)c=this._layers[o],c[e]&&c[e].apply(c,t);return this},onAdd:function(e){this.eachLayer(e.addLayer,e)},onRemove:function(e){this.eachLayer(e.removeLayer,e)},eachLayer:function(e,t){for(var o in this._layers)e.call(t,this._layers[o]);return this},getLayer:function(e){return this._layers[e]},getLayers:function(){var e=[];return this.eachLayer(e.push,e),e},setZIndex:function(e){return this.invoke("setZIndex",e)},getLayerId:function(e){return u(e)}}),bu=function(e,t){return new Qt(e,t)},lt=Qt.extend({addLayer:function(e){return this.hasLayer(e)?this:(e.addEventParent(this),Qt.prototype.addLayer.call(this,e),this.fire("layeradd",{layer:e}))},removeLayer:function(e){return this.hasLayer(e)?(e in this._layers&&(e=this._layers[e]),e.removeEventParent(this),Qt.prototype.removeLayer.call(this,e),this.fire("layerremove",{layer:e})):this},setStyle:function(e){return this.invoke("setStyle",e)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var e=new Ee;for(var t in this._layers){var o=this._layers[t];e.extend(o.getBounds?o.getBounds():o.getLatLng())}return e}}),wu=function(e,t){return new lt(e,t)},ei=at.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(e){k(this,e)},createIcon:function(e){return this._createIcon("icon",e)},createShadow:function(e){return this._createIcon("shadow",e)},_createIcon:function(e,t){var o=this._getIconUrl(e);if(!o){if(e==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var c=this._createImg(o,t&&t.tagName==="IMG"?t:null);return this._setIconStyles(c,e),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),c},_setIconStyles:function(e,t){var o=this.options,c=o[t+"Size"];typeof c=="number"&&(c=[c,c]);var l=P(c),d=P(t==="shadow"&&o.shadowAnchor||o.iconAnchor||l&&l.divideBy(2,!0));e.className="leaflet-marker-"+t+" "+(o.className||""),d&&(e.style.marginLeft=-d.x+"px",e.style.marginTop=-d.y+"px"),l&&(e.style.width=l.x+"px",e.style.height=l.y+"px")},_createImg:function(e,t){return t=t||document.createElement("img"),t.src=e,t},_getIconUrl:function(e){return E.retina&&this.options[e+"RetinaUrl"]||this.options[e+"Url"]}});function xu(e){return new ei(e)}var Li=ei.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(e){return typeof Li.imagePath!="string"&&(Li.imagePath=this._detectIconPath()),(this.options.imagePath||Li.imagePath)+ei.prototype._getIconUrl.call(this,e)},_stripUrl:function(e){var t=function(o,c,l){var d=c.exec(o);return d&&d[l]};return e=t(e,/^url\((['"])?(.+)\1\)$/,2),e&&t(e,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var e=H("div","leaflet-default-icon-path",document.body),t=Ti(e,"background-image")||Ti(e,"backgroundImage");if(document.body.removeChild(e),t=this._stripUrl(t),t)return t;var o=document.querySelector('link[href$="leaflet.css"]');return o?o.href.substring(0,o.href.length-11-1):""}}),Ga=it.extend({initialize:function(e){this._marker=e},addHooks:function(){var e=this._marker._icon;this._draggable||(this._draggable=new wt(e,e,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),z(e,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&ne(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(e){var t=this._marker,o=t._map,c=this._marker.options.autoPanSpeed,l=this._marker.options.autoPanPadding,d=Rt(t._icon),p=o.getPixelBounds(),g=o.getPixelOrigin(),v=Ie(p.min._subtract(g).add(l),p.max._subtract(g).subtract(l));if(!v.contains(d)){var y=P((Math.max(v.max.x,d.x)-v.max.x)/(p.max.x-v.max.x)-(Math.min(v.min.x,d.x)-v.min.x)/(p.min.x-v.min.x),(Math.max(v.max.y,d.y)-v.max.y)/(p.max.y-v.max.y)-(Math.min(v.min.y,d.y)-v.min.y)/(p.min.y-v.min.y)).multiplyBy(c);o.panBy(y,{animate:!1}),this._draggable._newPos._add(y),this._draggable._startPos._add(y),oe(t._icon,this._draggable._newPos),this._onDrag(e),this._panRequest=ke(this._adjustPan.bind(this,e))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(e){this._marker.options.autoPan&&(Ve(this._panRequest),this._panRequest=ke(this._adjustPan.bind(this,e)))},_onDrag:function(e){var t=this._marker,o=t._shadow,c=Rt(t._icon),l=t._map.layerPointToLatLng(c);o&&oe(o,c),t._latlng=l,e.latlng=l,e.oldLatLng=this._oldLatLng,t.fire("move",e).fire("drag",e)},_onDragEnd:function(e){Ve(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",e)}}),Pn=Ke.extend({options:{icon:new Li,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(e,t){k(this,t),this._latlng=j(e)},onAdd:function(e){this._zoomAnimated=this._zoomAnimated&&e.options.markerZoomAnimation,this._zoomAnimated&&e.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(e){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&e.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(e){var t=this._latlng;return this._latlng=j(e),this.update(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},setZIndexOffset:function(e){return this.options.zIndexOffset=e,this.update()},getIcon:function(){return this.options.icon},setIcon:function(e){return this.options.icon=e,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var e=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(e)}return this},_initIcon:function(){var e=this.options,t="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),o=e.icon.createIcon(this._icon),c=!1;o!==this._icon&&(this._icon&&this._removeIcon(),c=!0,e.title&&(o.title=e.title),o.tagName==="IMG"&&(o.alt=e.alt||"")),z(o,t),e.keyboard&&(o.tabIndex="0",o.setAttribute("role","button")),this._icon=o,e.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&F(o,"focus",this._panOnFocus,this);var l=e.icon.createShadow(this._shadow),d=!1;l!==this._shadow&&(this._removeShadow(),d=!0),l&&(z(l,t),l.alt=""),this._shadow=l,e.opacity<1&&this._updateOpacity(),c&&this.getPane().appendChild(this._icon),this._initInteraction(),l&&d&&this.getPane(e.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Q(this._icon,"focus",this._panOnFocus,this),te(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&te(this._shadow),this._shadow=null},_setPos:function(e){this._icon&&oe(this._icon,e),this._shadow&&oe(this._shadow,e),this._zIndex=e.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(e){this._icon&&(this._icon.style.zIndex=this._zIndex+e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center).round();this._setPos(t)},_initInteraction:function(){if(this.options.interactive&&(z(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),Ga)){var e=this.options.draggable;this.dragging&&(e=this.dragging.enabled(),this.dragging.disable()),this.dragging=new Ga(this),e&&this.dragging.enable()}},setOpacity:function(e){return this.options.opacity=e,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var e=this.options.opacity;this._icon&&ze(this._icon,e),this._shadow&&ze(this._shadow,e)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var e=this._map;if(e){var t=this.options.icon.options,o=t.iconSize?P(t.iconSize):P(0,0),c=t.iconAnchor?P(t.iconAnchor):P(0,0);e.panInside(this._latlng,{paddingTopLeft:c,paddingBottomRight:o.subtract(c)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Cu(e,t){return new Pn(e,t)}var xt=Ke.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(e){this._renderer=e.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(e){return k(this,e),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&e&&Object.prototype.hasOwnProperty.call(e,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Rn=xt.extend({options:{fill:!0,radius:10},initialize:function(e,t){k(this,t),this._latlng=j(e),this._radius=this.options.radius},setLatLng:function(e){var t=this._latlng;return this._latlng=j(e),this.redraw(),this.fire("move",{oldLatLng:t,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(e){return this.options.radius=this._radius=e,this.redraw()},getRadius:function(){return this._radius},setStyle:function(e){var t=e&&e.radius||this._radius;return xt.prototype.setStyle.call(this,e),this.setRadius(t),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var e=this._radius,t=this._radiusY||e,o=this._clickTolerance(),c=[e+o,t+o];this._pxBounds=new ee(this._point.subtract(c),this._point.add(c))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(e){return e.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function ku(e,t){return new Rn(e,t)}var go=Rn.extend({initialize:function(e,t,o){if(typeof t=="number"&&(t=i({},o,{radius:t})),k(this,t),this._latlng=j(e),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(e){return this._mRadius=e,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var e=[this._radius,this._radiusY||this._radius];return new Ee(this._map.layerPointToLatLng(this._point.subtract(e)),this._map.layerPointToLatLng(this._point.add(e)))},setStyle:xt.prototype.setStyle,_project:function(){var e=this._latlng.lng,t=this._latlng.lat,o=this._map,c=o.options.crs;if(c.distance===bt.distance){var l=Math.PI/180,d=this._mRadius/bt.R/l,p=o.project([t+d,e]),g=o.project([t-d,e]),v=p.add(g).divideBy(2),y=o.unproject(v).lat,x=Math.acos((Math.cos(d*l)-Math.sin(t*l)*Math.sin(y*l))/(Math.cos(t*l)*Math.cos(y*l)))/l;(isNaN(x)||x===0)&&(x=d/Math.cos(Math.PI/180*t)),this._point=v.subtract(o.getPixelOrigin()),this._radius=isNaN(x)?0:v.x-o.project([y,e-x]).x,this._radiusY=v.y-p.y}else{var T=c.unproject(c.project(this._latlng).subtract([this._mRadius,0]));this._point=o.latLngToLayerPoint(this._latlng),this._radius=this._point.x-o.latLngToLayerPoint(T).x}this._updateBounds()}});function Iu(e,t,o){return new go(e,t,o)}var ht=xt.extend({options:{smoothFactor:1,noClip:!1},initialize:function(e,t){k(this,t),this._setLatLngs(e)},getLatLngs:function(){return this._latlngs},setLatLngs:function(e){return this._setLatLngs(e),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(e){for(var t=1/0,o=null,c=Oi,l,d,p=0,g=this._parts.length;p<g;p++)for(var v=this._parts[p],y=1,x=v.length;y<x;y++){l=v[y-1],d=v[y];var T=c(e,l,d,!0);T<t&&(t=T,o=c(e,l,d))}return o&&(o.distance=Math.sqrt(t)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return $a(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(e,t){return t=t||this._defaultShape(),e=j(e),t.push(e),this._bounds.extend(e),this.redraw()},_setLatLngs:function(e){this._bounds=new Ee,this._latlngs=this._convertLatLngs(e)},_defaultShape:function(){return Be(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(e){for(var t=[],o=Be(e),c=0,l=e.length;c<l;c++)o?(t[c]=j(e[c]),this._bounds.extend(t[c])):t[c]=this._convertLatLngs(e[c]);return t},_project:function(){var e=new ee;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,e),this._bounds.isValid()&&e.isValid()&&(this._rawPxBounds=e,this._updateBounds())},_updateBounds:function(){var e=this._clickTolerance(),t=new N(e,e);this._rawPxBounds&&(this._pxBounds=new ee([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)]))},_projectLatlngs:function(e,t,o){var c=e[0]instanceof X,l=e.length,d,p;if(c){for(p=[],d=0;d<l;d++)p[d]=this._map.latLngToLayerPoint(e[d]),o.extend(p[d]);t.push(p)}else for(d=0;d<l;d++)this._projectLatlngs(e[d],t,o)},_clipPoints:function(){var e=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}var t=this._parts,o,c,l,d,p,g,v;for(o=0,l=0,d=this._rings.length;o<d;o++)for(v=this._rings[o],c=0,p=v.length;c<p-1;c++)g=Ua(v[c],v[c+1],e,c,!0),g&&(t[l]=t[l]||[],t[l].push(g[0]),(g[1]!==v[c+1]||c===p-2)&&(t[l].push(g[1]),l++))}},_simplifyPoints:function(){for(var e=this._parts,t=this.options.smoothFactor,o=0,c=e.length;o<c;o++)e[o]=za(e[o],t)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(e,t){var o,c,l,d,p,g,v=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(o=0,d=this._parts.length;o<d;o++)for(g=this._parts[o],c=0,p=g.length,l=p-1;c<p;l=c++)if(!(!t&&c===0)&&Ba(e,g[l],g[c])<=v)return!0;return!1}});function Eu(e,t){return new ht(e,t)}ht._flat=Za;var ti=ht.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Va(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(e){var t=ht.prototype._convertLatLngs.call(this,e),o=t.length;return o>=2&&t[0]instanceof X&&t[0].equals(t[o-1])&&t.pop(),t},_setLatLngs:function(e){ht.prototype._setLatLngs.call(this,e),Be(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Be(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var e=this._renderer._bounds,t=this.options.weight,o=new N(t,t);if(e=new ee(e.min.subtract(o),e.max.add(o)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(e))){if(this.options.noClip){this._parts=this._rings;return}for(var c=0,l=this._rings.length,d;c<l;c++)d=Fa(this._rings[c],e,!0),d.length&&this._parts.push(d)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(e){var t=!1,o,c,l,d,p,g,v,y;if(!this._pxBounds||!this._pxBounds.contains(e))return!1;for(d=0,v=this._parts.length;d<v;d++)for(o=this._parts[d],p=0,y=o.length,g=y-1;p<y;g=p++)c=o[p],l=o[g],c.y>e.y!=l.y>e.y&&e.x<(l.x-c.x)*(e.y-c.y)/(l.y-c.y)+c.x&&(t=!t);return t||ht.prototype._containsPoint.call(this,e,!0)}});function Mu(e,t){return new ti(e,t)}var ut=lt.extend({initialize:function(e,t){k(this,t),this._layers={},e&&this.addData(e)},addData:function(e){var t=K(e)?e:e.features,o,c,l;if(t){for(o=0,c=t.length;o<c;o++)l=t[o],(l.geometries||l.geometry||l.features||l.coordinates)&&this.addData(l);return this}var d=this.options;if(d.filter&&!d.filter(e))return this;var p=On(e,d);return p?(p.feature=Fn(e),p.defaultOptions=p.options,this.resetStyle(p),d.onEachFeature&&d.onEachFeature(e,p),this.addLayer(p)):this},resetStyle:function(e){return e===void 0?this.eachLayer(this.resetStyle,this):(e.options=i({},e.defaultOptions),this._setLayerStyle(e,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(t){this._setLayerStyle(t,e)},this)},_setLayerStyle:function(e,t){e.setStyle&&(typeof t=="function"&&(t=t(e.feature)),e.setStyle(t))}});function On(e,t){var o=e.type==="Feature"?e.geometry:e,c=o?o.coordinates:null,l=[],d=t&&t.pointToLayer,p=t&&t.coordsToLatLng||_o,g,v,y,x;if(!c&&!o)return null;switch(o.type){case"Point":return g=p(c),Wa(d,e,g,t);case"MultiPoint":for(y=0,x=c.length;y<x;y++)g=p(c[y]),l.push(Wa(d,e,g,t));return new lt(l);case"LineString":case"MultiLineString":return v=Ln(c,o.type==="LineString"?0:1,p),new ht(v,t);case"Polygon":case"MultiPolygon":return v=Ln(c,o.type==="Polygon"?1:2,p),new ti(v,t);case"GeometryCollection":for(y=0,x=o.geometries.length;y<x;y++){var T=On({geometry:o.geometries[y],type:"Feature",properties:e.properties},t);T&&l.push(T)}return new lt(l);case"FeatureCollection":for(y=0,x=o.features.length;y<x;y++){var B=On(o.features[y],t);B&&l.push(B)}return new lt(l);default:throw new Error("Invalid GeoJSON object.")}}function Wa(e,t,o,c){return e?e(t,o):new Pn(o,c&&c.markersInheritOptions&&c)}function _o(e){return new X(e[1],e[0],e[2])}function Ln(e,t,o){for(var c=[],l=0,d=e.length,p;l<d;l++)p=t?Ln(e[l],t-1,o):(o||_o)(e[l]),c.push(p);return c}function vo(e,t){return e=j(e),e.alt!==void 0?[b(e.lng,t),b(e.lat,t),b(e.alt,t)]:[b(e.lng,t),b(e.lat,t)]}function Nn(e,t,o,c){for(var l=[],d=0,p=e.length;d<p;d++)l.push(t?Nn(e[d],Be(e[d])?0:t-1,o,c):vo(e[d],c));return!t&&o&&l.length>0&&l.push(l[0].slice()),l}function ii(e,t){return e.feature?i({},e.feature,{geometry:t}):Fn(t)}function Fn(e){return e.type==="Feature"||e.type==="FeatureCollection"?e:{type:"Feature",properties:{},geometry:e}}var yo={toGeoJSON:function(e){return ii(this,{type:"Point",coordinates:vo(this.getLatLng(),e)})}};Pn.include(yo),go.include(yo),Rn.include(yo),ht.include({toGeoJSON:function(e){var t=!Be(this._latlngs),o=Nn(this._latlngs,t?1:0,!1,e);return ii(this,{type:(t?"Multi":"")+"LineString",coordinates:o})}}),ti.include({toGeoJSON:function(e){var t=!Be(this._latlngs),o=t&&!Be(this._latlngs[0]),c=Nn(this._latlngs,o?2:t?1:0,!0,e);return t||(c=[c]),ii(this,{type:(o?"Multi":"")+"Polygon",coordinates:c})}}),Qt.include({toMultiPoint:function(e){var t=[];return this.eachLayer(function(o){t.push(o.toGeoJSON(e).geometry.coordinates)}),ii(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(e){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(t==="MultiPoint")return this.toMultiPoint(e);var o=t==="GeometryCollection",c=[];return this.eachLayer(function(l){if(l.toGeoJSON){var d=l.toGeoJSON(e);if(o)c.push(d.geometry);else{var p=Fn(d);p.type==="FeatureCollection"?c.push.apply(c,p.features):c.push(p)}}}),o?ii(this,{geometries:c,type:"GeometryCollection"}):{type:"FeatureCollection",features:c}}});function qa(e,t){return new ut(e,t)}var Tu=qa,Vn=Ke.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(e,t,o){this._url=e,this._bounds=re(t),k(this,o)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(z(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){te(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(e){return this.options.opacity=e,this._image&&this._updateOpacity(),this},setStyle:function(e){return e.opacity&&this.setOpacity(e.opacity),this},bringToFront:function(){return this._map&&Xt(this._image),this},bringToBack:function(){return this._map&&Jt(this._image),this},setUrl:function(e){return this._url=e,this._image&&(this._image.src=e),this},setBounds:function(e){return this._bounds=re(e),this._map&&this._reset(),this},getEvents:function(){var e={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var e=this._url.tagName==="IMG",t=this._image=e?this._url:H("img");if(z(t,"leaflet-image-layer"),this._zoomAnimated&&z(t,"leaflet-zoom-animated"),this.options.className&&z(t,this.options.className),t.onselectstart=_,t.onmousemove=_,t.onload=a(this.fire,this,"load"),t.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(t.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),e){this._url=t.src;return}t.src=this._url,t.alt=this.options.alt},_animateZoom:function(e){var t=this._map.getZoomScale(e.zoom),o=this._map._latLngBoundsToNewLayerBounds(this._bounds,e.zoom,e.center).min;Pt(this._image,o,t)},_reset:function(){var e=this._image,t=new ee(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),o=t.getSize();oe(e,t.min),e.style.width=o.x+"px",e.style.height=o.y+"px"},_updateOpacity:function(){ze(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var e=this.options.errorOverlayUrl;e&&this._url!==e&&(this._url=e,this._image.src=e)},getCenter:function(){return this._bounds.getCenter()}}),Au=function(e,t,o){return new Vn(e,t,o)},Ka=Vn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var e=this._url.tagName==="VIDEO",t=this._image=e?this._url:H("video");if(z(t,"leaflet-image-layer"),this._zoomAnimated&&z(t,"leaflet-zoom-animated"),this.options.className&&z(t,this.options.className),t.onselectstart=_,t.onmousemove=_,t.onloadeddata=a(this.fire,this,"load"),e){for(var o=t.getElementsByTagName("source"),c=[],l=0;l<o.length;l++)c.push(o[l].src);this._url=o.length>0?c:[t.src];return}K(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(t.style,"objectFit")&&(t.style.objectFit="fill"),t.autoplay=!!this.options.autoplay,t.loop=!!this.options.loop,t.muted=!!this.options.muted,t.playsInline=!!this.options.playsInline;for(var d=0;d<this._url.length;d++){var p=H("source");p.src=this._url[d],t.appendChild(p)}}});function Su(e,t,o){return new Ka(e,t,o)}var Ya=Vn.extend({_initImage:function(){var e=this._image=this._url;z(e,"leaflet-image-layer"),this._zoomAnimated&&z(e,"leaflet-zoom-animated"),this.options.className&&z(e,this.options.className),e.onselectstart=_,e.onmousemove=_}});function Du(e,t,o){return new Ya(e,t,o)}var nt=Ke.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(e,t){e&&(e instanceof X||K(e))?(this._latlng=j(e),k(this,t)):(k(this,e),this._source=t),this.options.content&&(this._content=this.options.content)},openOn:function(e){return e=arguments.length?e:this._source._map,e.hasLayer(this)||e.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(e){return this._map?this.close():(arguments.length?this._source=e:e=this._source,this._prepareOpen(),this.openOn(e._map)),this},onAdd:function(e){this._zoomAnimated=e._zoomAnimated,this._container||this._initLayout(),e._fadeAnimated&&ze(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),e._fadeAnimated&&ze(this._container,1),this.bringToFront(),this.options.interactive&&(z(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(e){e._fadeAnimated?(ze(this._container,0),this._removeTimeout=setTimeout(a(te,void 0,this._container),200)):te(this._container),this.options.interactive&&(ne(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(e){return this._latlng=j(e),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(e){return this._content=e,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var e={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Xt(this._container),this},bringToBack:function(){return this._map&&Jt(this._container),this},_prepareOpen:function(e){var t=this._source;if(!t._map)return!1;if(t instanceof lt){t=null;var o=this._source._layers;for(var c in o)if(o[c]._map){t=o[c];break}if(!t)return!1;this._source=t}if(!e)if(t.getCenter)e=t.getCenter();else if(t.getLatLng)e=t.getLatLng();else if(t.getBounds)e=t.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(e),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var e=this._contentNode,t=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof t=="string")e.innerHTML=t;else{for(;e.hasChildNodes();)e.removeChild(e.firstChild);e.appendChild(t)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var e=this._map.latLngToLayerPoint(this._latlng),t=P(this.options.offset),o=this._getAnchor();this._zoomAnimated?oe(this._container,e.add(o)):t=t.add(e).add(o);var c=this._containerBottom=-t.y,l=this._containerLeft=-Math.round(this._containerWidth/2)+t.x;this._container.style.bottom=c+"px",this._container.style.left=l+"px"}},_getAnchor:function(){return[0,0]}});U.include({_initOverlay:function(e,t,o,c){var l=t;return l instanceof e||(l=new e(c).setContent(t)),o&&l.setLatLng(o),l}}),Ke.include({_initOverlay:function(e,t,o,c){var l=o;return l instanceof e?(k(l,c),l._source=this):(l=t&&!c?t:new e(c,this),l.setContent(o)),l}});var zn=nt.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(e){return e=arguments.length?e:this._source._map,!e.hasLayer(this)&&e._popup&&e._popup.options.autoClose&&e.removeLayer(e._popup),e._popup=this,nt.prototype.openOn.call(this,e)},onAdd:function(e){nt.prototype.onAdd.call(this,e),e.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof xt||this._source.on("preclick",Ot))},onRemove:function(e){nt.prototype.onRemove.call(this,e),e.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof xt||this._source.off("preclick",Ot))},getEvents:function(){var e=nt.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(e.preclick=this.close),this.options.keepInView&&(e.moveend=this._adjustPan),e},_initLayout:function(){var e="leaflet-popup",t=this._container=H("div",e+" "+(this.options.className||"")+" leaflet-zoom-animated"),o=this._wrapper=H("div",e+"-content-wrapper",t);if(this._contentNode=H("div",e+"-content",o),Pi(t),ao(this._contentNode),F(t,"contextmenu",Ot),this._tipContainer=H("div",e+"-tip-container",t),this._tip=H("div",e+"-tip",this._tipContainer),this.options.closeButton){var c=this._closeButton=H("a",e+"-close-button",t);c.setAttribute("role","button"),c.setAttribute("aria-label","Close popup"),c.href="#close",c.innerHTML='<span aria-hidden="true">&#215;</span>',F(c,"click",function(l){_e(l),this.close()},this)}},_updateLayout:function(){var e=this._contentNode,t=e.style;t.width="",t.whiteSpace="nowrap";var o=e.offsetWidth;o=Math.min(o,this.options.maxWidth),o=Math.max(o,this.options.minWidth),t.width=o+1+"px",t.whiteSpace="",t.height="";var c=e.offsetHeight,l=this.options.maxHeight,d="leaflet-popup-scrolled";l&&c>l?(t.height=l+"px",z(e,d)):ne(e,d),this._containerWidth=this._container.offsetWidth},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center),o=this._getAnchor();oe(this._container,t.add(o))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var e=this._map,t=parseInt(Ti(this._container,"marginBottom"),10)||0,o=this._container.offsetHeight+t,c=this._containerWidth,l=new N(this._containerLeft,-o-this._containerBottom);l._add(Rt(this._container));var d=e.layerPointToContainerPoint(l),p=P(this.options.autoPanPadding),g=P(this.options.autoPanPaddingTopLeft||p),v=P(this.options.autoPanPaddingBottomRight||p),y=e.getSize(),x=0,T=0;d.x+c+v.x>y.x&&(x=d.x+c-y.x+v.x),d.x-x-g.x<0&&(x=d.x-g.x),d.y+o+v.y>y.y&&(T=d.y+o-y.y+v.y),d.y-T-g.y<0&&(T=d.y-g.y),(x||T)&&(this.options.keepInView&&(this._autopanning=!0),e.fire("autopanstart").panBy([x,T]))}},_getAnchor:function(){return P(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Pu=function(e,t){return new zn(e,t)};U.mergeOptions({closePopupOnClick:!0}),U.include({openPopup:function(e,t,o){return this._initOverlay(zn,e,t,o).openOn(this),this},closePopup:function(e){return e=arguments.length?e:this._popup,e&&e.close(),this}}),Ke.include({bindPopup:function(e,t){return this._popup=this._initOverlay(zn,this._popup,e,t),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(e){return this._popup&&(this instanceof lt||(this._popup._source=this),this._popup._prepareOpen(e||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(e){return this._popup&&this._popup.setContent(e),this},getPopup:function(){return this._popup},_openPopup:function(e){if(!(!this._popup||!this._map)){Lt(e);var t=e.layer||e.target;if(this._popup._source===t&&!(t instanceof xt)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(e.latlng);return}this._popup._source=t,this.openPopup(e.latlng)}},_movePopup:function(e){this._popup.setLatLng(e.latlng)},_onKeyPress:function(e){e.originalEvent.keyCode===13&&this._openPopup(e)}});var Bn=nt.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(e){nt.prototype.onAdd.call(this,e),this.setOpacity(this.options.opacity),e.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(e){nt.prototype.onRemove.call(this,e),e.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var e=nt.prototype.getEvents.call(this);return this.options.permanent||(e.preclick=this.close),e},_initLayout:function(){var e="leaflet-tooltip",t=e+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=H("div",t),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(e){var t,o,c=this._map,l=this._container,d=c.latLngToContainerPoint(c.getCenter()),p=c.layerPointToContainerPoint(e),g=this.options.direction,v=l.offsetWidth,y=l.offsetHeight,x=P(this.options.offset),T=this._getAnchor();g==="top"?(t=v/2,o=y):g==="bottom"?(t=v/2,o=0):g==="center"?(t=v/2,o=y/2):g==="right"?(t=0,o=y/2):g==="left"?(t=v,o=y/2):p.x<d.x?(g="right",t=0,o=y/2):(g="left",t=v+(x.x+T.x)*2,o=y/2),e=e.subtract(P(t,o,!0)).add(x).add(T),ne(l,"leaflet-tooltip-right"),ne(l,"leaflet-tooltip-left"),ne(l,"leaflet-tooltip-top"),ne(l,"leaflet-tooltip-bottom"),z(l,"leaflet-tooltip-"+g),oe(l,e)},_updatePosition:function(){var e=this._map.latLngToLayerPoint(this._latlng);this._setPosition(e)},setOpacity:function(e){this.options.opacity=e,this._container&&ze(this._container,e)},_animateZoom:function(e){var t=this._map._latLngToNewLayerPoint(this._latlng,e.zoom,e.center);this._setPosition(t)},_getAnchor:function(){return P(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Ru=function(e,t){return new Bn(e,t)};U.include({openTooltip:function(e,t,o){return this._initOverlay(Bn,e,t,o).openOn(this),this},closeTooltip:function(e){return e.close(),this}}),Ke.include({bindTooltip:function(e,t){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Bn,this._tooltip,e,t),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(e){if(!(!e&&this._tooltipHandlersAdded)){var t=e?"off":"on",o={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?o.add=this._openTooltip:(o.mouseover=this._openTooltip,o.mouseout=this.closeTooltip,o.click=this._openTooltip,this._map?this._addFocusListeners():o.add=this._addFocusListeners),this._tooltip.options.sticky&&(o.mousemove=this._moveTooltip),this[t](o),this._tooltipHandlersAdded=!e}},openTooltip:function(e){return this._tooltip&&(this instanceof lt||(this._tooltip._source=this),this._tooltip._prepareOpen(e)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(e){return this._tooltip&&this._tooltip.setContent(e),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(e){var t=typeof e.getElement=="function"&&e.getElement();t&&(F(t,"focus",function(){this._tooltip._source=e,this.openTooltip()},this),F(t,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(e){var t=typeof e.getElement=="function"&&e.getElement();t&&t.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(e){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var t=this;this._map.once("moveend",function(){t._openOnceFlag=!1,t._openTooltip(e)});return}this._tooltip._source=e.layer||e.target,this.openTooltip(this._tooltip.options.sticky?e.latlng:void 0)}},_moveTooltip:function(e){var t=e.latlng,o,c;this._tooltip.options.sticky&&e.originalEvent&&(o=this._map.mouseEventToContainerPoint(e.originalEvent),c=this._map.containerPointToLayerPoint(o),t=this._map.layerPointToLatLng(c)),this._tooltip.setLatLng(t)}});var Xa=ei.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(e){var t=e&&e.tagName==="DIV"?e:document.createElement("div"),o=this.options;if(o.html instanceof Element?(En(t),t.appendChild(o.html)):t.innerHTML=o.html!==!1?o.html:"",o.bgPos){var c=P(o.bgPos);t.style.backgroundPosition=-c.x+"px "+-c.y+"px"}return this._setIconStyles(t,"icon"),t},createShadow:function(){return null}});function Ou(e){return new Xa(e)}ei.Default=Li;var Ni=Ke.extend({options:{tileSize:256,opacity:1,updateWhenIdle:E.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(e){k(this,e)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(e){e._addZoomLimit(this)},onRemove:function(e){this._removeAllTiles(),te(this._container),e._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Xt(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Jt(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(e){return this.options.opacity=e,this._updateOpacity(),this},setZIndex:function(e){return this.options.zIndex=e,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var e=this._clampZoom(this._map.getZoom());e!==this._tileZoom&&(this._tileZoom=e,this._updateLevels()),this._update()}return this},getEvents:function(){var e={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),e.move=this._onMove),this._zoomAnimated&&(e.zoomanim=this._animateZoom),e},createTile:function(){return document.createElement("div")},getTileSize:function(){var e=this.options.tileSize;return e instanceof N?e:new N(e,e)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(e){for(var t=this.getPane().children,o=-e(-1/0,1/0),c=0,l=t.length,d;c<l;c++)d=t[c].style.zIndex,t[c]!==this._container&&d&&(o=e(o,+d));isFinite(o)&&(this.options.zIndex=o+e(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!E.ielt9){ze(this._container,this.options.opacity);var e=+new Date,t=!1,o=!1;for(var c in this._tiles){var l=this._tiles[c];if(!(!l.current||!l.loaded)){var d=Math.min(1,(e-l.loaded)/200);ze(l.el,d),d<1?t=!0:(l.active?o=!0:this._onOpaqueTile(l),l.active=!0)}}o&&!this._noPrune&&this._pruneTiles(),t&&(Ve(this._fadeFrame),this._fadeFrame=ke(this._updateOpacity,this))}},_onOpaqueTile:_,_initContainer:function(){this._container||(this._container=H("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var e=this._tileZoom,t=this.options.maxZoom;if(e!==void 0){for(var o in this._levels)o=Number(o),this._levels[o].el.children.length||o===e?(this._levels[o].el.style.zIndex=t-Math.abs(e-o),this._onUpdateLevel(o)):(te(this._levels[o].el),this._removeTilesAtZoom(o),this._onRemoveLevel(o),delete this._levels[o]);var c=this._levels[e],l=this._map;return c||(c=this._levels[e]={},c.el=H("div","leaflet-tile-container leaflet-zoom-animated",this._container),c.el.style.zIndex=t,c.origin=l.project(l.unproject(l.getPixelOrigin()),e).round(),c.zoom=e,this._setZoomTransform(c,l.getCenter(),l.getZoom()),_(c.el.offsetWidth),this._onCreateLevel(c)),this._level=c,c}},_onUpdateLevel:_,_onRemoveLevel:_,_onCreateLevel:_,_pruneTiles:function(){if(this._map){var e,t,o=this._map.getZoom();if(o>this.options.maxZoom||o<this.options.minZoom){this._removeAllTiles();return}for(e in this._tiles)t=this._tiles[e],t.retain=t.current;for(e in this._tiles)if(t=this._tiles[e],t.current&&!t.active){var c=t.coords;this._retainParent(c.x,c.y,c.z,c.z-5)||this._retainChildren(c.x,c.y,c.z,c.z+2)}for(e in this._tiles)this._tiles[e].retain||this._removeTile(e)}},_removeTilesAtZoom:function(e){for(var t in this._tiles)this._tiles[t].coords.z===e&&this._removeTile(t)},_removeAllTiles:function(){for(var e in this._tiles)this._removeTile(e)},_invalidateAll:function(){for(var e in this._levels)te(this._levels[e].el),this._onRemoveLevel(Number(e)),delete this._levels[e];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(e,t,o,c){var l=Math.floor(e/2),d=Math.floor(t/2),p=o-1,g=new N(+l,+d);g.z=+p;var v=this._tileCoordsToKey(g),y=this._tiles[v];return y&&y.active?(y.retain=!0,!0):(y&&y.loaded&&(y.retain=!0),p>c?this._retainParent(l,d,p,c):!1)},_retainChildren:function(e,t,o,c){for(var l=2*e;l<2*e+2;l++)for(var d=2*t;d<2*t+2;d++){var p=new N(l,d);p.z=o+1;var g=this._tileCoordsToKey(p),v=this._tiles[g];if(v&&v.active){v.retain=!0;continue}else v&&v.loaded&&(v.retain=!0);o+1<c&&this._retainChildren(l,d,o+1,c)}},_resetView:function(e){var t=e&&(e.pinch||e.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(e){this._setView(e.center,e.zoom,!0,e.noUpdate)},_clampZoom:function(e){var t=this.options;return t.minNativeZoom!==void 0&&e<t.minNativeZoom?t.minNativeZoom:t.maxNativeZoom!==void 0&&t.maxNativeZoom<e?t.maxNativeZoom:e},_setView:function(e,t,o,c){var l=Math.round(t);this.options.maxZoom!==void 0&&l>this.options.maxZoom||this.options.minZoom!==void 0&&l<this.options.minZoom?l=void 0:l=this._clampZoom(l);var d=this.options.updateWhenZooming&&l!==this._tileZoom;(!c||d)&&(this._tileZoom=l,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),l!==void 0&&this._update(e),o||this._pruneTiles(),this._noPrune=!!o),this._setZoomTransforms(e,t)},_setZoomTransforms:function(e,t){for(var o in this._levels)this._setZoomTransform(this._levels[o],e,t)},_setZoomTransform:function(e,t,o){var c=this._map.getZoomScale(o,e.zoom),l=e.origin.multiplyBy(c).subtract(this._map._getNewPixelOrigin(t,o)).round();E.any3d?Pt(e.el,l,c):oe(e.el,l)},_resetGrid:function(){var e=this._map,t=e.options.crs,o=this._tileSize=this.getTileSize(),c=this._tileZoom,l=this._map.getPixelWorldBounds(this._tileZoom);l&&(this._globalTileRange=this._pxBoundsToTileRange(l)),this._wrapX=t.wrapLng&&!this.options.noWrap&&[Math.floor(e.project([0,t.wrapLng[0]],c).x/o.x),Math.ceil(e.project([0,t.wrapLng[1]],c).x/o.y)],this._wrapY=t.wrapLat&&!this.options.noWrap&&[Math.floor(e.project([t.wrapLat[0],0],c).y/o.x),Math.ceil(e.project([t.wrapLat[1],0],c).y/o.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(e){var t=this._map,o=t._animatingZoom?Math.max(t._animateToZoom,t.getZoom()):t.getZoom(),c=t.getZoomScale(o,this._tileZoom),l=t.project(e,this._tileZoom).floor(),d=t.getSize().divideBy(c*2);return new ee(l.subtract(d),l.add(d))},_update:function(e){var t=this._map;if(t){var o=this._clampZoom(t.getZoom());if(e===void 0&&(e=t.getCenter()),this._tileZoom!==void 0){var c=this._getTiledPixelBounds(e),l=this._pxBoundsToTileRange(c),d=l.getCenter(),p=[],g=this.options.keepBuffer,v=new ee(l.getBottomLeft().subtract([g,-g]),l.getTopRight().add([g,-g]));if(!(isFinite(l.min.x)&&isFinite(l.min.y)&&isFinite(l.max.x)&&isFinite(l.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var y in this._tiles){var x=this._tiles[y].coords;(x.z!==this._tileZoom||!v.contains(new N(x.x,x.y)))&&(this._tiles[y].current=!1)}if(Math.abs(o-this._tileZoom)>1){this._setView(e,o);return}for(var T=l.min.y;T<=l.max.y;T++)for(var B=l.min.x;B<=l.max.x;B++){var xe=new N(B,T);if(xe.z=this._tileZoom,!!this._isValidTile(xe)){var ce=this._tiles[this._tileCoordsToKey(xe)];ce?ce.current=!0:p.push(xe)}}if(p.sort(function(Me,ri){return Me.distanceTo(d)-ri.distanceTo(d)}),p.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var je=document.createDocumentFragment();for(B=0;B<p.length;B++)this._addTile(p[B],je);this._level.el.appendChild(je)}}}},_isValidTile:function(e){var t=this._map.options.crs;if(!t.infinite){var o=this._globalTileRange;if(!t.wrapLng&&(e.x<o.min.x||e.x>o.max.x)||!t.wrapLat&&(e.y<o.min.y||e.y>o.max.y))return!1}if(!this.options.bounds)return!0;var c=this._tileCoordsToBounds(e);return re(this.options.bounds).overlaps(c)},_keyToBounds:function(e){return this._tileCoordsToBounds(this._keyToTileCoords(e))},_tileCoordsToNwSe:function(e){var t=this._map,o=this.getTileSize(),c=e.scaleBy(o),l=c.add(o),d=t.unproject(c,e.z),p=t.unproject(l,e.z);return[d,p]},_tileCoordsToBounds:function(e){var t=this._tileCoordsToNwSe(e),o=new Ee(t[0],t[1]);return this.options.noWrap||(o=this._map.wrapLatLngBounds(o)),o},_tileCoordsToKey:function(e){return e.x+":"+e.y+":"+e.z},_keyToTileCoords:function(e){var t=e.split(":"),o=new N(+t[0],+t[1]);return o.z=+t[2],o},_removeTile:function(e){var t=this._tiles[e];t&&(te(t.el),delete this._tiles[e],this.fire("tileunload",{tile:t.el,coords:this._keyToTileCoords(e)}))},_initTile:function(e){z(e,"leaflet-tile");var t=this.getTileSize();e.style.width=t.x+"px",e.style.height=t.y+"px",e.onselectstart=_,e.onmousemove=_,E.ielt9&&this.options.opacity<1&&ze(e,this.options.opacity)},_addTile:function(e,t){var o=this._getTilePos(e),c=this._tileCoordsToKey(e),l=this.createTile(this._wrapCoords(e),a(this._tileReady,this,e));this._initTile(l),this.createTile.length<2&&ke(a(this._tileReady,this,e,null,l)),oe(l,o),this._tiles[c]={el:l,coords:e,current:!0},t.appendChild(l),this.fire("tileloadstart",{tile:l,coords:e})},_tileReady:function(e,t,o){t&&this.fire("tileerror",{error:t,tile:o,coords:e});var c=this._tileCoordsToKey(e);o=this._tiles[c],o&&(o.loaded=+new Date,this._map._fadeAnimated?(ze(o.el,0),Ve(this._fadeFrame),this._fadeFrame=ke(this._updateOpacity,this)):(o.active=!0,this._pruneTiles()),t||(z(o.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:o.el,coords:e})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),E.ielt9||!this._map._fadeAnimated?ke(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(e){return e.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(e){var t=new N(this._wrapX?f(e.x,this._wrapX):e.x,this._wrapY?f(e.y,this._wrapY):e.y);return t.z=e.z,t},_pxBoundsToTileRange:function(e){var t=this.getTileSize();return new ee(e.min.unscaleBy(t).floor(),e.max.unscaleBy(t).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var e in this._tiles)if(!this._tiles[e].loaded)return!1;return!0}});function Lu(e){return new Ni(e)}var ni=Ni.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(e,t){this._url=e,t=k(this,t),t.detectRetina&&E.retina&&t.maxZoom>0?(t.tileSize=Math.floor(t.tileSize/2),t.zoomReverse?(t.zoomOffset--,t.minZoom=Math.min(t.maxZoom,t.minZoom+1)):(t.zoomOffset++,t.maxZoom=Math.max(t.minZoom,t.maxZoom-1)),t.minZoom=Math.max(0,t.minZoom)):t.zoomReverse?t.minZoom=Math.min(t.maxZoom,t.minZoom):t.maxZoom=Math.max(t.minZoom,t.maxZoom),typeof t.subdomains=="string"&&(t.subdomains=t.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(e,t){return this._url===e&&t===void 0&&(t=!0),this._url=e,t||this.redraw(),this},createTile:function(e,t){var o=document.createElement("img");return F(o,"load",a(this._tileOnLoad,this,t,o)),F(o,"error",a(this._tileOnError,this,t,o)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(o.referrerPolicy=this.options.referrerPolicy),o.alt="",o.src=this.getTileUrl(e),o},getTileUrl:function(e){var t={r:E.retina?"@2x":"",s:this._getSubdomain(e),x:e.x,y:e.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var o=this._globalTileRange.max.y-e.y;this.options.tms&&(t.y=o),t["-y"]=o}return D(this._url,i(t,this.options))},_tileOnLoad:function(e,t){E.ielt9?setTimeout(a(e,this,null,t),0):e(null,t)},_tileOnError:function(e,t,o){var c=this.options.errorTileUrl;c&&t.getAttribute("src")!==c&&(t.src=c),e(o,t)},_onTileRemove:function(e){e.tile.onload=null},_getZoomForUrl:function(){var e=this._tileZoom,t=this.options.maxZoom,o=this.options.zoomReverse,c=this.options.zoomOffset;return o&&(e=t-e),e+c},_getSubdomain:function(e){var t=Math.abs(e.x+e.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var e,t;for(e in this._tiles)if(this._tiles[e].coords.z!==this._tileZoom&&(t=this._tiles[e].el,t.onload=_,t.onerror=_,!t.complete)){t.src=W;var o=this._tiles[e].coords;te(t),delete this._tiles[e],this.fire("tileabort",{tile:t,coords:o})}},_removeTile:function(e){var t=this._tiles[e];if(t)return t.el.setAttribute("src",W),Ni.prototype._removeTile.call(this,e)},_tileReady:function(e,t,o){if(!(!this._map||o&&o.getAttribute("src")===W))return Ni.prototype._tileReady.call(this,e,t,o)}});function Ja(e,t){return new ni(e,t)}var Qa=ni.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(e,t){this._url=e;var o=i({},this.defaultWmsParams);for(var c in t)c in this.options||(o[c]=t[c]);t=k(this,t);var l=t.detectRetina&&E.retina?2:1,d=this.getTileSize();o.width=d.x*l,o.height=d.y*l,this.wmsParams=o},onAdd:function(e){this._crs=this.options.crs||e.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var t=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[t]=this._crs.code,ni.prototype.onAdd.call(this,e)},getTileUrl:function(e){var t=this._tileCoordsToNwSe(e),o=this._crs,c=Ie(o.project(t[0]),o.project(t[1])),l=c.min,d=c.max,p=(this._wmsVersion>=1.3&&this._crs===Ha?[l.y,l.x,d.y,d.x]:[l.x,l.y,d.x,d.y]).join(","),g=ni.prototype.getTileUrl.call(this,e);return g+Y(this.wmsParams,g,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+p},setParams:function(e,t){return i(this.wmsParams,e),t||this.redraw(),this}});function Nu(e,t){return new Qa(e,t)}ni.WMS=Qa,Ja.wms=Nu;var dt=Ke.extend({options:{padding:.1},initialize:function(e){k(this,e),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),z(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var e={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(e.zoomanim=this._onAnimZoom),e},_onAnimZoom:function(e){this._updateTransform(e.center,e.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(e,t){var o=this._map.getZoomScale(t,this._zoom),c=this._map.getSize().multiplyBy(.5+this.options.padding),l=this._map.project(this._center,t),d=c.multiplyBy(-o).add(l).subtract(this._map._getNewPixelOrigin(e,t));E.any3d?Pt(this._container,d,o):oe(this._container,d)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var e in this._layers)this._layers[e]._reset()},_onZoomEnd:function(){for(var e in this._layers)this._layers[e]._project()},_updatePaths:function(){for(var e in this._layers)this._layers[e]._update()},_update:function(){var e=this.options.padding,t=this._map.getSize(),o=this._map.containerPointToLayerPoint(t.multiplyBy(-e)).round();this._bounds=new ee(o,o.add(t.multiplyBy(1+e*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),ec=dt.extend({options:{tolerance:0},getEvents:function(){var e=dt.prototype.getEvents.call(this);return e.viewprereset=this._onViewPreReset,e},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){dt.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var e=this._container=document.createElement("canvas");F(e,"mousemove",this._onMouseMove,this),F(e,"click dblclick mousedown mouseup contextmenu",this._onClick,this),F(e,"mouseout",this._handleMouseOut,this),e._leaflet_disable_events=!0,this._ctx=e.getContext("2d")},_destroyContainer:function(){Ve(this._redrawRequest),delete this._ctx,te(this._container),Q(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var e;this._redrawBounds=null;for(var t in this._layers)e=this._layers[t],e._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){dt.prototype._update.call(this);var e=this._bounds,t=this._container,o=e.getSize(),c=E.retina?2:1;oe(t,e.min),t.width=c*o.x,t.height=c*o.y,t.style.width=o.x+"px",t.style.height=o.y+"px",E.retina&&this._ctx.scale(2,2),this._ctx.translate(-e.min.x,-e.min.y),this.fire("update")}},_reset:function(){dt.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(e){this._updateDashArray(e),this._layers[u(e)]=e;var t=e._order={layer:e,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(e){this._requestRedraw(e)},_removePath:function(e){var t=e._order,o=t.next,c=t.prev;o?o.prev=c:this._drawLast=c,c?c.next=o:this._drawFirst=o,delete e._order,delete this._layers[u(e)],this._requestRedraw(e)},_updatePath:function(e){this._extendRedrawBounds(e),e._project(),e._update(),this._requestRedraw(e)},_updateStyle:function(e){this._updateDashArray(e),this._requestRedraw(e)},_updateDashArray:function(e){if(typeof e.options.dashArray=="string"){var t=e.options.dashArray.split(/[, ]+/),o=[],c,l;for(l=0;l<t.length;l++){if(c=Number(t[l]),isNaN(c))return;o.push(c)}e.options._dashArray=o}else e.options._dashArray=e.options.dashArray},_requestRedraw:function(e){this._map&&(this._extendRedrawBounds(e),this._redrawRequest=this._redrawRequest||ke(this._redraw,this))},_extendRedrawBounds:function(e){if(e._pxBounds){var t=(e.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new ee,this._redrawBounds.extend(e._pxBounds.min.subtract([t,t])),this._redrawBounds.extend(e._pxBounds.max.add([t,t]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var e=this._redrawBounds;if(e){var t=e.getSize();this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var e,t=this._redrawBounds;if(this._ctx.save(),t){var o=t.getSize();this._ctx.beginPath(),this._ctx.rect(t.min.x,t.min.y,o.x,o.y),this._ctx.clip()}this._drawing=!0;for(var c=this._drawFirst;c;c=c.next)e=c.layer,(!t||e._pxBounds&&e._pxBounds.intersects(t))&&e._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(e,t){if(this._drawing){var o,c,l,d,p=e._parts,g=p.length,v=this._ctx;if(g){for(v.beginPath(),o=0;o<g;o++){for(c=0,l=p[o].length;c<l;c++)d=p[o][c],v[c?"lineTo":"moveTo"](d.x,d.y);t&&v.closePath()}this._fillStroke(v,e)}}},_updateCircle:function(e){if(!(!this._drawing||e._empty())){var t=e._point,o=this._ctx,c=Math.max(Math.round(e._radius),1),l=(Math.max(Math.round(e._radiusY),1)||c)/c;l!==1&&(o.save(),o.scale(1,l)),o.beginPath(),o.arc(t.x,t.y/l,c,0,Math.PI*2,!1),l!==1&&o.restore(),this._fillStroke(o,e)}},_fillStroke:function(e,t){var o=t.options;o.fill&&(e.globalAlpha=o.fillOpacity,e.fillStyle=o.fillColor||o.color,e.fill(o.fillRule||"evenodd")),o.stroke&&o.weight!==0&&(e.setLineDash&&e.setLineDash(t.options&&t.options._dashArray||[]),e.globalAlpha=o.opacity,e.lineWidth=o.weight,e.strokeStyle=o.color,e.lineCap=o.lineCap,e.lineJoin=o.lineJoin,e.stroke())},_onClick:function(e){for(var t=this._map.mouseEventToLayerPoint(e),o,c,l=this._drawFirst;l;l=l.next)o=l.layer,o.options.interactive&&o._containsPoint(t)&&(!(e.type==="click"||e.type==="preclick")||!this._map._draggableMoved(o))&&(c=o);this._fireEvent(c?[c]:!1,e)},_onMouseMove:function(e){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var t=this._map.mouseEventToLayerPoint(e);this._handleMouseHover(e,t)}},_handleMouseOut:function(e){var t=this._hoveredLayer;t&&(ne(this._container,"leaflet-interactive"),this._fireEvent([t],e,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(e,t){if(!this._mouseHoverThrottled){for(var o,c,l=this._drawFirst;l;l=l.next)o=l.layer,o.options.interactive&&o._containsPoint(t)&&(c=o);c!==this._hoveredLayer&&(this._handleMouseOut(e),c&&(z(this._container,"leaflet-interactive"),this._fireEvent([c],e,"mouseover"),this._hoveredLayer=c)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,e),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(e,t,o){this._map._fireDOMEvent(t,o||t.type,e)},_bringToFront:function(e){var t=e._order;if(t){var o=t.next,c=t.prev;if(o)o.prev=c;else return;c?c.next=o:o&&(this._drawFirst=o),t.prev=this._drawLast,this._drawLast.next=t,t.next=null,this._drawLast=t,this._requestRedraw(e)}},_bringToBack:function(e){var t=e._order;if(t){var o=t.next,c=t.prev;if(c)c.next=o;else return;o?o.prev=c:c&&(this._drawLast=c),t.prev=null,t.next=this._drawFirst,this._drawFirst.prev=t,this._drawFirst=t,this._requestRedraw(e)}}});function tc(e){return E.canvas?new ec(e):null}var Fi=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(e){return document.createElement("<lvml:"+e+' class="lvml">')}}catch{}return function(e){return document.createElement("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Fu={_initContainer:function(){this._container=H("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(dt.prototype._update.call(this),this.fire("update"))},_initPath:function(e){var t=e._container=Fi("shape");z(t,"leaflet-vml-shape "+(this.options.className||"")),t.coordsize="1 1",e._path=Fi("path"),t.appendChild(e._path),this._updateStyle(e),this._layers[u(e)]=e},_addPath:function(e){var t=e._container;this._container.appendChild(t),e.options.interactive&&e.addInteractiveTarget(t)},_removePath:function(e){var t=e._container;te(t),e.removeInteractiveTarget(t),delete this._layers[u(e)]},_updateStyle:function(e){var t=e._stroke,o=e._fill,c=e.options,l=e._container;l.stroked=!!c.stroke,l.filled=!!c.fill,c.stroke?(t||(t=e._stroke=Fi("stroke")),l.appendChild(t),t.weight=c.weight+"px",t.color=c.color,t.opacity=c.opacity,c.dashArray?t.dashStyle=K(c.dashArray)?c.dashArray.join(" "):c.dashArray.replace(/( *, *)/g," "):t.dashStyle="",t.endcap=c.lineCap.replace("butt","flat"),t.joinstyle=c.lineJoin):t&&(l.removeChild(t),e._stroke=null),c.fill?(o||(o=e._fill=Fi("fill")),l.appendChild(o),o.color=c.fillColor||c.color,o.opacity=c.fillOpacity):o&&(l.removeChild(o),e._fill=null)},_updateCircle:function(e){var t=e._point.round(),o=Math.round(e._radius),c=Math.round(e._radiusY||o);this._setPath(e,e._empty()?"M0 0":"AL "+t.x+","+t.y+" "+o+","+c+" 0,"+65535*360)},_setPath:function(e,t){e._path.v=t},_bringToFront:function(e){Xt(e._container)},_bringToBack:function(e){Jt(e._container)}},jn=E.vml?Fi:oa,Vi=dt.extend({_initContainer:function(){this._container=jn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=jn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){te(this._container),Q(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){dt.prototype._update.call(this);var e=this._bounds,t=e.getSize(),o=this._container;(!this._svgSize||!this._svgSize.equals(t))&&(this._svgSize=t,o.setAttribute("width",t.x),o.setAttribute("height",t.y)),oe(o,e.min),o.setAttribute("viewBox",[e.min.x,e.min.y,t.x,t.y].join(" ")),this.fire("update")}},_initPath:function(e){var t=e._path=jn("path");e.options.className&&z(t,e.options.className),e.options.interactive&&z(t,"leaflet-interactive"),this._updateStyle(e),this._layers[u(e)]=e},_addPath:function(e){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(e._path),e.addInteractiveTarget(e._path)},_removePath:function(e){te(e._path),e.removeInteractiveTarget(e._path),delete this._layers[u(e)]},_updatePath:function(e){e._project(),e._update()},_updateStyle:function(e){var t=e._path,o=e.options;t&&(o.stroke?(t.setAttribute("stroke",o.color),t.setAttribute("stroke-opacity",o.opacity),t.setAttribute("stroke-width",o.weight),t.setAttribute("stroke-linecap",o.lineCap),t.setAttribute("stroke-linejoin",o.lineJoin),o.dashArray?t.setAttribute("stroke-dasharray",o.dashArray):t.removeAttribute("stroke-dasharray"),o.dashOffset?t.setAttribute("stroke-dashoffset",o.dashOffset):t.removeAttribute("stroke-dashoffset")):t.setAttribute("stroke","none"),o.fill?(t.setAttribute("fill",o.fillColor||o.color),t.setAttribute("fill-opacity",o.fillOpacity),t.setAttribute("fill-rule",o.fillRule||"evenodd")):t.setAttribute("fill","none"))},_updatePoly:function(e,t){this._setPath(e,sa(e._parts,t))},_updateCircle:function(e){var t=e._point,o=Math.max(Math.round(e._radius),1),c=Math.max(Math.round(e._radiusY),1)||o,l="a"+o+","+c+" 0 1,0 ",d=e._empty()?"M0 0":"M"+(t.x-o)+","+t.y+l+o*2+",0 "+l+-o*2+",0 ";this._setPath(e,d)},_setPath:function(e,t){e._path.setAttribute("d",t)},_bringToFront:function(e){Xt(e._path)},_bringToBack:function(e){Jt(e._path)}});E.vml&&Vi.include(Fu);function ic(e){return E.svg||E.vml?new Vi(e):null}U.include({getRenderer:function(e){var t=e.options.renderer||this._getPaneRenderer(e.options.pane)||this.options.renderer||this._renderer;return t||(t=this._renderer=this._createRenderer()),this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(e){if(e==="overlayPane"||e===void 0)return!1;var t=this._paneRenderers[e];return t===void 0&&(t=this._createRenderer({pane:e}),this._paneRenderers[e]=t),t},_createRenderer:function(e){return this.options.preferCanvas&&tc(e)||ic(e)}});var nc=ti.extend({initialize:function(e,t){ti.prototype.initialize.call(this,this._boundsToLatLngs(e),t)},setBounds:function(e){return this.setLatLngs(this._boundsToLatLngs(e))},_boundsToLatLngs:function(e){return e=re(e),[e.getSouthWest(),e.getNorthWest(),e.getNorthEast(),e.getSouthEast()]}});function Vu(e,t){return new nc(e,t)}Vi.create=jn,Vi.pointsToPath=sa,ut.geometryToLayer=On,ut.coordsToLatLng=_o,ut.coordsToLatLngs=Ln,ut.latLngToCoords=vo,ut.latLngsToCoords=Nn,ut.getFeature=ii,ut.asFeature=Fn,U.mergeOptions({boxZoom:!0});var rc=it.extend({initialize:function(e){this._map=e,this._container=e._container,this._pane=e._panes.overlayPane,this._resetStateTimeout=0,e.on("unload",this._destroy,this)},addHooks:function(){F(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Q(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){te(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(e){if(!e.shiftKey||e.which!==1&&e.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Ai(),Qr(),this._startPoint=this._map.mouseEventToContainerPoint(e),F(document,{contextmenu:Lt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(e){this._moved||(this._moved=!0,this._box=H("div","leaflet-zoom-box",this._container),z(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(e);var t=new ee(this._point,this._startPoint),o=t.getSize();oe(this._box,t.min),this._box.style.width=o.x+"px",this._box.style.height=o.y+"px"},_finish:function(){this._moved&&(te(this._box),ne(this._container,"leaflet-crosshair")),Si(),eo(),Q(document,{contextmenu:Lt,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(e){if(!(e.which!==1&&e.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var t=new Ee(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})}},_onKeyDown:function(e){e.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});U.addInitHook("addHandler","boxZoom",rc),U.mergeOptions({doubleClickZoom:!0});var oc=it.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(e){var t=this._map,o=t.getZoom(),c=t.options.zoomDelta,l=e.originalEvent.shiftKey?o-c:o+c;t.options.doubleClickZoom==="center"?t.setZoom(l):t.setZoomAround(e.containerPoint,l)}});U.addInitHook("addHandler","doubleClickZoom",oc),U.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var sc=it.extend({addHooks:function(){if(!this._draggable){var e=this._map;this._draggable=new wt(e._mapPane,e._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),e.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),e.on("zoomend",this._onZoomEnd,this),e.whenReady(this._onZoomEnd,this))}z(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){ne(this._map._container,"leaflet-grab"),ne(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var e=this._map;if(e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var t=re(this._map.options.maxBounds);this._offsetLimit=Ie(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(e){if(this._map.options.inertia){var t=this._lastTime=+new Date,o=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(o),this._times.push(t),this._prunePositions(t)}this._map.fire("move",e).fire("drag",e)},_prunePositions:function(e){for(;this._positions.length>1&&e-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var e=this._map.getSize().divideBy(2),t=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=t.subtract(e).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(e,t){return e-(e-t)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var e=this._draggable._newPos.subtract(this._draggable._startPos),t=this._offsetLimit;e.x<t.min.x&&(e.x=this._viscousLimit(e.x,t.min.x)),e.y<t.min.y&&(e.y=this._viscousLimit(e.y,t.min.y)),e.x>t.max.x&&(e.x=this._viscousLimit(e.x,t.max.x)),e.y>t.max.y&&(e.y=this._viscousLimit(e.y,t.max.y)),this._draggable._newPos=this._draggable._startPos.add(e)}},_onPreDragWrap:function(){var e=this._worldWidth,t=Math.round(e/2),o=this._initialWorldOffset,c=this._draggable._newPos.x,l=(c-t+o)%e+t-o,d=(c+t+o)%e-t-o,p=Math.abs(l+o)<Math.abs(d+o)?l:d;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=p},_onDragEnd:function(e){var t=this._map,o=t.options,c=!o.inertia||e.noInertia||this._times.length<2;if(t.fire("dragend",e),c)t.fire("moveend");else{this._prunePositions(+new Date);var l=this._lastPos.subtract(this._positions[0]),d=(this._lastTime-this._times[0])/1e3,p=o.easeLinearity,g=l.multiplyBy(p/d),v=g.distanceTo([0,0]),y=Math.min(o.inertiaMaxSpeed,v),x=g.multiplyBy(y/v),T=y/(o.inertiaDeceleration*p),B=x.multiplyBy(-T/2).round();!B.x&&!B.y?t.fire("moveend"):(B=t._limitOffset(B,t.options.maxBounds),ke(function(){t.panBy(B,{duration:T,easeLinearity:p,noMoveStart:!0,animate:!0})}))}}});U.addInitHook("addHandler","dragging",sc),U.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ac=it.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(e){this._map=e,this._setPanDelta(e.options.keyboardPanDelta),this._setZoomDelta(e.options.zoomDelta)},addHooks:function(){var e=this._map._container;e.tabIndex<=0&&(e.tabIndex="0"),F(e,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Q(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var e=document.body,t=document.documentElement,o=e.scrollTop||t.scrollTop,c=e.scrollLeft||t.scrollLeft;this._map._container.focus(),window.scrollTo(c,o)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(e){var t=this._panKeys={},o=this.keyCodes,c,l;for(c=0,l=o.left.length;c<l;c++)t[o.left[c]]=[-1*e,0];for(c=0,l=o.right.length;c<l;c++)t[o.right[c]]=[e,0];for(c=0,l=o.down.length;c<l;c++)t[o.down[c]]=[0,e];for(c=0,l=o.up.length;c<l;c++)t[o.up[c]]=[0,-1*e]},_setZoomDelta:function(e){var t=this._zoomKeys={},o=this.keyCodes,c,l;for(c=0,l=o.zoomIn.length;c<l;c++)t[o.zoomIn[c]]=e;for(c=0,l=o.zoomOut.length;c<l;c++)t[o.zoomOut[c]]=-e},_addHooks:function(){F(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Q(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(e){if(!(e.altKey||e.ctrlKey||e.metaKey)){var t=e.keyCode,o=this._map,c;if(t in this._panKeys){if(!o._panAnim||!o._panAnim._inProgress)if(c=this._panKeys[t],e.shiftKey&&(c=P(c).multiplyBy(3)),o.options.maxBounds&&(c=o._limitOffset(P(c),o.options.maxBounds)),o.options.worldCopyJump){var l=o.wrapLatLng(o.unproject(o.project(o.getCenter()).add(c)));o.panTo(l)}else o.panBy(c)}else if(t in this._zoomKeys)o.setZoom(o.getZoom()+(e.shiftKey?3:1)*this._zoomKeys[t]);else if(t===27&&o._popup&&o._popup.options.closeOnEscapeKey)o.closePopup();else return;Lt(e)}}});U.addInitHook("addHandler","keyboard",ac),U.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var cc=it.extend({addHooks:function(){F(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Q(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(e){var t=Pa(e),o=this._map.options.wheelDebounceTime;this._delta+=t,this._lastMousePos=this._map.mouseEventToContainerPoint(e),this._startTime||(this._startTime=+new Date);var c=Math.max(o-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),c),Lt(e)},_performZoom:function(){var e=this._map,t=e.getZoom(),o=this._map.options.zoomSnap||0;e._stop();var c=this._delta/(this._map.options.wheelPxPerZoomLevel*4),l=4*Math.log(2/(1+Math.exp(-Math.abs(c))))/Math.LN2,d=o?Math.ceil(l/o)*o:l,p=e._limitZoom(t+(this._delta>0?d:-d))-t;this._delta=0,this._startTime=null,p&&(e.options.scrollWheelZoom==="center"?e.setZoom(t+p):e.setZoomAround(this._lastMousePos,t+p))}});U.addInitHook("addHandler","scrollWheelZoom",cc);var zu=600;U.mergeOptions({tapHold:E.touchNative&&E.safari&&E.mobile,tapTolerance:15});var lc=it.extend({addHooks:function(){F(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Q(this._map._container,"touchstart",this._onDown,this)},_onDown:function(e){if(clearTimeout(this._holdTimeout),e.touches.length===1){var t=e.touches[0];this._startPos=this._newPos=new N(t.clientX,t.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(F(document,"touchend",_e),F(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",t))},this),zu),F(document,"touchend touchcancel contextmenu",this._cancel,this),F(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function e(){Q(document,"touchend",_e),Q(document,"touchend touchcancel",e)},_cancel:function(){clearTimeout(this._holdTimeout),Q(document,"touchend touchcancel contextmenu",this._cancel,this),Q(document,"touchmove",this._onMove,this)},_onMove:function(e){var t=e.touches[0];this._newPos=new N(t.clientX,t.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(e,t){var o=new MouseEvent(e,{bubbles:!0,cancelable:!0,view:window,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY});o._simulated=!0,t.target.dispatchEvent(o)}});U.addInitHook("addHandler","tapHold",lc),U.mergeOptions({touchZoom:E.touch,bounceAtZoomLimits:!0});var hc=it.extend({addHooks:function(){z(this._map._container,"leaflet-touch-zoom"),F(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){ne(this._map._container,"leaflet-touch-zoom"),Q(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(e){var t=this._map;if(!(!e.touches||e.touches.length!==2||t._animatingZoom||this._zooming)){var o=t.mouseEventToContainerPoint(e.touches[0]),c=t.mouseEventToContainerPoint(e.touches[1]);this._centerPoint=t.getSize()._divideBy(2),this._startLatLng=t.containerPointToLatLng(this._centerPoint),t.options.touchZoom!=="center"&&(this._pinchStartLatLng=t.containerPointToLatLng(o.add(c)._divideBy(2))),this._startDist=o.distanceTo(c),this._startZoom=t.getZoom(),this._moved=!1,this._zooming=!0,t._stop(),F(document,"touchmove",this._onTouchMove,this),F(document,"touchend touchcancel",this._onTouchEnd,this),_e(e)}},_onTouchMove:function(e){if(!(!e.touches||e.touches.length!==2||!this._zooming)){var t=this._map,o=t.mouseEventToContainerPoint(e.touches[0]),c=t.mouseEventToContainerPoint(e.touches[1]),l=o.distanceTo(c)/this._startDist;if(this._zoom=t.getScaleZoom(l,this._startZoom),!t.options.bounceAtZoomLimits&&(this._zoom<t.getMinZoom()&&l<1||this._zoom>t.getMaxZoom()&&l>1)&&(this._zoom=t._limitZoom(this._zoom)),t.options.touchZoom==="center"){if(this._center=this._startLatLng,l===1)return}else{var d=o._add(c)._divideBy(2)._subtract(this._centerPoint);if(l===1&&d.x===0&&d.y===0)return;this._center=t.unproject(t.project(this._pinchStartLatLng,this._zoom).subtract(d),this._zoom)}this._moved||(t._moveStart(!0,!1),this._moved=!0),Ve(this._animRequest);var p=a(t._move,t,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=ke(p,this,!0),_e(e)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Ve(this._animRequest),Q(document,"touchmove",this._onTouchMove,this),Q(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});U.addInitHook("addHandler","touchZoom",hc),U.BoxZoom=rc,U.DoubleClickZoom=oc,U.Drag=sc,U.Keyboard=ac,U.ScrollWheelZoom=cc,U.TapHold=lc,U.TouchZoom=hc,n.Bounds=ee,n.Browser=E,n.CRS=ct,n.Canvas=ec,n.Circle=go,n.CircleMarker=Rn,n.Class=at,n.Control=qe,n.DivIcon=Xa,n.DivOverlay=nt,n.DomEvent=nu,n.DomUtil=tu,n.Draggable=wt,n.Evented=ki,n.FeatureGroup=lt,n.GeoJSON=ut,n.GridLayer=Ni,n.Handler=it,n.Icon=ei,n.ImageOverlay=Vn,n.LatLng=X,n.LatLngBounds=Ee,n.Layer=Ke,n.LayerGroup=Qt,n.LineUtil=gu,n.Map=U,n.Marker=Pn,n.Mixin=hu,n.Path=xt,n.Point=N,n.PolyUtil=uu,n.Polygon=ti,n.Polyline=ht,n.Popup=zn,n.PosAnimation=Ra,n.Projection=_u,n.Rectangle=nc,n.Renderer=dt,n.SVG=Vi,n.SVGOverlay=Ya,n.TileLayer=ni,n.Tooltip=Bn,n.Transformation=jr,n.Util=Ch,n.VideoOverlay=Ka,n.bind=a,n.bounds=Ie,n.canvas=tc,n.circle=Iu,n.circleMarker=ku,n.control=Ri,n.divIcon=Ou,n.extend=i,n.featureGroup=wu,n.geoJSON=qa,n.geoJson=Tu,n.gridLayer=Lu,n.icon=xu,n.imageOverlay=Au,n.latLng=j,n.latLngBounds=re,n.layerGroup=bu,n.map=ru,n.marker=Cu,n.point=P,n.polygon=Mu,n.polyline=Eu,n.popup=Pu,n.rectangle=Vu,n.setOptions=k,n.stamp=u,n.svg=ic,n.svgOverlay=Du,n.tileLayer=Ja,n.tooltip=Ru,n.transformation=Ii,n.version=r,n.videoOverlay=Su;var Bu=window.L;n.noConflict=function(){return window.L=Bu,this},window.L=n})});var Yi=class{},ar=class{},mt=class n{constructor(r){this.normalizedNames=new Map,this.lazyUpdate=null,r?typeof r=="string"?this.lazyInit=()=>{this.headers=new Map,r.split(`
`).forEach(i=>{let s=i.indexOf(":");if(s>0){let a=i.slice(0,s),h=a.toLowerCase(),u=i.slice(s+1).trim();this.maybeSetNormalizedName(a,h),this.headers.has(h)?this.headers.get(h).push(u):this.headers.set(h,[u])}})}:typeof Headers<"u"&&r instanceof Headers?(this.headers=new Map,r.forEach((i,s)=>{this.setHeaderEntries(s,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(r).forEach(([i,s])=>{this.setHeaderEntries(i,s)})}:this.headers=new Map}has(r){return this.init(),this.headers.has(r.toLowerCase())}get(r){this.init();let i=this.headers.get(r.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(r){return this.init(),this.headers.get(r.toLowerCase())||null}append(r,i){return this.clone({name:r,value:i,op:"a"})}set(r,i){return this.clone({name:r,value:i,op:"s"})}delete(r,i){return this.clone({name:r,value:i,op:"d"})}maybeSetNormalizedName(r,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,r)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(r=>this.applyUpdate(r)),this.lazyUpdate=null))}copyFrom(r){r.init(),Array.from(r.headers.keys()).forEach(i=>{this.headers.set(i,r.headers.get(i)),this.normalizedNames.set(i,r.normalizedNames.get(i))})}clone(r){let i=new n;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([r]),i}applyUpdate(r){let i=r.name.toLowerCase();switch(r.op){case"a":case"s":let s=r.value;if(typeof s=="string"&&(s=[s]),s.length===0)return;this.maybeSetNormalizedName(r.name,i);let a=(r.op==="a"?this.headers.get(i):void 0)||[];a.push(...s),this.headers.set(i,a);break;case"d":let h=r.value;if(!h)this.headers.delete(i),this.normalizedNames.delete(i);else{let u=this.headers.get(i);if(!u)return;u=u.filter(m=>h.indexOf(m)===-1),u.length===0?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,u)}break}}setHeaderEntries(r,i){let s=(Array.isArray(i)?i:[i]).map(h=>h.toString()),a=r.toLowerCase();this.headers.set(a,s),this.maybeSetNormalizedName(r,a)}forEach(r){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>r(this.normalizedNames.get(i),this.headers.get(i)))}};var Uo=class{encodeKey(r){return Gc(r)}encodeValue(r){return Gc(r)}decodeKey(r){return decodeURIComponent(r)}decodeValue(r){return decodeURIComponent(r)}};function Qu(n,r){let i=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(a=>{let h=a.indexOf("="),[u,m]=h==-1?[r.decodeKey(a),""]:[r.decodeKey(a.slice(0,h)),r.decodeValue(a.slice(h+1))],f=i.get(u)||[];f.push(m),i.set(u,f)}),i}var ed=/%(\d[a-f0-9])/gi,td={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Gc(n){return encodeURIComponent(n).replace(ed,(r,i)=>td[i]??r)}function sr(n){return`${n}`}var At=class n{constructor(r={}){if(this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new Uo,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Qu(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(i=>{let s=r.fromObject[i],a=Array.isArray(s)?s.map(sr):[sr(s)];this.map.set(i,a)})):this.map=null}has(r){return this.init(),this.map.has(r)}get(r){this.init();let i=this.map.get(r);return i?i[0]:null}getAll(r){return this.init(),this.map.get(r)||null}keys(){return this.init(),Array.from(this.map.keys())}append(r,i){return this.clone({param:r,value:i,op:"a"})}appendAll(r){let i=[];return Object.keys(r).forEach(s=>{let a=r[s];Array.isArray(a)?a.forEach(h=>{i.push({param:s,value:h,op:"a"})}):i.push({param:s,value:a,op:"a"})}),this.clone(i)}set(r,i){return this.clone({param:r,value:i,op:"s"})}delete(r,i){return this.clone({param:r,value:i,op:"d"})}toString(){return this.init(),this.keys().map(r=>{let i=this.encoder.encodeKey(r);return this.map.get(r).map(s=>i+"="+this.encoder.encodeValue(s)).join("&")}).filter(r=>r!=="").join("&")}clone(r){let i=new n({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(r),i}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(r=>this.map.set(r,this.cloneFrom.map.get(r))),this.updates.forEach(r=>{switch(r.op){case"a":case"s":let i=(r.op==="a"?this.map.get(r.param):void 0)||[];i.push(sr(r.value)),this.map.set(r.param,i);break;case"d":if(r.value!==void 0){let s=this.map.get(r.param)||[],a=s.indexOf(sr(r.value));a!==-1&&s.splice(a,1),s.length>0?this.map.set(r.param,s):this.map.delete(r.param)}else{this.map.delete(r.param);break}}}),this.cloneFrom=this.updates=null)}};var Zo=class{constructor(){this.map=new Map}set(r,i){return this.map.set(r,i),this}get(r){return this.map.has(r)||this.map.set(r,r.defaultValue()),this.map.get(r)}delete(r){return this.map.delete(r),this}has(r){return this.map.has(r)}keys(){return this.map.keys()}};function id(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Wc(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function qc(n){return typeof Blob<"u"&&n instanceof Blob}function Kc(n){return typeof FormData<"u"&&n instanceof FormData}function nd(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Ki=class n{constructor(r,i,s,a){this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=r.toUpperCase();let h;if(id(this.method)||a?(this.body=s!==void 0?s:null,h=a):h=s,h&&(this.reportProgress=!!h.reportProgress,this.withCredentials=!!h.withCredentials,h.responseType&&(this.responseType=h.responseType),h.headers&&(this.headers=h.headers),h.context&&(this.context=h.context),h.params&&(this.params=h.params),this.transferCache=h.transferCache),this.headers??=new mt,this.context??=new Zo,!this.params)this.params=new At,this.urlWithParams=i;else{let u=this.params.toString();if(u.length===0)this.urlWithParams=i;else{let m=i.indexOf("?"),f=m===-1?"?":m<i.length-1?"&":"";this.urlWithParams=i+f+u}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Wc(this.body)||qc(this.body)||Kc(this.body)||nd(this.body)?this.body:this.body instanceof At?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||Kc(this.body)?null:qc(this.body)?this.body.type||null:Wc(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof At?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(r={}){let i=r.method||this.method,s=r.url||this.url,a=r.responseType||this.responseType,h=r.transferCache??this.transferCache,u=r.body!==void 0?r.body:this.body,m=r.withCredentials??this.withCredentials,f=r.reportProgress??this.reportProgress,_=r.headers||this.headers,b=r.params||this.params,w=r.context??this.context;return r.setHeaders!==void 0&&(_=Object.keys(r.setHeaders).reduce((M,k)=>M.set(k,r.setHeaders[k]),_)),r.setParams&&(b=Object.keys(r.setParams).reduce((M,k)=>M.set(k,r.setParams[k]),b)),new n(i,s,u,{params:b,headers:_,context:w,reportProgress:f,responseType:a,withCredentials:m,transferCache:h})}},St=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(St||{}),Xi=class{constructor(r,i=200,s="OK"){this.headers=r.headers||new mt,this.status=r.status!==void 0?r.status:i,this.statusText=r.statusText||s,this.url=r.url||null,this.ok=this.status>=200&&this.status<300}},cr=class n extends Xi{constructor(r={}){super(r),this.type=St.ResponseHeader}clone(r={}){return new n({headers:r.headers||this.headers,status:r.status!==void 0?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}},Ji=class n extends Xi{constructor(r={}){super(r),this.type=St.Response,this.body=r.body!==void 0?r.body:null}clone(r={}){return new n({body:r.body!==void 0?r.body:this.body,headers:r.headers||this.headers,status:r.status!==void 0?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}},Tt=class extends Xi{constructor(r){super(r,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${r.url||"(unknown url)"}`:this.message=`Http failure response for ${r.url||"(unknown url)"}: ${r.status} ${r.statusText}`,this.error=r.error||null}},el=200,rd=204;function jo(n,r){return{body:r,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Go=(()=>{class n{constructor(i){this.handler=i}request(i,s,a={}){let h;if(i instanceof Ki)h=i;else{let f;a.headers instanceof mt?f=a.headers:f=new mt(a.headers);let _;a.params&&(a.params instanceof At?_=a.params:_=new At({fromObject:a.params})),h=new Ki(i,s,a.body!==void 0?a.body:null,{headers:f,context:a.context,params:_,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials,transferCache:a.transferCache})}let u=R(h).pipe(Ft(f=>this.handler.handle(f)));if(i instanceof Ki||a.observe==="events")return u;let m=u.pipe(It(f=>f instanceof Ji));switch(a.observe||"body"){case"body":switch(h.responseType){case"arraybuffer":return m.pipe(Z(f=>{if(f.body!==null&&!(f.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return f.body}));case"blob":return m.pipe(Z(f=>{if(f.body!==null&&!(f.body instanceof Blob))throw new Error("Response is not a Blob.");return f.body}));case"text":return m.pipe(Z(f=>{if(f.body!==null&&typeof f.body!="string")throw new Error("Response is not a string.");return f.body}));case"json":default:return m.pipe(Z(f=>f.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(i,s={}){return this.request("DELETE",i,s)}get(i,s={}){return this.request("GET",i,s)}head(i,s={}){return this.request("HEAD",i,s)}jsonp(i,s){return this.request("JSONP",i,{params:new At().append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,s={}){return this.request("OPTIONS",i,s)}patch(i,s,a={}){return this.request("PATCH",i,jo(a,s))}post(i,s,a={}){return this.request("POST",i,jo(a,s))}put(i,s,a={}){return this.request("PUT",i,jo(a,s))}static{this.\u0275fac=function(s){return new(s||n)(A(Yi))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})(),od=/^\)\]\}',?\n/,sd="X-Request-URL";function Yc(n){if(n.url)return n.url;let r=sd.toLocaleLowerCase();return n.headers.get(r)}var ad=(()=>{class n{constructor(){this.fetchImpl=I($o,{optional:!0})?.fetch??((...i)=>globalThis.fetch(...i)),this.ngZone=I(ue)}handle(i){return new Ct(s=>{let a=new AbortController;return this.doRequest(i,a.signal,s).then(Ho,h=>s.error(new Tt({error:h}))),()=>a.abort()})}doRequest(i,s,a){return wo(this,null,function*(){let h=this.createRequestInit(i),u;try{let k=this.ngZone.runOutsideAngular(()=>this.fetchImpl(i.urlWithParams,C({signal:s},h)));cd(k),a.next({type:St.Sent}),u=yield k}catch(k){a.error(new Tt({error:k,status:k.status??0,statusText:k.statusText,url:i.urlWithParams,headers:k.headers}));return}let m=new mt(u.headers),f=u.statusText,_=Yc(u)??i.urlWithParams,b=u.status,w=null;if(i.reportProgress&&a.next(new cr({headers:m,status:b,statusText:f,url:_})),u.body){let k=u.headers.get("content-length"),Y=[],O=u.body.getReader(),D=0,K,be,W=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>wo(this,null,function*(){for(;;){let{done:Qe,value:yt}=yield O.read();if(Qe)break;if(Y.push(yt),D+=yt.length,i.reportProgress){be=i.responseType==="text"?(be??"")+(K??=new TextDecoder).decode(yt,{stream:!0}):void 0;let Kt=()=>a.next({type:St.DownloadProgress,total:k?+k:void 0,loaded:D,partialText:be});W?W.run(Kt):Kt()}}}));let st=this.concatChunks(Y,D);try{let Qe=u.headers.get("Content-Type")??"";w=this.parseBody(i,st,Qe)}catch(Qe){a.error(new Tt({error:Qe,headers:new mt(u.headers),status:u.status,statusText:u.statusText,url:Yc(u)??i.urlWithParams}));return}}b===0&&(b=w?el:0),b>=200&&b<300?(a.next(new Ji({body:w,headers:m,status:b,statusText:f,url:_})),a.complete()):a.error(new Tt({error:w,headers:m,status:b,statusText:f,url:_}))})}parseBody(i,s,a){switch(i.responseType){case"json":let h=new TextDecoder().decode(s).replace(od,"");return h===""?null:JSON.parse(h);case"text":return new TextDecoder().decode(s);case"blob":return new Blob([s],{type:a});case"arraybuffer":return s.buffer}}createRequestInit(i){let s={},a=i.withCredentials?"include":void 0;if(i.headers.forEach((h,u)=>s[h]=u.join(",")),i.headers.has("Accept")||(s.Accept="application/json, text/plain, */*"),!i.headers.has("Content-Type")){let h=i.detectContentTypeHeader();h!==null&&(s["Content-Type"]=h)}return{body:i.serializeBody(),method:i.method,headers:s,credentials:a}}concatChunks(i,s){let a=new Uint8Array(s),h=0;for(let u of i)a.set(u,h),h+=u.length;return a}static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})(),$o=class{};function Ho(){}function cd(n){n.then(Ho,Ho)}function tl(n,r){return r(n)}function ld(n,r){return(i,s)=>r.intercept(i,{handle:a=>n(a,s)})}function hd(n,r,i){return(s,a)=>Ye(i,()=>r(s,h=>n(h,a)))}var ud=new $(""),Wo=new $(""),dd=new $(""),il=new $("",{providedIn:"root",factory:()=>!0});function fd(){let n=null;return(r,i)=>{n===null&&(n=(I(ud,{optional:!0})??[]).reduceRight(ld,tl));let s=I(Zi);if(I(il)){let h=s.add();return n(r,i).pipe(Vt(()=>s.remove(h)))}else return n(r,i)}}var Xc=(()=>{class n extends Yi{constructor(i,s){super(),this.backend=i,this.injector=s,this.chain=null,this.pendingTasks=I(Zi),this.contributeToStability=I(il)}handle(i){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(Wo),...this.injector.get(dd,[])]));this.chain=s.reduceRight((a,h)=>hd(a,h,this.injector),tl)}if(this.contributeToStability){let s=this.pendingTasks.add();return this.chain(i,a=>this.backend.handle(a)).pipe(Vt(()=>this.pendingTasks.remove(s)))}else return this.chain(i,s=>this.backend.handle(s))}static{this.\u0275fac=function(s){return new(s||n)(A(ar),A(si))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})();var pd=/^\)\]\}',?\n/;function md(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var Jc=(()=>{class n{constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new ie(-2800,!1);let s=this.xhrFactory;return(s.\u0275loadImpl?De(s.\u0275loadImpl()):R(null)).pipe($e(()=>new Ct(h=>{let u=s.build();if(u.open(i.method,i.urlWithParams),i.withCredentials&&(u.withCredentials=!0),i.headers.forEach((O,D)=>u.setRequestHeader(O,D.join(","))),i.headers.has("Accept")||u.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){let O=i.detectContentTypeHeader();O!==null&&u.setRequestHeader("Content-Type",O)}if(i.responseType){let O=i.responseType.toLowerCase();u.responseType=O!=="json"?O:"text"}let m=i.serializeBody(),f=null,_=()=>{if(f!==null)return f;let O=u.statusText||"OK",D=new mt(u.getAllResponseHeaders()),K=md(u)||i.url;return f=new cr({headers:D,status:u.status,statusText:O,url:K}),f},b=()=>{let{headers:O,status:D,statusText:K,url:be}=_(),W=null;D!==rd&&(W=typeof u.response>"u"?u.responseText:u.response),D===0&&(D=W?el:0);let st=D>=200&&D<300;if(i.responseType==="json"&&typeof W=="string"){let Qe=W;W=W.replace(pd,"");try{W=W!==""?JSON.parse(W):null}catch(yt){W=Qe,st&&(st=!1,W={error:yt,text:W})}}st?(h.next(new Ji({body:W,headers:O,status:D,statusText:K,url:be||void 0})),h.complete()):h.error(new Tt({error:W,headers:O,status:D,statusText:K,url:be||void 0}))},w=O=>{let{url:D}=_(),K=new Tt({error:O,status:u.status||0,statusText:u.statusText||"Unknown Error",url:D||void 0});h.error(K)},M=!1,k=O=>{M||(h.next(_()),M=!0);let D={type:St.DownloadProgress,loaded:O.loaded};O.lengthComputable&&(D.total=O.total),i.responseType==="text"&&u.responseText&&(D.partialText=u.responseText),h.next(D)},Y=O=>{let D={type:St.UploadProgress,loaded:O.loaded};O.lengthComputable&&(D.total=O.total),h.next(D)};return u.addEventListener("load",b),u.addEventListener("error",w),u.addEventListener("timeout",w),u.addEventListener("abort",w),i.reportProgress&&(u.addEventListener("progress",k),m!==null&&u.upload&&u.upload.addEventListener("progress",Y)),u.send(m),h.next({type:St.Sent}),()=>{u.removeEventListener("error",w),u.removeEventListener("abort",w),u.removeEventListener("load",b),u.removeEventListener("timeout",w),i.reportProgress&&(u.removeEventListener("progress",k),m!==null&&u.upload&&u.upload.removeEventListener("progress",Y)),u.readyState!==u.DONE&&u.abort()}})))}static{this.\u0275fac=function(s){return new(s||n)(A(or))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})(),nl=new $(""),gd="XSRF-TOKEN",_d=new $("",{providedIn:"root",factory:()=>gd}),vd="X-XSRF-TOKEN",yd=new $("",{providedIn:"root",factory:()=>vd}),lr=class{},bd=(()=>{class n{constructor(i,s,a){this.doc=i,this.platform=s,this.cookieName=a,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=nr(i,this.cookieName),this.lastCookieString=i),this.lastToken}static{this.\u0275fac=function(s){return new(s||n)(A(me),A(pt),A(_d))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})();function wd(n,r){let i=n.url.toLowerCase();if(!I(nl)||n.method==="GET"||n.method==="HEAD"||i.startsWith("http://")||i.startsWith("https://"))return r(n);let s=I(lr).getToken(),a=I(yd);return s!=null&&!n.headers.has(a)&&(n=n.clone({headers:n.headers.set(a,s)})),r(n)}var rl=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(rl||{});function xd(n,r){return{\u0275kind:n,\u0275providers:r}}function Cd(...n){let r=[Go,Jc,Xc,{provide:Yi,useExisting:Xc},{provide:ar,useFactory:()=>I(ad,{optional:!0})??I(Jc)},{provide:Wo,useValue:wd,multi:!0},{provide:nl,useValue:!0},{provide:lr,useClass:bd}];for(let i of n)r.push(...i.\u0275providers);return Bt(r)}var Qc=new $("");function kd(){return xd(rl.LegacyInterceptors,[{provide:Qc,useFactory:fd},{provide:Wo,useExisting:Qc,multi:!0}])}var ol=(()=>{class n{static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275mod=Re({type:n})}static{this.\u0275inj=Pe({providers:[Cd(kd())]})}}return n})();var Yo=class extends Uc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Xo=class n extends Yo{static makeCurrent(){jc(new n)}onAndCancel(r,i,s){return r.addEventListener(i,s),()=>{r.removeEventListener(i,s)}}dispatchEvent(r,i){r.dispatchEvent(i)}remove(r){r.remove()}createElement(r,i){return i=i||this.getDefaultDocument(),i.createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,i){return i==="window"?window:i==="document"?r:i==="body"?r.body:null}getBaseHref(r){let i=Td();return i==null?null:Ad(i)}resetBaseElement(){Qi=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return nr(document.cookie,r)}},Qi=null;function Td(){return Qi=Qi||document.querySelector("base"),Qi?Qi.getAttribute("href"):null}function Ad(n){return new URL(n,document.baseURI).pathname}var Sd=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})(),Jo=new $(""),cl=(()=>{class n{constructor(i,s){this._zone=s,this._eventNameToPlugin=new Map,i.forEach(a=>{a.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,s,a){return this._findPluginFor(s).addEventListener(i,s,a)}getZone(){return this._zone}_findPluginFor(i){let s=this._eventNameToPlugin.get(i);if(s)return s;if(s=this._plugins.find(h=>h.supports(i)),!s)throw new ie(5101,!1);return this._eventNameToPlugin.set(i,s),s}static{this.\u0275fac=function(s){return new(s||n)(A(Jo),A(ue))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})(),hr=class{constructor(r){this._doc=r}},qo="ng-app-id",ll=(()=>{class n{constructor(i,s,a,h={}){this.doc=i,this.appId=s,this.nonce=a,this.platformId=h,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=rr(h),this.resetHostNodes()}addStyles(i){for(let s of i)this.changeUsageCount(s,1)===1&&this.onStyleAdded(s)}removeStyles(i){for(let s of i)this.changeUsageCount(s,-1)<=0&&this.onStyleRemoved(s)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(s=>s.remove()),i.clear());for(let s of this.getAllStyles())this.onStyleRemoved(s);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let s of this.getAllStyles())this.addStyleToHost(i,s)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let s of this.hostNodes)this.addStyleToHost(s,i)}onStyleRemoved(i){let s=this.styleRef;s.get(i)?.elements?.forEach(a=>a.remove()),s.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${qo}="${this.appId}"]`);if(i?.length){let s=new Map;return i.forEach(a=>{a.textContent!=null&&s.set(a.textContent,a)}),s}return null}changeUsageCount(i,s){let a=this.styleRef;if(a.has(i)){let h=a.get(i);return h.usage+=s,h.usage}return a.set(i,{usage:s,elements:[]}),s}getStyleElement(i,s){let a=this.styleNodesInDOM,h=a?.get(s);if(h?.parentNode===i)return a.delete(s),h.removeAttribute(qo),h;{let u=this.doc.createElement("style");return this.nonce&&u.setAttribute("nonce",this.nonce),u.textContent=s,this.platformIsServer&&u.setAttribute(qo,this.appId),i.appendChild(u),u}}addStyleToHost(i,s){let a=this.getStyleElement(i,s),h=this.styleRef,u=h.get(s)?.elements;u?u.push(a):h.set(s,{elements:[a],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}static{this.\u0275fac=function(s){return new(s||n)(A(me),A(Kn),A($i,8),A(pt))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})(),Ko={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ts=/%COMP%/g,hl="%COMP%",Dd=`_nghost-${hl}`,Pd=`_ngcontent-${hl}`,Rd=!0,Od=new $("",{providedIn:"root",factory:()=>Rd});function Ld(n){return Pd.replace(ts,n)}function Nd(n){return Dd.replace(ts,n)}function ul(n,r){return r.map(i=>i.replace(ts,n))}var ur=(()=>{class n{constructor(i,s,a,h,u,m,f,_=null){this.eventManager=i,this.sharedStylesHost=s,this.appId=a,this.removeStylesOnCompDestroy=h,this.doc=u,this.platformId=m,this.ngZone=f,this.nonce=_,this.rendererByCompId=new Map,this.platformIsServer=rr(m),this.defaultRenderer=new en(i,u,f,this.platformIsServer)}createRenderer(i,s){if(!i||!s)return this.defaultRenderer;this.platformIsServer&&s.encapsulation===ji.ShadowDom&&(s=le(C({},s),{encapsulation:ji.Emulated}));let a=this.getOrCreateRenderer(i,s);return a instanceof dr?a.applyToHost(i):a instanceof tn&&a.applyStyles(),a}getOrCreateRenderer(i,s){let a=this.rendererByCompId,h=a.get(s.id);if(!h){let u=this.doc,m=this.ngZone,f=this.eventManager,_=this.sharedStylesHost,b=this.removeStylesOnCompDestroy,w=this.platformIsServer;switch(s.encapsulation){case ji.Emulated:h=new dr(f,_,s,this.appId,b,u,m,w);break;case ji.ShadowDom:return new Qo(f,_,i,s,u,m,this.nonce,w);default:h=new tn(f,_,s,b,u,m,w);break}a.set(s.id,h)}return h}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(s){return new(s||n)(A(cl),A(ll),A(Kn),A(Od),A(me),A(pt),A(ue),A($i))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})(),en=class{constructor(r,i,s,a){this.eventManager=r,this.doc=i,this.ngZone=s,this.platformIsServer=a,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(r,i){return i?this.doc.createElementNS(Ko[i]||i,r):this.doc.createElement(r)}createComment(r){return this.doc.createComment(r)}createText(r){return this.doc.createTextNode(r)}appendChild(r,i){(sl(r)?r.content:r).appendChild(i)}insertBefore(r,i,s){r&&(sl(r)?r.content:r).insertBefore(i,s)}removeChild(r,i){i.remove()}selectRootElement(r,i){let s=typeof r=="string"?this.doc.querySelector(r):r;if(!s)throw new ie(-5104,!1);return i||(s.textContent=""),s}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,i,s,a){if(a){i=a+":"+i;let h=Ko[a];h?r.setAttributeNS(h,i,s):r.setAttribute(i,s)}else r.setAttribute(i,s)}removeAttribute(r,i,s){if(s){let a=Ko[s];a?r.removeAttributeNS(a,i):r.removeAttribute(`${s}:${i}`)}else r.removeAttribute(i)}addClass(r,i){r.classList.add(i)}removeClass(r,i){r.classList.remove(i)}setStyle(r,i,s,a){a&(Hi.DashCase|Hi.Important)?r.style.setProperty(i,s,a&Hi.Important?"important":""):r.style[i]=s}removeStyle(r,i,s){s&Hi.DashCase?r.style.removeProperty(i):r.style[i]=""}setProperty(r,i,s){r!=null&&(r[i]=s)}setValue(r,i){r.nodeValue=i}listen(r,i,s){if(typeof r=="string"&&(r=zo().getGlobalEventTarget(this.doc,r),!r))throw new Error(`Unsupported event target ${r} for event ${i}`);return this.eventManager.addEventListener(r,i,this.decoratePreventDefault(s))}decoratePreventDefault(r){return i=>{if(i==="__ngUnwrap__")return r;(this.platformIsServer?this.ngZone.runGuarded(()=>r(i)):r(i))===!1&&i.preventDefault()}}};function sl(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Qo=class extends en{constructor(r,i,s,a,h,u,m,f){super(r,h,u,f),this.sharedStylesHost=i,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let _=ul(a.id,a.styles);for(let b of _){let w=document.createElement("style");m&&w.setAttribute("nonce",m),w.textContent=b,this.shadowRoot.appendChild(w)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}appendChild(r,i){return super.appendChild(this.nodeOrShadowRoot(r),i)}insertBefore(r,i,s){return super.insertBefore(this.nodeOrShadowRoot(r),i,s)}removeChild(r,i){return super.removeChild(null,i)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},tn=class extends en{constructor(r,i,s,a,h,u,m,f){super(r,h,u,m),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=a,this.styles=f?ul(f,s.styles):s.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},dr=class extends tn{constructor(r,i,s,a,h,u,m,f){let _=a+"-"+s.id;super(r,i,s,h,u,m,f,_),this.contentAttr=Ld(_),this.hostAttr=Nd(_)}applyToHost(r){this.applyStyles(),this.setAttribute(r,this.hostAttr,"")}createElement(r,i){let s=super.createElement(r,i);return super.setAttribute(s,this.contentAttr,""),s}},Fd=(()=>{class n extends hr{constructor(i){super(i)}supports(i){return!0}addEventListener(i,s,a){return i.addEventListener(s,a,!1),()=>this.removeEventListener(i,s,a)}removeEventListener(i,s,a){return i.removeEventListener(s,a)}static{this.\u0275fac=function(s){return new(s||n)(A(me))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})(),al=["alt","control","meta","shift"],Vd={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},zd={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Bd=(()=>{class n extends hr{constructor(i){super(i)}supports(i){return n.parseEventName(i)!=null}addEventListener(i,s,a){let h=n.parseEventName(s),u=n.eventCallback(h.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>zo().onAndCancel(i,h.domEventName,u))}static parseEventName(i){let s=i.toLowerCase().split("."),a=s.shift();if(s.length===0||!(a==="keydown"||a==="keyup"))return null;let h=n._normalizeKey(s.pop()),u="",m=s.indexOf("code");if(m>-1&&(s.splice(m,1),u="code."),al.forEach(_=>{let b=s.indexOf(_);b>-1&&(s.splice(b,1),u+=_+".")}),u+=h,s.length!=0||h.length===0)return null;let f={};return f.domEventName=a,f.fullKey=u,f}static matchEventFullKeyCode(i,s){let a=Vd[i.key]||i.key,h="";return s.indexOf("code.")>-1&&(a=i.code,h="code."),a==null||!a?!1:(a=a.toLowerCase(),a===" "?a="space":a==="."&&(a="dot"),al.forEach(u=>{if(u!==a){let m=zd[u];m(i)&&(h+=u+".")}}),h+=a,h===s)}static eventCallback(i,s,a){return h=>{n.matchEventFullKeyCode(h,i)&&a.runGuarded(()=>s(h))}}static _normalizeKey(i){return i==="esc"?"escape":i}static{this.\u0275fac=function(s){return new(s||n)(A(me))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})();function dl(n,r){return zc(C({rootComponent:n},jd(r)))}function jd(n){return{appProviders:[...Gd,...n?.providers??[]],platformProviders:Hd}}function Ud(){Xo.makeCurrent()}function Zd(){return new Do}function $d(){return Tc(document),document}var Hd=[{provide:pt,useValue:$c},{provide:Ac,useValue:Ud,multi:!0},{provide:me,useFactory:$d,deps:[]}];var Gd=[{provide:Ic,useValue:"root"},{provide:Do,useFactory:Zd,deps:[]},{provide:Jo,useClass:Fd,multi:!0,deps:[me,ue,pt]},{provide:Jo,useClass:Bd,multi:!0,deps:[me]},ur,ll,cl,{provide:Xn,useExisting:ur},{provide:or,useClass:Sd,deps:[]},[]];var fl=(()=>{class n{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}static{this.\u0275fac=function(s){return new(s||n)(A(me))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var V="primary",yn=Symbol("RouteTitle"),ss=class{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){let i=this.params[r];return Array.isArray(i)?i[0]:i}return null}getAll(r){if(this.has(r)){let i=this.params[r];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}};function yi(n){return new ss(n)}function Kd(n,r,i){let s=i.path.split("/");if(s.length>n.length||i.pathMatch==="full"&&(r.hasChildren()||s.length<n.length))return null;let a={};for(let h=0;h<s.length;h++){let u=s[h],m=n[h];if(u[0]===":")a[u.substring(1)]=m;else if(u!==m.path)return null}return{consumed:n.slice(0,s.length),posParams:a}}function Yd(n,r){if(n.length!==r.length)return!1;for(let i=0;i<n.length;++i)if(!ot(n[i],r[i]))return!1;return!0}function ot(n,r){let i=n?as(n):void 0,s=r?as(r):void 0;if(!i||!s||i.length!=s.length)return!1;let a;for(let h=0;h<i.length;h++)if(a=i[h],!wl(n[a],r[a]))return!1;return!0}function as(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function wl(n,r){if(Array.isArray(n)&&Array.isArray(r)){if(n.length!==r.length)return!1;let i=[...n].sort(),s=[...r].sort();return i.every((a,h)=>s[h]===a)}else return n===r}function xl(n){return n.length>0?n[n.length-1]:null}function Dt(n){return _c(n)?n:No(n)?De(Promise.resolve(n)):R(n)}var Xd={exact:kl,subset:Il},Cl={exact:Jd,subset:Qd,ignored:()=>!0};function pl(n,r,i){return Xd[i.paths](n.root,r.root,i.matrixParams)&&Cl[i.queryParams](n.queryParams,r.queryParams)&&!(i.fragment==="exact"&&n.fragment!==r.fragment)}function Jd(n,r){return ot(n,r)}function kl(n,r,i){if(!Zt(n.segments,r.segments)||!mr(n.segments,r.segments,i)||n.numberOfChildren!==r.numberOfChildren)return!1;for(let s in r.children)if(!n.children[s]||!kl(n.children[s],r.children[s],i))return!1;return!0}function Qd(n,r){return Object.keys(r).length<=Object.keys(n).length&&Object.keys(r).every(i=>wl(n[i],r[i]))}function Il(n,r,i){return El(n,r,r.segments,i)}function El(n,r,i,s){if(n.segments.length>i.length){let a=n.segments.slice(0,i.length);return!(!Zt(a,i)||r.hasChildren()||!mr(a,i,s))}else if(n.segments.length===i.length){if(!Zt(n.segments,i)||!mr(n.segments,i,s))return!1;for(let a in r.children)if(!n.children[a]||!Il(n.children[a],r.children[a],s))return!1;return!0}else{let a=i.slice(0,n.segments.length),h=i.slice(n.segments.length);return!Zt(n.segments,a)||!mr(n.segments,a,s)||!n.children[V]?!1:El(n.children[V],r,h,s)}}function mr(n,r,i){return r.every((s,a)=>Cl[i](n[a].parameters,s.parameters))}var _t=class{constructor(r=new q([],{}),i={},s=null){this.root=r,this.queryParams=i,this.fragment=s}get queryParamMap(){return this._queryParamMap??=yi(this.queryParams),this._queryParamMap}toString(){return nf.serialize(this)}},q=class{constructor(r,i){this.segments=r,this.children=i,this.parent=null,Object.values(i).forEach(s=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gr(this)}},Ut=class{constructor(r,i){this.path=r,this.parameters=i}get parameterMap(){return this._parameterMap??=yi(this.parameters),this._parameterMap}toString(){return Tl(this)}};function ef(n,r){return Zt(n,r)&&n.every((i,s)=>ot(i.parameters,r[s].parameters))}function Zt(n,r){return n.length!==r.length?!1:n.every((i,s)=>i.path===r[s].path)}function tf(n,r){let i=[];return Object.entries(n.children).forEach(([s,a])=>{s===V&&(i=i.concat(r(a,s)))}),Object.entries(n.children).forEach(([s,a])=>{s!==V&&(i=i.concat(r(a,s)))}),i}var Rs=(()=>{class n{static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275prov=S({token:n,factory:()=>new ln,providedIn:"root"})}}return n})(),ln=class{parse(r){let i=new ls(r);return new _t(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(r){let i=`/${nn(r.root,!0)}`,s=sf(r.queryParams),a=typeof r.fragment=="string"?`#${rf(r.fragment)}`:"";return`${i}${s}${a}`}},nf=new ln;function gr(n){return n.segments.map(r=>Tl(r)).join("/")}function nn(n,r){if(!n.hasChildren())return gr(n);if(r){let i=n.children[V]?nn(n.children[V],!1):"",s=[];return Object.entries(n.children).forEach(([a,h])=>{a!==V&&s.push(`${a}:${nn(h,!1)}`)}),s.length>0?`${i}(${s.join("//")})`:i}else{let i=tf(n,(s,a)=>a===V?[nn(n.children[V],!1)]:[`${a}:${nn(s,!1)}`]);return Object.keys(n.children).length===1&&n.children[V]!=null?`${gr(n)}/${i[0]}`:`${gr(n)}/(${i.join("//")})`}}function Ml(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function fr(n){return Ml(n).replace(/%3B/gi,";")}function rf(n){return encodeURI(n)}function cs(n){return Ml(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _r(n){return decodeURIComponent(n)}function ml(n){return _r(n.replace(/\+/g,"%20"))}function Tl(n){return`${cs(n.path)}${of(n.parameters)}`}function of(n){return Object.entries(n).map(([r,i])=>`;${cs(r)}=${cs(i)}`).join("")}function sf(n){let r=Object.entries(n).map(([i,s])=>Array.isArray(s)?s.map(a=>`${fr(i)}=${fr(a)}`).join("&"):`${fr(i)}=${fr(s)}`).filter(i=>i);return r.length?`?${r.join("&")}`:""}var af=/^[^\/()?;#]+/;function is(n){let r=n.match(af);return r?r[0]:""}var cf=/^[^\/()?;=#]+/;function lf(n){let r=n.match(cf);return r?r[0]:""}var hf=/^[^=?&#]+/;function uf(n){let r=n.match(hf);return r?r[0]:""}var df=/^[^&#]+/;function ff(n){let r=n.match(df);return r?r[0]:""}var ls=class{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new q([],{}):new q([],this.parseChildren())}parseQueryParams(){let r={};if(this.consumeOptional("?"))do this.parseQueryParam(r);while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(r.length>0||Object.keys(i).length>0)&&(s[V]=new q(r,i)),s}parseSegment(){let r=is(this.remaining);if(r===""&&this.peekStartsWith(";"))throw new ie(4009,!1);return this.capture(r),new Ut(_r(r),this.parseMatrixParams())}parseMatrixParams(){let r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){let i=lf(this.remaining);if(!i)return;this.capture(i);let s="";if(this.consumeOptional("=")){let a=is(this.remaining);a&&(s=a,this.capture(s))}r[_r(i)]=_r(s)}parseQueryParam(r){let i=uf(this.remaining);if(!i)return;this.capture(i);let s="";if(this.consumeOptional("=")){let u=ff(this.remaining);u&&(s=u,this.capture(s))}let a=ml(i),h=ml(s);if(r.hasOwnProperty(a)){let u=r[a];Array.isArray(u)||(u=[u],r[a]=u),u.push(h)}else r[a]=h}parseParens(r){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let s=is(this.remaining),a=this.remaining[s.length];if(a!=="/"&&a!==")"&&a!==";")throw new ie(4010,!1);let h;s.indexOf(":")>-1?(h=s.slice(0,s.indexOf(":")),this.capture(h),this.capture(":")):r&&(h=V);let u=this.parseChildren();i[h]=Object.keys(u).length===1?u[V]:new q([],u),this.consumeOptional("//")}return i}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return this.peekStartsWith(r)?(this.remaining=this.remaining.substring(r.length),!0):!1}capture(r){if(!this.consumeOptional(r))throw new ie(4011,!1)}};function Al(n){return n.segments.length>0?new q([],{[V]:n}):n}function Sl(n){let r={};for(let[s,a]of Object.entries(n.children)){let h=Sl(a);if(s===V&&h.segments.length===0&&h.hasChildren())for(let[u,m]of Object.entries(h.children))r[u]=m;else(h.segments.length>0||h.hasChildren())&&(r[s]=h)}let i=new q(n.segments,r);return pf(i)}function pf(n){if(n.numberOfChildren===1&&n.children[V]){let r=n.children[V];return new q(n.segments.concat(r.segments),r.children)}return n}function hn(n){return n instanceof _t}function mf(n,r,i=null,s=null){let a=Dl(n);return Pl(a,r,i,s)}function Dl(n){let r;function i(h){let u={};for(let f of h.children){let _=i(f);u[f.outlet]=_}let m=new q(h.url,u);return h===n&&(r=m),m}let s=i(n.root),a=Al(s);return r??a}function Pl(n,r,i,s){let a=n;for(;a.parent;)a=a.parent;if(r.length===0)return ns(a,a,a,i,s);let h=gf(r);if(h.toRoot())return ns(a,a,new q([],{}),i,s);let u=_f(h,a,n),m=u.processChildren?sn(u.segmentGroup,u.index,h.commands):Ol(u.segmentGroup,u.index,h.commands);return ns(a,u.segmentGroup,m,i,s)}function vr(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function un(n){return typeof n=="object"&&n!=null&&n.outlets}function ns(n,r,i,s,a){let h={};s&&Object.entries(s).forEach(([f,_])=>{h[f]=Array.isArray(_)?_.map(b=>`${b}`):`${_}`});let u;n===r?u=i:u=Rl(n,r,i);let m=Al(Sl(u));return new _t(m,h,a)}function Rl(n,r,i){let s={};return Object.entries(n.children).forEach(([a,h])=>{h===r?s[a]=i:s[a]=Rl(h,r,i)}),new q(n.segments,s)}var yr=class{constructor(r,i,s){if(this.isAbsolute=r,this.numberOfDoubleDots=i,this.commands=s,r&&s.length>0&&vr(s[0]))throw new ie(4003,!1);let a=s.find(un);if(a&&a!==xl(s))throw new ie(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function gf(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new yr(!0,0,n);let r=0,i=!1,s=n.reduce((a,h,u)=>{if(typeof h=="object"&&h!=null){if(h.outlets){let m={};return Object.entries(h.outlets).forEach(([f,_])=>{m[f]=typeof _=="string"?_.split("/"):_}),[...a,{outlets:m}]}if(h.segmentPath)return[...a,h.segmentPath]}return typeof h!="string"?[...a,h]:u===0?(h.split("/").forEach((m,f)=>{f==0&&m==="."||(f==0&&m===""?i=!0:m===".."?r++:m!=""&&a.push(m))}),a):[...a,h]},[]);return new yr(i,r,s)}var gi=class{constructor(r,i,s){this.segmentGroup=r,this.processChildren=i,this.index=s}};function _f(n,r,i){if(n.isAbsolute)return new gi(r,!0,0);if(!i)return new gi(r,!1,NaN);if(i.parent===null)return new gi(i,!0,0);let s=vr(n.commands[0])?0:1,a=i.segments.length-1+s;return vf(i,a,n.numberOfDoubleDots)}function vf(n,r,i){let s=n,a=r,h=i;for(;h>a;){if(h-=a,s=s.parent,!s)throw new ie(4005,!1);a=s.segments.length}return new gi(s,!1,a-h)}function yf(n){return un(n[0])?n[0].outlets:{[V]:n}}function Ol(n,r,i){if(n??=new q([],{}),n.segments.length===0&&n.hasChildren())return sn(n,r,i);let s=bf(n,r,i),a=i.slice(s.commandIndex);if(s.match&&s.pathIndex<n.segments.length){let h=new q(n.segments.slice(0,s.pathIndex),{});return h.children[V]=new q(n.segments.slice(s.pathIndex),n.children),sn(h,0,a)}else return s.match&&a.length===0?new q(n.segments,{}):s.match&&!n.hasChildren()?hs(n,r,i):s.match?sn(n,0,a):hs(n,r,i)}function sn(n,r,i){if(i.length===0)return new q(n.segments,{});{let s=yf(i),a={};if(Object.keys(s).some(h=>h!==V)&&n.children[V]&&n.numberOfChildren===1&&n.children[V].segments.length===0){let h=sn(n.children[V],r,i);return new q(n.segments,h.children)}return Object.entries(s).forEach(([h,u])=>{typeof u=="string"&&(u=[u]),u!==null&&(a[h]=Ol(n.children[h],r,u))}),Object.entries(n.children).forEach(([h,u])=>{s[h]===void 0&&(a[h]=u)}),new q(n.segments,a)}}function bf(n,r,i){let s=0,a=r,h={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(s>=i.length)return h;let u=n.segments[a],m=i[s];if(un(m))break;let f=`${m}`,_=s<i.length-1?i[s+1]:null;if(a>0&&f===void 0)break;if(f&&_&&typeof _=="object"&&_.outlets===void 0){if(!_l(f,_,u))return h;s+=2}else{if(!_l(f,{},u))return h;s++}a++}return{match:!0,pathIndex:a,commandIndex:s}}function hs(n,r,i){let s=n.segments.slice(0,r),a=0;for(;a<i.length;){let h=i[a];if(un(h)){let f=wf(h.outlets);return new q(s,f)}if(a===0&&vr(i[0])){let f=n.segments[r];s.push(new Ut(f.path,gl(i[0]))),a++;continue}let u=un(h)?h.outlets[V]:`${h}`,m=a<i.length-1?i[a+1]:null;u&&m&&vr(m)?(s.push(new Ut(u,gl(m))),a+=2):(s.push(new Ut(u,{})),a++)}return new q(s,{})}function wf(n){let r={};return Object.entries(n).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[i]=hs(new q([],{}),0,s))}),r}function gl(n){let r={};return Object.entries(n).forEach(([i,s])=>r[i]=`${s}`),r}function _l(n,r,i){return n==i.path&&ot(r,i.parameters)}var an="imperative",ye=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(ye||{}),Ge=class{constructor(r,i){this.id=r,this.url=i}},dn=class extends Ge{constructor(r,i,s="imperative",a=null){super(r,i),this.type=ye.NavigationStart,this.navigationTrigger=s,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},$t=class extends Ge{constructor(r,i,s){super(r,i),this.urlAfterRedirects=s,this.type=ye.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Ne=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Ne||{}),us=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(us||{}),gt=class extends Ge{constructor(r,i,s,a){super(r,i),this.reason=s,this.code=a,this.type=ye.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ht=class extends Ge{constructor(r,i,s,a){super(r,i),this.reason=s,this.code=a,this.type=ye.NavigationSkipped}},fn=class extends Ge{constructor(r,i,s,a){super(r,i),this.error=s,this.target=a,this.type=ye.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},br=class extends Ge{constructor(r,i,s,a){super(r,i),this.urlAfterRedirects=s,this.state=a,this.type=ye.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ds=class extends Ge{constructor(r,i,s,a){super(r,i),this.urlAfterRedirects=s,this.state=a,this.type=ye.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},fs=class extends Ge{constructor(r,i,s,a,h){super(r,i),this.urlAfterRedirects=s,this.state=a,this.shouldActivate=h,this.type=ye.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},ps=class extends Ge{constructor(r,i,s,a){super(r,i),this.urlAfterRedirects=s,this.state=a,this.type=ye.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ms=class extends Ge{constructor(r,i,s,a){super(r,i),this.urlAfterRedirects=s,this.state=a,this.type=ye.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},gs=class{constructor(r){this.route=r,this.type=ye.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},_s=class{constructor(r){this.route=r,this.type=ye.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},vs=class{constructor(r){this.snapshot=r,this.type=ye.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ys=class{constructor(r){this.snapshot=r,this.type=ye.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},bs=class{constructor(r){this.snapshot=r,this.type=ye.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ws=class{constructor(r){this.snapshot=r,this.type=ye.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var pn=class{},bi=class{constructor(r,i){this.url=r,this.navigationBehaviorOptions=i}};function xf(n,r){return n.providers&&!n._injector&&(n._injector=Rc(n.providers,r,`Route: ${n.path}`)),n._injector??r}function Je(n){return n.outlet||V}function Cf(n,r){let i=n.filter(s=>Je(s)===r);return i.push(...n.filter(s=>Je(s)!==r)),i}function bn(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let r=n.parent;r;r=r.parent){let i=r.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}var xs=class{get injector(){return bn(this.route?.snapshot)??this.rootInjector}set injector(r){}constructor(r){this.rootInjector=r,this.outlet=null,this.route=null,this.children=new Mr(this.rootInjector),this.attachRef=null}},Mr=(()=>{class n{constructor(i){this.rootInjector=i,this.contexts=new Map}onChildOutletCreated(i,s){let a=this.getOrCreateContext(i);a.outlet=s,this.contexts.set(i,a)}onChildOutletDestroyed(i){let s=this.getContext(i);s&&(s.outlet=null,s.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let s=this.getContext(i);return s||(s=new xs(this.rootInjector),this.contexts.set(i,s)),s}getContext(i){return this.contexts.get(i)||null}static{this.\u0275fac=function(s){return new(s||n)(A(si))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),wr=class{constructor(r){this._root=r}get root(){return this._root.value}parent(r){let i=this.pathFromRoot(r);return i.length>1?i[i.length-2]:null}children(r){let i=Cs(r,this._root);return i?i.children.map(s=>s.value):[]}firstChild(r){let i=Cs(r,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(r){let i=ks(r,this._root);return i.length<2?[]:i[i.length-2].children.map(a=>a.value).filter(a=>a!==r)}pathFromRoot(r){return ks(r,this._root).map(i=>i.value)}};function Cs(n,r){if(n===r.value)return r;for(let i of r.children){let s=Cs(n,i);if(s)return s}return null}function ks(n,r){if(n===r.value)return[r];for(let i of r.children){let s=ks(n,i);if(s.length)return s.unshift(r),s}return[]}var Le=class{constructor(r,i){this.value=r,this.children=i}toString(){return`TreeNode(${this.value})`}};function mi(n){let r={};return n&&n.children.forEach(i=>r[i.value.outlet]=i),r}var xr=class extends wr{constructor(r,i){super(r),this.snapshot=i,Os(this,r)}toString(){return this.snapshot.toString()}};function Ll(n){let r=kf(n),i=new Ue([new Ut("",{})]),s=new Ue({}),a=new Ue({}),h=new Ue({}),u=new Ue(""),m=new wi(i,s,h,u,a,V,n,r.root);return m.snapshot=r.root,new xr(new Le(m,[]),r)}function kf(n){let r={},i={},s={},a="",h=new _i([],r,s,a,i,V,n,null,{});return new kr("",new Le(h,[]))}var wi=class{constructor(r,i,s,a,h,u,m,f){this.urlSubject=r,this.paramsSubject=i,this.queryParamsSubject=s,this.fragmentSubject=a,this.dataSubject=h,this.outlet=u,this.component=m,this._futureSnapshot=f,this.title=this.dataSubject?.pipe(Z(_=>_[yn]))??R(void 0),this.url=r,this.params=i,this.queryParams=s,this.fragment=a,this.data=h}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Z(r=>yi(r))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Z(r=>yi(r))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Cr(n,r,i="emptyOnly"){let s,{routeConfig:a}=n;return r!==null&&(i==="always"||a?.path===""||!r.component&&!r.routeConfig?.loadComponent)?s={params:C(C({},r.params),n.params),data:C(C({},r.data),n.data),resolve:C(C(C(C({},n.data),r.data),a?.data),n._resolvedData)}:s={params:C({},n.params),data:C({},n.data),resolve:C(C({},n.data),n._resolvedData??{})},a&&Fl(a)&&(s.resolve[yn]=a.title),s}var _i=class{get title(){return this.data?.[yn]}constructor(r,i,s,a,h,u,m,f,_){this.url=r,this.params=i,this.queryParams=s,this.fragment=a,this.data=h,this.outlet=u,this.component=m,this.routeConfig=f,this._resolve=_}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=yi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=yi(this.queryParams),this._queryParamMap}toString(){let r=this.url.map(s=>s.toString()).join("/"),i=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${r}', path:'${i}')`}},kr=class extends wr{constructor(r,i){super(i),this.url=r,Os(this,i)}toString(){return Nl(this._root)}};function Os(n,r){r.value._routerState=n,r.children.forEach(i=>Os(n,i))}function Nl(n){let r=n.children.length>0?` { ${n.children.map(Nl).join(", ")} } `:"";return`${n.value}${r}`}function rs(n){if(n.snapshot){let r=n.snapshot,i=n._futureSnapshot;n.snapshot=i,ot(r.queryParams,i.queryParams)||n.queryParamsSubject.next(i.queryParams),r.fragment!==i.fragment&&n.fragmentSubject.next(i.fragment),ot(r.params,i.params)||n.paramsSubject.next(i.params),Yd(r.url,i.url)||n.urlSubject.next(i.url),ot(r.data,i.data)||n.dataSubject.next(i.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Is(n,r){let i=ot(n.params,r.params)&&ef(n.url,r.url),s=!n.parent!=!r.parent;return i&&!s&&(!n.parent||Is(n.parent,r.parent))}function Fl(n){return typeof n.title=="string"||n.title===null}var Ls=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=V,this.activateEvents=new Oe,this.deactivateEvents=new Oe,this.attachEvents=new Oe,this.detachEvents=new Oe,this.parentContexts=I(Mr),this.location=I(Dc),this.changeDetector=I(jt),this.inputBinder=I(Ns,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:s,previousValue:a}=i.name;if(s)return;this.isTrackedInParentContexts(a)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(a)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new ie(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new ie(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new ie(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,s){this.activated=i,this._activatedRoute=s,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,s){if(this.isActivated)throw new ie(4013,!1);this._activatedRoute=i;let a=this.location,u=i.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,f=new Es(i,m,a.injector);this.activated=a.createComponent(u,{index:a.length,injector:f,environmentInjector:s}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275dir=zt({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ui]})}}return n})(),Es=class n{__ngOutletInjector(r){return new n(this.route,this.childContexts,r)}constructor(r,i,s){this.route=r,this.childContexts=i,this.parent=s}get(r,i){return r===wi?this.route:r===Mr?this.childContexts:this.parent.get(r,i)}},Ns=new $("");function If(n,r,i){let s=mn(n,r._root,i?i._root:void 0);return new xr(s,r)}function mn(n,r,i){if(i&&n.shouldReuseRoute(r.value,i.value.snapshot)){let s=i.value;s._futureSnapshot=r.value;let a=Ef(n,r,i);return new Le(s,a)}else{if(n.shouldAttach(r.value)){let h=n.retrieve(r.value);if(h!==null){let u=h.route;return u.value._futureSnapshot=r.value,u.children=r.children.map(m=>mn(n,m)),u}}let s=Mf(r.value),a=r.children.map(h=>mn(n,h));return new Le(s,a)}}function Ef(n,r,i){return r.children.map(s=>{for(let a of i.children)if(n.shouldReuseRoute(s.value,a.value.snapshot))return mn(n,s,a);return mn(n,s)})}function Mf(n){return new wi(new Ue(n.url),new Ue(n.params),new Ue(n.queryParams),new Ue(n.fragment),new Ue(n.data),n.outlet,n.component,n)}var gn=class{constructor(r,i){this.redirectTo=r,this.navigationBehaviorOptions=i}},Vl="ngNavigationCancelingError";function Ir(n,r){let{redirectTo:i,navigationBehaviorOptions:s}=hn(r)?{redirectTo:r,navigationBehaviorOptions:void 0}:r,a=zl(!1,Ne.Redirect);return a.url=i,a.navigationBehaviorOptions=s,a}function zl(n,r){let i=new Error(`NavigationCancelingError: ${n||""}`);return i[Vl]=!0,i.cancellationCode=r,i}function Tf(n){return Bl(n)&&hn(n.url)}function Bl(n){return!!n&&n[Vl]}var Af=(n,r,i,s)=>Z(a=>(new Ms(r,a.targetRouterState,a.currentRouterState,i,s).activate(n),a)),Ms=class{constructor(r,i,s,a,h){this.routeReuseStrategy=r,this.futureState=i,this.currState=s,this.forwardEvent=a,this.inputBindingEnabled=h}activate(r){let i=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,s,r),rs(this.futureState.root),this.activateChildRoutes(i,s,r)}deactivateChildRoutes(r,i,s){let a=mi(i);r.children.forEach(h=>{let u=h.value.outlet;this.deactivateRoutes(h,a[u],s),delete a[u]}),Object.values(a).forEach(h=>{this.deactivateRouteAndItsChildren(h,s)})}deactivateRoutes(r,i,s){let a=r.value,h=i?i.value:null;if(a===h)if(a.component){let u=s.getContext(a.outlet);u&&this.deactivateChildRoutes(r,i,u.children)}else this.deactivateChildRoutes(r,i,s);else h&&this.deactivateRouteAndItsChildren(i,s)}deactivateRouteAndItsChildren(r,i){r.value.component&&this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,i):this.deactivateRouteAndOutlet(r,i)}detachAndStoreRouteSubtree(r,i){let s=i.getContext(r.value.outlet),a=s&&r.value.component?s.children:i,h=mi(r);for(let u of Object.values(h))this.deactivateRouteAndItsChildren(u,a);if(s&&s.outlet){let u=s.outlet.detach(),m=s.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:u,route:r,contexts:m})}}deactivateRouteAndOutlet(r,i){let s=i.getContext(r.value.outlet),a=s&&r.value.component?s.children:i,h=mi(r);for(let u of Object.values(h))this.deactivateRouteAndItsChildren(u,a);s&&(s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated()),s.attachRef=null,s.route=null)}activateChildRoutes(r,i,s){let a=mi(i);r.children.forEach(h=>{this.activateRoutes(h,a[h.value.outlet],s),this.forwardEvent(new ws(h.value.snapshot))}),r.children.length&&this.forwardEvent(new ys(r.value.snapshot))}activateRoutes(r,i,s){let a=r.value,h=i?i.value:null;if(rs(a),a===h)if(a.component){let u=s.getOrCreateContext(a.outlet);this.activateChildRoutes(r,i,u.children)}else this.activateChildRoutes(r,i,s);else if(a.component){let u=s.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){let m=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),u.children.onOutletReAttached(m.contexts),u.attachRef=m.componentRef,u.route=m.route.value,u.outlet&&u.outlet.attach(m.componentRef,m.route.value),rs(m.route.value),this.activateChildRoutes(r,null,u.children)}else u.attachRef=null,u.route=a,u.outlet&&u.outlet.activateWith(a,u.injector),this.activateChildRoutes(r,null,u.children)}else this.activateChildRoutes(r,null,s)}},Er=class{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}},vi=class{constructor(r,i){this.component=r,this.route=i}};function Sf(n,r,i){let s=n._root,a=r?r._root:null;return rn(s,a,i,[s.value])}function Df(n){let r=n.routeConfig?n.routeConfig.canActivateChild:null;return!r||r.length===0?null:{node:n,guards:r}}function Ci(n,r){let i=Symbol(),s=r.get(n,i);return s===i?typeof n=="function"&&!kc(n)?n:r.get(n):s}function rn(n,r,i,s,a={canDeactivateChecks:[],canActivateChecks:[]}){let h=mi(r);return n.children.forEach(u=>{Pf(u,h[u.value.outlet],i,s.concat([u.value]),a),delete h[u.value.outlet]}),Object.entries(h).forEach(([u,m])=>cn(m,i.getContext(u),a)),a}function Pf(n,r,i,s,a={canDeactivateChecks:[],canActivateChecks:[]}){let h=n.value,u=r?r.value:null,m=i?i.getContext(n.value.outlet):null;if(u&&h.routeConfig===u.routeConfig){let f=Rf(u,h,h.routeConfig.runGuardsAndResolvers);f?a.canActivateChecks.push(new Er(s)):(h.data=u.data,h._resolvedData=u._resolvedData),h.component?rn(n,r,m?m.children:null,s,a):rn(n,r,i,s,a),f&&m&&m.outlet&&m.outlet.isActivated&&a.canDeactivateChecks.push(new vi(m.outlet.component,u))}else u&&cn(r,m,a),a.canActivateChecks.push(new Er(s)),h.component?rn(n,null,m?m.children:null,s,a):rn(n,null,i,s,a);return a}function Rf(n,r,i){if(typeof i=="function")return i(n,r);switch(i){case"pathParamsChange":return!Zt(n.url,r.url);case"pathParamsOrQueryParamsChange":return!Zt(n.url,r.url)||!ot(n.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Is(n,r)||!ot(n.queryParams,r.queryParams);case"paramsChange":default:return!Is(n,r)}}function cn(n,r,i){let s=mi(n),a=n.value;Object.entries(s).forEach(([h,u])=>{a.component?r?cn(u,r.children.getContext(h),i):cn(u,null,i):cn(u,r,i)}),a.component?r&&r.outlet&&r.outlet.isActivated?i.canDeactivateChecks.push(new vi(r.outlet.component,a)):i.canDeactivateChecks.push(new vi(null,a)):i.canDeactivateChecks.push(new vi(null,a))}function wn(n){return typeof n=="function"}function Of(n){return typeof n=="boolean"}function Lf(n){return n&&wn(n.canLoad)}function Nf(n){return n&&wn(n.canActivate)}function Ff(n){return n&&wn(n.canActivateChild)}function Vf(n){return n&&wn(n.canDeactivate)}function zf(n){return n&&wn(n.canMatch)}function jl(n){return n instanceof vc||n?.name==="EmptyError"}var pr=Symbol("INITIAL_VALUE");function xi(){return $e(n=>Bi(n.map(r=>r.pipe(Et(1),Gn(pr)))).pipe(Z(r=>{for(let i of r)if(i!==!0){if(i===pr)return pr;if(i===!1||Bf(i))return i}return!0}),It(r=>r!==pr),Et(1)))}function Bf(n){return hn(n)||n instanceof gn}function jf(n,r){return Ze(i=>{let{targetSnapshot:s,currentSnapshot:a,guards:{canActivateChecks:h,canDeactivateChecks:u}}=i;return u.length===0&&h.length===0?R(le(C({},i),{guardsResult:!0})):Uf(u,s,a,n).pipe(Ze(m=>m&&Of(m)?Zf(s,h,n,r):R(m)),Z(m=>le(C({},i),{guardsResult:m})))})}function Uf(n,r,i,s){return De(n).pipe(Ze(a=>qf(a.component,a.route,i,r,s)),Mt(a=>a!==!0,!0))}function Zf(n,r,i,s){return De(r).pipe(Ft(a=>Hn(Hf(a.route.parent,s),$f(a.route,s),Wf(n,a.path,i),Gf(n,a.route,i))),Mt(a=>a!==!0,!0))}function $f(n,r){return n!==null&&r&&r(new bs(n)),R(!0)}function Hf(n,r){return n!==null&&r&&r(new vs(n)),R(!0)}function Gf(n,r,i){let s=r.routeConfig?r.routeConfig.canActivate:null;if(!s||s.length===0)return R(!0);let a=s.map(h=>ko(()=>{let u=bn(r)??i,m=Ci(h,u),f=Nf(m)?m.canActivate(r,n):Ye(u,()=>m(r,n));return Dt(f).pipe(Mt())}));return R(a).pipe(xi())}function Wf(n,r,i){let s=r[r.length-1],h=r.slice(0,r.length-1).reverse().map(u=>Df(u)).filter(u=>u!==null).map(u=>ko(()=>{let m=u.guards.map(f=>{let _=bn(u.node)??i,b=Ci(f,_),w=Ff(b)?b.canActivateChild(s,n):Ye(_,()=>b(s,n));return Dt(w).pipe(Mt())});return R(m).pipe(xi())}));return R(h).pipe(xi())}function qf(n,r,i,s,a){let h=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!h||h.length===0)return R(!0);let u=h.map(m=>{let f=bn(r)??a,_=Ci(m,f),b=Vf(_)?_.canDeactivate(n,r,i,s):Ye(f,()=>_(n,r,i,s));return Dt(b).pipe(Mt())});return R(u).pipe(xi())}function Kf(n,r,i,s){let a=r.canLoad;if(a===void 0||a.length===0)return R(!0);let h=a.map(u=>{let m=Ci(u,n),f=Lf(m)?m.canLoad(r,i):Ye(n,()=>m(r,i));return Dt(f)});return R(h).pipe(xi(),Ul(s))}function Ul(n){return mc(ve(r=>{if(typeof r!="boolean")throw Ir(n,r)}),Z(r=>r===!0))}function Yf(n,r,i,s){let a=r.canMatch;if(!a||a.length===0)return R(!0);let h=a.map(u=>{let m=Ci(u,n),f=zf(m)?m.canMatch(r,i):Ye(n,()=>m(r,i));return Dt(f)});return R(h).pipe(xi(),Ul(s))}var _n=class{constructor(r){this.segmentGroup=r||null}},vn=class extends Error{constructor(r){super(),this.urlTree=r}};function pi(n){return zi(new _n(n))}function Xf(n){return zi(new ie(4e3,!1))}function Jf(n){return zi(zl(!1,Ne.GuardRejected))}var Ts=class{constructor(r,i){this.urlSerializer=r,this.urlTree=i}lineralizeSegments(r,i){let s=[],a=i.root;for(;;){if(s=s.concat(a.segments),a.numberOfChildren===0)return R(s);if(a.numberOfChildren>1||!a.children[V])return Xf(`${r.redirectTo}`);a=a.children[V]}}applyRedirectCommands(r,i,s,a,h){if(typeof i!="string"){let m=i,{queryParams:f,fragment:_,routeConfig:b,url:w,outlet:M,params:k,data:Y,title:O}=a,D=Ye(h,()=>m({params:k,data:Y,queryParams:f,fragment:_,routeConfig:b,url:w,outlet:M,title:O}));if(D instanceof _t)throw new vn(D);i=D}let u=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),r,s);if(i[0]==="/")throw new vn(u);return u}applyRedirectCreateUrlTree(r,i,s,a){let h=this.createSegmentGroup(r,i.root,s,a);return new _t(h,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(r,i){let s={};return Object.entries(r).forEach(([a,h])=>{if(typeof h=="string"&&h[0]===":"){let m=h.substring(1);s[a]=i[m]}else s[a]=h}),s}createSegmentGroup(r,i,s,a){let h=this.createSegments(r,i.segments,s,a),u={};return Object.entries(i.children).forEach(([m,f])=>{u[m]=this.createSegmentGroup(r,f,s,a)}),new q(h,u)}createSegments(r,i,s,a){return i.map(h=>h.path[0]===":"?this.findPosParam(r,h,a):this.findOrReturn(h,s))}findPosParam(r,i,s){let a=s[i.path.substring(1)];if(!a)throw new ie(4001,!1);return a}findOrReturn(r,i){let s=0;for(let a of i){if(a.path===r.path)return i.splice(s),a;s++}return r}},As={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Qf(n,r,i,s,a){let h=Zl(n,r,i);return h.matched?(s=xf(r,s),Yf(s,r,i,a).pipe(Z(u=>u===!0?h:C({},As)))):R(h)}function Zl(n,r,i){if(r.path==="**")return ep(i);if(r.path==="")return r.pathMatch==="full"&&(n.hasChildren()||i.length>0)?C({},As):{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};let a=(r.matcher||Kd)(i,n,r);if(!a)return C({},As);let h={};Object.entries(a.posParams??{}).forEach(([m,f])=>{h[m]=f.path});let u=a.consumed.length>0?C(C({},h),a.consumed[a.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:a.consumed,remainingSegments:i.slice(a.consumed.length),parameters:u,positionalParamSegments:a.posParams??{}}}function ep(n){return{matched:!0,parameters:n.length>0?xl(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function vl(n,r,i,s){return i.length>0&&np(n,i,s)?{segmentGroup:new q(r,ip(s,new q(i,n.children))),slicedSegments:[]}:i.length===0&&rp(n,i,s)?{segmentGroup:new q(n.segments,tp(n,i,s,n.children)),slicedSegments:i}:{segmentGroup:new q(n.segments,n.children),slicedSegments:i}}function tp(n,r,i,s){let a={};for(let h of i)if(Tr(n,r,h)&&!s[Je(h)]){let u=new q([],{});a[Je(h)]=u}return C(C({},s),a)}function ip(n,r){let i={};i[V]=r;for(let s of n)if(s.path===""&&Je(s)!==V){let a=new q([],{});i[Je(s)]=a}return i}function np(n,r,i){return i.some(s=>Tr(n,r,s)&&Je(s)!==V)}function rp(n,r,i){return i.some(s=>Tr(n,r,s))}function Tr(n,r,i){return(n.hasChildren()||r.length>0)&&i.pathMatch==="full"?!1:i.path===""}function op(n,r,i){return r.length===0&&!n.children[i]}var Ss=class{};function sp(n,r,i,s,a,h,u="emptyOnly"){return new Ds(n,r,i,s,a,u,h).recognize()}var ap=31,Ds=class{constructor(r,i,s,a,h,u,m){this.injector=r,this.configLoader=i,this.rootComponentType=s,this.config=a,this.urlTree=h,this.paramsInheritanceStrategy=u,this.urlSerializer=m,this.applyRedirects=new Ts(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(r){return new ie(4002,`'${r.segmentGroup}'`)}recognize(){let r=vl(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(r).pipe(Z(({children:i,rootSnapshot:s})=>{let a=new Le(s,i),h=new kr("",a),u=mf(s,[],this.urlTree.queryParams,this.urlTree.fragment);return u.queryParams=this.urlTree.queryParams,h.url=this.urlSerializer.serialize(u),{state:h,tree:u}}))}match(r){let i=new _i([],Object.freeze({}),Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),V,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,r,V,i).pipe(Z(s=>({children:s,rootSnapshot:i})),oi(s=>{if(s instanceof vn)return this.urlTree=s.urlTree,this.match(s.urlTree.root);throw s instanceof _n?this.noMatchError(s):s}))}processSegmentGroup(r,i,s,a,h){return s.segments.length===0&&s.hasChildren()?this.processChildren(r,i,s,h):this.processSegment(r,i,s,s.segments,a,!0,h).pipe(Z(u=>u instanceof Le?[u]:[]))}processChildren(r,i,s,a){let h=[];for(let u of Object.keys(s.children))u==="primary"?h.unshift(u):h.push(u);return De(h).pipe(Ft(u=>{let m=s.children[u],f=Cf(i,u);return this.processSegmentGroup(r,f,m,u,a)}),xc((u,m)=>(u.push(...m),u)),Io(null),wc(),Ze(u=>{if(u===null)return pi(s);let m=$l(u);return cp(m),R(m)}))}processSegment(r,i,s,a,h,u,m){return De(i).pipe(Ft(f=>this.processSegmentAgainstRoute(f._injector??r,i,f,s,a,h,u,m).pipe(oi(_=>{if(_ instanceof _n)return R(null);throw _}))),Mt(f=>!!f),oi(f=>{if(jl(f))return op(s,a,h)?R(new Ss):pi(s);throw f}))}processSegmentAgainstRoute(r,i,s,a,h,u,m,f){return Je(s)!==u&&(u===V||!Tr(a,h,s))?pi(a):s.redirectTo===void 0?this.matchSegmentAgainstRoute(r,a,s,h,u,f):this.allowRedirects&&m?this.expandSegmentAgainstRouteUsingRedirect(r,a,i,s,h,u,f):pi(a)}expandSegmentAgainstRouteUsingRedirect(r,i,s,a,h,u,m){let{matched:f,parameters:_,consumedSegments:b,positionalParamSegments:w,remainingSegments:M}=Zl(i,a,h);if(!f)return pi(i);typeof a.redirectTo=="string"&&a.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>ap&&(this.allowRedirects=!1));let k=new _i(h,_,Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,yl(a),Je(a),a.component??a._loadedComponent??null,a,bl(a)),Y=Cr(k,m,this.paramsInheritanceStrategy);k.params=Object.freeze(Y.params),k.data=Object.freeze(Y.data);let O=this.applyRedirects.applyRedirectCommands(b,a.redirectTo,w,k,r);return this.applyRedirects.lineralizeSegments(a,O).pipe(Ze(D=>this.processSegment(r,s,i,D.concat(M),u,!1,m)))}matchSegmentAgainstRoute(r,i,s,a,h,u){let m=Qf(i,s,a,r,this.urlSerializer);return s.path==="**"&&(i.children={}),m.pipe($e(f=>f.matched?(r=s._injector??r,this.getChildConfig(r,s,a).pipe($e(({routes:_})=>{let b=s._loadedInjector??r,{parameters:w,consumedSegments:M,remainingSegments:k}=f,Y=new _i(M,w,Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,yl(s),Je(s),s.component??s._loadedComponent??null,s,bl(s)),O=Cr(Y,u,this.paramsInheritanceStrategy);Y.params=Object.freeze(O.params),Y.data=Object.freeze(O.data);let{segmentGroup:D,slicedSegments:K}=vl(i,M,k,_);if(K.length===0&&D.hasChildren())return this.processChildren(b,_,D,Y).pipe(Z(W=>new Le(Y,W)));if(_.length===0&&K.length===0)return R(new Le(Y,[]));let be=Je(s)===h;return this.processSegment(b,_,D,K,be?V:h,!0,Y).pipe(Z(W=>new Le(Y,W instanceof Le?[W]:[])))}))):pi(i)))}getChildConfig(r,i,s){return i.children?R({routes:i.children,injector:r}):i.loadChildren?i._loadedRoutes!==void 0?R({routes:i._loadedRoutes,injector:i._loadedInjector}):Kf(r,i,s,this.urlSerializer).pipe(Ze(a=>a?this.configLoader.loadChildren(r,i).pipe(ve(h=>{i._loadedRoutes=h.routes,i._loadedInjector=h.injector})):Jf(i))):R({routes:[],injector:r})}};function cp(n){n.sort((r,i)=>r.value.outlet===V?-1:i.value.outlet===V?1:r.value.outlet.localeCompare(i.value.outlet))}function lp(n){let r=n.value.routeConfig;return r&&r.path===""}function $l(n){let r=[],i=new Set;for(let s of n){if(!lp(s)){r.push(s);continue}let a=r.find(h=>s.value.routeConfig===h.value.routeConfig);a!==void 0?(a.children.push(...s.children),i.add(a)):r.push(s)}for(let s of i){let a=$l(s.children);r.push(new Le(s.value,a))}return r.filter(s=>!i.has(s))}function yl(n){return n.data||{}}function bl(n){return n.resolve||{}}function hp(n,r,i,s,a,h){return Ze(u=>sp(n,r,i,s,u.extractedUrl,a,h).pipe(Z(({state:m,tree:f})=>le(C({},u),{targetSnapshot:m,urlAfterRedirects:f}))))}function up(n,r){return Ze(i=>{let{targetSnapshot:s,guards:{canActivateChecks:a}}=i;if(!a.length)return R(i);let h=new Set(a.map(f=>f.route)),u=new Set;for(let f of h)if(!u.has(f))for(let _ of Hl(f))u.add(_);let m=0;return De(u).pipe(Ft(f=>h.has(f)?dp(f,s,n,r):(f.data=Cr(f,f.parent,n).resolve,R(void 0))),ve(()=>m++),Eo(1),Ze(f=>m===u.size?R(i):kt))})}function Hl(n){let r=n.children.map(i=>Hl(i)).flat();return[n,...r]}function dp(n,r,i,s){let a=n.routeConfig,h=n._resolve;return a?.title!==void 0&&!Fl(a)&&(h[yn]=a.title),fp(h,n,r,s).pipe(Z(u=>(n._resolvedData=u,n.data=Cr(n,n.parent,i).resolve,null)))}function fp(n,r,i,s){let a=as(n);if(a.length===0)return R({});let h={};return De(a).pipe(Ze(u=>pp(n[u],r,i,s).pipe(Mt(),ve(m=>{if(m instanceof gn)throw Ir(new ln,m);h[u]=m}))),Eo(1),bc(h),oi(u=>jl(u)?kt:zi(u)))}function pp(n,r,i,s){let a=bn(r)??s,h=Ci(n,a),u=h.resolve?h.resolve(r,i):Ye(a,()=>h(r,i));return Dt(u)}function os(n){return $e(r=>{let i=n(r);return i?De(i).pipe(Z(()=>r)):R(r)})}var Gl=(()=>{class n{buildTitle(i){let s,a=i.root;for(;a!==void 0;)s=this.getResolvedTitleForRoute(a)??s,a=a.children.find(h=>h.outlet===V);return s}getResolvedTitleForRoute(i){return i.data[yn]}static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275prov=S({token:n,factory:()=>I(mp),providedIn:"root"})}}return n})(),mp=(()=>{class n extends Gl{constructor(i){super(),this.title=i}updateTitle(i){let s=this.buildTitle(i);s!==void 0&&this.title.setTitle(s)}static{this.\u0275fac=function(s){return new(s||n)(A(fl))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Fs=new $("",{providedIn:"root",factory:()=>({})}),gp=(()=>{class n{static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275cmp=he({type:n,selectors:[["ng-component"]],standalone:!0,features:[pe],decls:1,vars:0,template:function(s,a){s&1&&fe(0,"router-outlet")},dependencies:[Ls],encapsulation:2})}}return n})();function Vs(n){let r=n.children&&n.children.map(Vs),i=r?le(C({},n),{children:r}):C({},n);return!i.component&&!i.loadComponent&&(r||i.loadChildren)&&i.outlet&&i.outlet!==V&&(i.component=gp),i}var zs=new $(""),_p=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=I(Vo)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return R(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let s=Dt(i.loadComponent()).pipe(Z(Wl),ve(h=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=h}),Vt(()=>{this.componentLoaders.delete(i)})),a=new Co(s,()=>new Te).pipe(xo());return this.componentLoaders.set(i,a),a}loadChildren(i,s){if(this.childrenLoaders.get(s))return this.childrenLoaders.get(s);if(s._loadedRoutes)return R({routes:s._loadedRoutes,injector:s._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(s);let h=vp(s,this.compiler,i,this.onLoadEndListener).pipe(Vt(()=>{this.childrenLoaders.delete(s)})),u=new Co(h,()=>new Te).pipe(xo());return this.childrenLoaders.set(s,u),u}static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function vp(n,r,i,s){return Dt(n.loadChildren()).pipe(Z(Wl),Ze(a=>a instanceof Pc||Array.isArray(a)?R(a):De(r.compileModuleAsync(a))),Z(a=>{s&&s(n);let h,u,m=!1;return Array.isArray(a)?(u=a,m=!0):(h=a.create(i).injector,u=h.get(zs,[],{optional:!0,self:!0}).flat()),{routes:u.map(Vs),injector:h}}))}function yp(n){return n&&typeof n=="object"&&"default"in n}function Wl(n){return yp(n)?n.default:n}var Bs=(()=>{class n{static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275prov=S({token:n,factory:()=>I(bp),providedIn:"root"})}}return n})(),bp=(()=>{class n{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,s){return i}static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),wp=new $("");var xp=new $(""),Cp=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new Te,this.transitionAbortSubject=new Te,this.configLoader=I(_p),this.environmentInjector=I(si),this.urlSerializer=I(Rs),this.rootContexts=I(Mr),this.location=I(ir),this.inputBindingEnabled=I(Ns,{optional:!0})!==null,this.titleStrategy=I(Gl),this.options=I(Fs,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=I(Bs),this.createViewTransition=I(wp,{optional:!0}),this.navigationErrorHandler=I(xp,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>R(void 0),this.rootComponentType=null;let i=a=>this.events.next(new gs(a)),s=a=>this.events.next(new _s(a));this.configLoader.onLoadEndListener=s,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let s=++this.navigationId;this.transitions?.next(le(C(C({},this.transitions.value),i),{id:s}))}setupNavigations(i,s,a){return this.transitions=new Ue({id:0,currentUrlTree:s,currentRawUrl:s,extractedUrl:this.urlHandlingStrategy.extract(s),urlAfterRedirects:this.urlHandlingStrategy.extract(s),rawUrl:s,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:an,restoredState:null,currentSnapshot:a.snapshot,targetSnapshot:null,currentRouterState:a,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(It(h=>h.id!==0),Z(h=>le(C({},h),{extractedUrl:this.urlHandlingStrategy.extract(h.rawUrl)})),$e(h=>{let u=!1,m=!1;return R(h).pipe($e(f=>{if(this.navigationId>h.id)return this.cancelNavigationTransition(h,"",Ne.SupersededByNewNavigation),kt;this.currentTransition=h,this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,targetBrowserUrl:typeof f.extras.browserUrl=="string"?this.urlSerializer.parse(f.extras.browserUrl):f.extras.browserUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?le(C({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let _=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),b=f.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!_&&b!=="reload"){let w="";return this.events.next(new Ht(f.id,this.urlSerializer.serialize(f.rawUrl),w,us.IgnoredSameUrlNavigation)),f.resolve(!1),kt}if(this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return R(f).pipe($e(w=>{let M=this.transitions?.getValue();return this.events.next(new dn(w.id,this.urlSerializer.serialize(w.extractedUrl),w.source,w.restoredState)),M!==this.transitions?.getValue()?kt:Promise.resolve(w)}),hp(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),ve(w=>{h.targetSnapshot=w.targetSnapshot,h.urlAfterRedirects=w.urlAfterRedirects,this.currentNavigation=le(C({},this.currentNavigation),{finalUrl:w.urlAfterRedirects});let M=new br(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(M)}));if(_&&this.urlHandlingStrategy.shouldProcessUrl(f.currentRawUrl)){let{id:w,extractedUrl:M,source:k,restoredState:Y,extras:O}=f,D=new dn(w,this.urlSerializer.serialize(M),k,Y);this.events.next(D);let K=Ll(this.rootComponentType).snapshot;return this.currentTransition=h=le(C({},f),{targetSnapshot:K,urlAfterRedirects:M,extras:le(C({},O),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=M,R(h)}else{let w="";return this.events.next(new Ht(f.id,this.urlSerializer.serialize(f.extractedUrl),w,us.IgnoredByUrlHandlingStrategy)),f.resolve(!1),kt}}),ve(f=>{let _=new ds(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}),Z(f=>(this.currentTransition=h=le(C({},f),{guards:Sf(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),h)),jf(this.environmentInjector,f=>this.events.next(f)),ve(f=>{if(h.guardsResult=f.guardsResult,f.guardsResult&&typeof f.guardsResult!="boolean")throw Ir(this.urlSerializer,f.guardsResult);let _=new fs(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.events.next(_)}),It(f=>f.guardsResult?!0:(this.cancelNavigationTransition(f,"",Ne.GuardRejected),!1)),os(f=>{if(f.guards.canActivateChecks.length)return R(f).pipe(ve(_=>{let b=new ps(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(b)}),$e(_=>{let b=!1;return R(_).pipe(up(this.paramsInheritanceStrategy,this.environmentInjector),ve({next:()=>b=!0,complete:()=>{b||this.cancelNavigationTransition(_,"",Ne.NoDataFromResolver)}}))}),ve(_=>{let b=new ms(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(b)}))}),os(f=>{let _=b=>{let w=[];b.routeConfig?.loadComponent&&!b.routeConfig._loadedComponent&&w.push(this.configLoader.loadComponent(b.routeConfig).pipe(ve(M=>{b.component=M}),Z(()=>{})));for(let M of b.children)w.push(..._(M));return w};return Bi(_(f.targetSnapshot.root)).pipe(Io(null),Et(1))}),os(()=>this.afterPreactivation()),$e(()=>{let{currentSnapshot:f,targetSnapshot:_}=h,b=this.createViewTransition?.(this.environmentInjector,f.root,_.root);return b?De(b).pipe(Z(()=>h)):R(h)}),Z(f=>{let _=If(i.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return this.currentTransition=h=le(C({},f),{targetRouterState:_}),this.currentNavigation.targetRouterState=_,h}),ve(()=>{this.events.next(new pn)}),Af(this.rootContexts,i.routeReuseStrategy,f=>this.events.next(f),this.inputBindingEnabled),Et(1),ve({next:f=>{u=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new $t(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects))),this.titleStrategy?.updateTitle(f.targetRouterState.snapshot),f.resolve(!0)},complete:()=>{u=!0}}),Wn(this.transitionAbortSubject.pipe(ve(f=>{throw f}))),Vt(()=>{!u&&!m&&this.cancelNavigationTransition(h,"",Ne.SupersededByNewNavigation),this.currentTransition?.id===h.id&&(this.currentNavigation=null,this.currentTransition=null)}),oi(f=>{if(m=!0,Bl(f))this.events.next(new gt(h.id,this.urlSerializer.serialize(h.extractedUrl),f.message,f.cancellationCode)),Tf(f)?this.events.next(new bi(f.url,f.navigationBehaviorOptions)):h.resolve(!1);else{let _=new fn(h.id,this.urlSerializer.serialize(h.extractedUrl),f,h.targetSnapshot??void 0);try{let b=Ye(this.environmentInjector,()=>this.navigationErrorHandler?.(_));if(b instanceof gn){let{message:w,cancellationCode:M}=Ir(this.urlSerializer,b);this.events.next(new gt(h.id,this.urlSerializer.serialize(h.extractedUrl),w,M)),this.events.next(new bi(b.redirectTo,b.navigationBehaviorOptions))}else{this.events.next(_);let w=i.errorHandler(f);h.resolve(!!w)}}catch(b){this.options.resolveNavigationPromiseOnError?h.resolve(!1):h.reject(b)}}return kt}))}))}cancelNavigationTransition(i,s,a){let h=new gt(i.id,this.urlSerializer.serialize(i.extractedUrl),s,a);this.events.next(h),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let i=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),s=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return i.toString()!==s?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function kp(n){return n!==an}var Ip=(()=>{class n{static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275prov=S({token:n,factory:()=>I(Ep),providedIn:"root"})}}return n})(),Ps=class{shouldDetach(r){return!1}store(r,i){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,i){return r.routeConfig===i.routeConfig}},Ep=(()=>{class n extends Ps{static{this.\u0275fac=(()=>{let i;return function(a){return(i||(i=qn(n)))(a||n)}})()}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),ql=(()=>{class n{static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275prov=S({token:n,factory:()=>I(Mp),providedIn:"root"})}}return n})(),Mp=(()=>{class n extends ql{constructor(){super(...arguments),this.location=I(ir),this.urlSerializer=I(Rs),this.options=I(Fs,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=I(Bs),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new _t,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Ll(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(s=>{s.type==="popstate"&&i(s.url,s.state)})}handleRouterEvent(i,s){if(i instanceof dn)this.stateMemento=this.createStateMemento();else if(i instanceof Ht)this.rawUrlTree=s.initialUrl;else if(i instanceof br){if(this.urlUpdateStrategy==="eager"&&!s.extras.skipLocationChange){let a=this.urlHandlingStrategy.merge(s.finalUrl,s.initialUrl);this.setBrowserUrl(s.targetBrowserUrl??a,s)}}else i instanceof pn?(this.currentUrlTree=s.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(s.finalUrl,s.initialUrl),this.routerState=s.targetRouterState,this.urlUpdateStrategy==="deferred"&&!s.extras.skipLocationChange&&this.setBrowserUrl(s.targetBrowserUrl??this.rawUrlTree,s)):i instanceof gt&&(i.code===Ne.GuardRejected||i.code===Ne.NoDataFromResolver)?this.restoreHistory(s):i instanceof fn?this.restoreHistory(s,!0):i instanceof $t&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,s){let a=i instanceof _t?this.urlSerializer.serialize(i):i;if(this.location.isCurrentPathEqualTo(a)||s.extras.replaceUrl){let h=this.browserPageId,u=C(C({},s.extras.state),this.generateNgRouterState(s.id,h));this.location.replaceState(a,"",u)}else{let h=C(C({},s.extras.state),this.generateNgRouterState(s.id,this.browserPageId+1));this.location.go(a,"",h)}}restoreHistory(i,s=!1){if(this.canceledNavigationResolution==="computed"){let a=this.browserPageId,h=this.currentPageId-a;h!==0?this.location.historyGo(h):this.currentUrlTree===i.finalUrl&&h===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(s&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,s){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:s}:{navigationId:i}}static{this.\u0275fac=(()=>{let i;return function(a){return(i||(i=qn(n)))(a||n)}})()}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),on=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(on||{});function Tp(n,r){n.events.pipe(It(i=>i instanceof $t||i instanceof gt||i instanceof fn||i instanceof Ht),Z(i=>i instanceof $t||i instanceof Ht?on.COMPLETE:(i instanceof gt?i.code===Ne.Redirect||i.code===Ne.SupersededByNewNavigation:!1)?on.REDIRECTING:on.FAILED),It(i=>i!==on.REDIRECTING),Et(1)).subscribe(()=>{r()})}function Ap(n){throw n}var Sp={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Dp={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Kl=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=I(er),this.stateManager=I(ql),this.options=I(Fs,{optional:!0})||{},this.pendingTasks=I(Zi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=I(Cp),this.urlSerializer=I(Rs),this.location=I(ir),this.urlHandlingStrategy=I(Bs),this._events=new Te,this.errorHandler=this.options.errorHandler||Ap,this.navigated=!1,this.routeReuseStrategy=I(Ip),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=I(zs,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!I(Ns,{optional:!0}),this.eventsSubscription=new Zn,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(s=>{try{let a=this.navigationTransitions.currentTransition,h=this.navigationTransitions.currentNavigation;if(a!==null&&h!==null){if(this.stateManager.handleRouterEvent(s,h),s instanceof gt&&s.code!==Ne.Redirect&&s.code!==Ne.SupersededByNewNavigation)this.navigated=!0;else if(s instanceof $t)this.navigated=!0;else if(s instanceof bi){let u=s.navigationBehaviorOptions,m=this.urlHandlingStrategy.merge(s.url,a.currentRawUrl),f=C({browserUrl:a.extras.browserUrl,info:a.extras.info,skipLocationChange:a.extras.skipLocationChange,replaceUrl:a.extras.replaceUrl||this.urlUpdateStrategy==="eager"||kp(a.source)},u);this.scheduleNavigation(m,an,null,f,{resolve:a.resolve,reject:a.reject,promise:a.promise})}}Rp(s)&&this._events.next(s)}catch(a){this.navigationTransitions.transitionAbortSubject.next(a)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),an,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,s)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",s)},0)})}navigateToSyncWithBrowser(i,s,a){let h={replaceUrl:!0},u=a?.navigationId?a:null;if(a){let f=C({},a);delete f.navigationId,delete f.\u0275routerPageId,Object.keys(f).length!==0&&(h.state=f)}let m=this.parseUrl(i);this.scheduleNavigation(m,s,u,h)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(Vs),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,s={}){let{relativeTo:a,queryParams:h,fragment:u,queryParamsHandling:m,preserveFragment:f}=s,_=f?this.currentUrlTree.fragment:u,b=null;switch(m??this.options.defaultQueryParamsHandling){case"merge":b=C(C({},this.currentUrlTree.queryParams),h);break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=h||null}b!==null&&(b=this.removeEmptyProps(b));let w;try{let M=a?a.snapshot:this.routerState.snapshot.root;w=Dl(M)}catch{(typeof i[0]!="string"||i[0][0]!=="/")&&(i=[]),w=this.currentUrlTree.root}return Pl(w,i,b,_??null)}navigateByUrl(i,s={skipLocationChange:!1}){let a=hn(i)?i:this.parseUrl(i),h=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(h,an,null,s)}navigate(i,s={skipLocationChange:!1}){return Pp(i),this.navigateByUrl(this.createUrlTree(i,s),s)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,s){let a;if(s===!0?a=C({},Sp):s===!1?a=C({},Dp):a=s,hn(i))return pl(this.currentUrlTree,i,a);let h=this.parseUrl(i);return pl(this.currentUrlTree,h,a)}removeEmptyProps(i){return Object.entries(i).reduce((s,[a,h])=>(h!=null&&(s[a]=h),s),{})}scheduleNavigation(i,s,a,h,u){if(this.disposed)return Promise.resolve(!1);let m,f,_;u?(m=u.resolve,f=u.reject,_=u.promise):_=new Promise((w,M)=>{m=w,f=M});let b=this.pendingTasks.add();return Tp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(b))}),this.navigationTransitions.handleNavigationRequest({source:s,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:h,resolve:m,reject:f,promise:_,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),_.catch(w=>Promise.reject(w))}static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Pp(n){for(let r=0;r<n.length;r++)if(n[r]==null)throw new ie(4008,!1)}function Rp(n){return!(n instanceof pn)&&!(n instanceof bi)}var Op=new $("");function Yl(n,...r){return Bt([{provide:zs,multi:!0,useValue:n},[],{provide:wi,useFactory:Lp,deps:[Kl]},{provide:Fo,multi:!0,useFactory:Np},r.map(i=>i.\u0275providers)])}function Lp(n){return n.routerState.root}function Np(){let n=I(So);return r=>{let i=n.get(tr);if(r!==i.components[0])return;let s=n.get(Kl),a=n.get(Fp);n.get(Vp)===1&&s.initialNavigation(),n.get(zp,null,To.Optional)?.setUpPreloading(),n.get(Op,null,To.Optional)?.init(),s.resetRootComponentType(i.componentTypes[0]),a.closed||(a.next(),a.complete(),a.unsubscribe())}}var Fp=new $("",{factory:()=>new Te}),Vp=new $("",{providedIn:"root",factory:()=>1});var zp=new $("");var Xl=[];var Bp="@",jp=(()=>{class n{constructor(i,s,a,h,u){this.doc=i,this.delegate=s,this.zone=a,this.animationType=h,this.moduleImpl=u,this._rendererFactoryPromise=null,this.scheduler=I(Sc,{optional:!0}),this.loadingSchedulerFn=I(Up,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let i=()=>this.moduleImpl??import("./chunk-UYOAV5YK.js").then(a=>a),s;return this.loadingSchedulerFn?s=this.loadingSchedulerFn(i):s=i(),s.catch(a=>{throw new ie(5300,!1)}).then(({\u0275createEngine:a,\u0275AnimationRendererFactory:h})=>{this._engine=a(this.animationType,this.doc);let u=new h(this.delegate,this._engine,this.zone);return this.delegate=u,u})}createRenderer(i,s){let a=this.delegate.createRenderer(i,s);if(a.\u0275type===0)return a;typeof a.throwOnSyntheticProps=="boolean"&&(a.throwOnSyntheticProps=!1);let h=new js(a);return s?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(u=>{let m=u.createRenderer(i,s);h.use(m),this.scheduler?.notify(10)}).catch(u=>{h.use(a)}),h}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(s){Po()}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac})}}return n})(),js=class{constructor(r){this.delegate=r,this.replay=[],this.\u0275type=1}use(r){if(this.delegate=r,this.replay!==null){for(let i of this.replay)i(r);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(r,i){return this.delegate.createElement(r,i)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}get destroyNode(){return this.delegate.destroyNode}appendChild(r,i){this.delegate.appendChild(r,i)}insertBefore(r,i,s,a){this.delegate.insertBefore(r,i,s,a)}removeChild(r,i,s){this.delegate.removeChild(r,i,s)}selectRootElement(r,i){return this.delegate.selectRootElement(r,i)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,i,s,a){this.delegate.setAttribute(r,i,s,a)}removeAttribute(r,i,s){this.delegate.removeAttribute(r,i,s)}addClass(r,i){this.delegate.addClass(r,i)}removeClass(r,i){this.delegate.removeClass(r,i)}setStyle(r,i,s,a){this.delegate.setStyle(r,i,s,a)}removeStyle(r,i,s){this.delegate.removeStyle(r,i,s)}setProperty(r,i,s){this.shouldReplay(i)&&this.replay.push(a=>a.setProperty(r,i,s)),this.delegate.setProperty(r,i,s)}setValue(r,i){this.delegate.setValue(r,i)}listen(r,i,s){return this.shouldReplay(i)&&this.replay.push(a=>a.listen(r,i,s)),this.delegate.listen(r,i,s)}shouldReplay(r){return this.replay!==null&&r.startsWith(Bp)}},Up=new $("");function Jl(n="animations"){return Ro("NgAsyncAnimations"),Bt([{provide:Xn,useFactory:(r,i,s)=>new jp(r,i,s,n),deps:[me,ur,ue]},{provide:li,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Ql={providers:[Vc({eventCoalescing:!0}),Yl(Xl),Jl()]};var eh=new $("");var th=new $("");var $p={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},a_=le(C({},$p),{"[class.ng-submitted]":"isSubmitted"});var Us;try{Us=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Us=!1}var Gt=(()=>{class n{constructor(i){this._platformId=i,this.isBrowser=this._platformId?Hc(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Us)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(s){return new(s||n)(A(pt))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var xn;function Hp(){if(xn==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>xn=!0}))}finally{xn=xn||!1}return xn}function Zs(n){return Hp()?n:!!n.capture}function ih(n){return n.composedPath?n.composedPath()[0]:n.target}function nh(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function Hs(n){return Array.isArray(n)?n:[n]}function Gs(n){return n instanceof ft?n.nativeElement:n}var rh=new Set,Wt,Gp=(()=>{class n{constructor(i,s){this._platform=i,this._nonce=s,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):qp}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&Wp(i,this._nonce),this._matchMedia(i)}static{this.\u0275fac=function(s){return new(s||n)(A(Gt),A($i,8))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Wp(n,r){if(!rh.has(n))try{Wt||(Wt=document.createElement("style"),r&&Wt.setAttribute("nonce",r),Wt.setAttribute("type","text/css"),document.head.appendChild(Wt)),Wt.sheet&&(Wt.sheet.insertRule(`@media ${n} {body{ }}`,0),rh.add(n))}catch(i){console.error(i)}}function qp(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var sh=(()=>{class n{constructor(i,s){this._mediaMatcher=i,this._zone=s,this._queries=new Map,this._destroySubject=new Te}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return oh(Hs(i)).some(a=>this._registerQuery(a).mql.matches)}observe(i){let a=oh(Hs(i)).map(u=>this._registerQuery(u).observable),h=Bi(a);return h=Hn(h.pipe(Et(1)),h.pipe(Cc(1),yc(0))),h.pipe(Z(u=>{let m={matches:!1,breakpoints:{}};return u.forEach(({matches:f,query:_})=>{m.matches=m.matches||f,m.breakpoints[_]=f}),m}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);let s=this._mediaMatcher.matchMedia(i),h={observable:new Ct(u=>{let m=f=>this._zone.run(()=>u.next(f));return s.addListener(m),()=>{s.removeListener(m)}}).pipe(Gn(s),Z(({matches:u})=>({query:i,matches:u})),Wn(this._destroySubject)),mql:s};return this._queries.set(i,h),h}static{this.\u0275fac=function(s){return new(s||n)(A(Gp),A(ue))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function oh(n){return n.map(r=>r.split(",")).reduce((r,i)=>r.concat(i)).map(r=>r.trim())}function lh(n){return n.buttons===0||n.detail===0}function hh(n){let r=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!r&&r.identifier===-1&&(r.radiusX==null||r.radiusX===1)&&(r.radiusY==null||r.radiusY===1)}var qt=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(qt||{}),ah="cdk-high-contrast-black-on-white",ch="cdk-high-contrast-white-on-black",Ws="cdk-high-contrast-active",uh=(()=>{class n{constructor(i,s){this._platform=i,this._document=s,this._breakpointSubscription=I(sh).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return qt.NONE;let i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);let s=this._document.defaultView||window,a=s&&s.getComputedStyle?s.getComputedStyle(i):null,h=(a&&a.backgroundColor||"").replace(/ /g,"");switch(i.remove(),h){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return qt.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return qt.BLACK_ON_WHITE}return qt.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let i=this._document.body.classList;i.remove(Ws,ah,ch),this._hasCheckedHighContrastMode=!0;let s=this.getHighContrastMode();s===qt.BLACK_ON_WHITE?i.add(Ws,ah):s===qt.WHITE_ON_BLACK&&i.add(Ws,ch)}}static{this.\u0275fac=function(s){return new(s||n)(A(Gt),A(me))}}static{this.\u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var qs=(()=>{class n{static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275mod=Re({type:n})}static{this.\u0275inj=Pe({})}}return n})();var Yp=["mat-internal-form-field",""],Xp=["*"];function Jp(){return!0}var Qp=new $("mat-sanity-checks",{providedIn:"root",factory:Jp}),Js=(()=>{class n{constructor(i,s,a){this._sanityChecks=s,this._document=a,this._hasDoneGlobalChecks=!1,i._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return nh()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[i]}static{this.\u0275fac=function(s){return new(s||n)(A(uh),A(Qp,8),A(me))}}static{this.\u0275mod=Re({type:n})}static{this.\u0275inj=Pe({imports:[qs,qs]})}}return n})();var We=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}(We||{}),Ks=class{constructor(r,i,s,a=!1){this._renderer=r,this.element=i,this.config=s,this._animationForciblyDisabledThroughCss=a,this.state=We.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},dh=Zs({passive:!0,capture:!0}),Ys=class{constructor(){this._events=new Map,this._delegateEventHandler=r=>{let i=ih(r);i&&this._events.get(r.type)?.forEach((s,a)=>{(a===i||a.contains(i))&&s.forEach(h=>h.handleEvent(r))})}}addHandler(r,i,s,a){let h=this._events.get(i);if(h){let u=h.get(s);u?u.add(a):h.set(s,new Set([a]))}else this._events.set(i,new Map([[s,new Set([a])]])),r.runOutsideAngular(()=>{document.addEventListener(i,this._delegateEventHandler,dh)})}removeHandler(r,i,s){let a=this._events.get(r);if(!a)return;let h=a.get(i);h&&(h.delete(s),h.size===0&&a.delete(i),a.size===0&&(this._events.delete(r),document.removeEventListener(r,this._delegateEventHandler,dh)))}},fh={enterDuration:225,exitDuration:150},em=800,ph=Zs({passive:!0,capture:!0}),mh=["mousedown","touchstart"],gh=["mouseup","mouseleave","touchend","touchcancel"],Xs=class n{static{this._eventManager=new Ys}constructor(r,i,s,a){this._target=r,this._ngZone=i,this._platform=a,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,a.isBrowser&&(this._containerElement=Gs(s))}fadeInRipple(r,i,s={}){let a=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),h=C(C({},fh),s.animation);s.centered&&(r=a.left+a.width/2,i=a.top+a.height/2);let u=s.radius||tm(r,i,a),m=r-a.left,f=i-a.top,_=h.enterDuration,b=document.createElement("div");b.classList.add("mat-ripple-element"),b.style.left=`${m-u}px`,b.style.top=`${f-u}px`,b.style.height=`${u*2}px`,b.style.width=`${u*2}px`,s.color!=null&&(b.style.backgroundColor=s.color),b.style.transitionDuration=`${_}ms`,this._containerElement.appendChild(b);let w=window.getComputedStyle(b),M=w.transitionProperty,k=w.transitionDuration,Y=M==="none"||k==="0s"||k==="0s, 0s"||a.width===0&&a.height===0,O=new Ks(this,b,s,Y);b.style.transform="scale3d(1, 1, 1)",O.state=We.FADING_IN,s.persistent||(this._mostRecentTransientRipple=O);let D=null;return!Y&&(_||h.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let K=()=>{D&&(D.fallbackTimer=null),clearTimeout(W),this._finishRippleTransition(O)},be=()=>this._destroyRipple(O),W=setTimeout(be,_+100);b.addEventListener("transitionend",K),b.addEventListener("transitioncancel",be),D={onTransitionEnd:K,onTransitionCancel:be,fallbackTimer:W}}),this._activeRipples.set(O,D),(Y||!_)&&this._finishRippleTransition(O),O}fadeOutRipple(r){if(r.state===We.FADING_OUT||r.state===We.HIDDEN)return;let i=r.element,s=C(C({},fh),r.config.animation);i.style.transitionDuration=`${s.exitDuration}ms`,i.style.opacity="0",r.state=We.FADING_OUT,(r._animationForciblyDisabledThroughCss||!s.exitDuration)&&this._finishRippleTransition(r)}fadeOutAll(){this._getActiveRipples().forEach(r=>r.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(r=>{r.config.persistent||r.fadeOut()})}setupTriggerEvents(r){let i=Gs(r);!this._platform.isBrowser||!i||i===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=i,mh.forEach(s=>{n._eventManager.addHandler(this._ngZone,s,i,this)}))}handleEvent(r){r.type==="mousedown"?this._onMousedown(r):r.type==="touchstart"?this._onTouchStart(r):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{gh.forEach(i=>{this._triggerElement.addEventListener(i,this,ph)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(r){r.state===We.FADING_IN?this._startFadeOutTransition(r):r.state===We.FADING_OUT&&this._destroyRipple(r)}_startFadeOutTransition(r){let i=r===this._mostRecentTransientRipple,{persistent:s}=r.config;r.state=We.VISIBLE,!s&&(!i||!this._isPointerDown)&&r.fadeOut()}_destroyRipple(r){let i=this._activeRipples.get(r)??null;this._activeRipples.delete(r),this._activeRipples.size||(this._containerRect=null),r===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),r.state=We.HIDDEN,i!==null&&(r.element.removeEventListener("transitionend",i.onTransitionEnd),r.element.removeEventListener("transitioncancel",i.onTransitionCancel),i.fallbackTimer!==null&&clearTimeout(i.fallbackTimer)),r.element.remove()}_onMousedown(r){let i=lh(r),s=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+em;!this._target.rippleDisabled&&!i&&!s&&(this._isPointerDown=!0,this.fadeInRipple(r.clientX,r.clientY,this._target.rippleConfig))}_onTouchStart(r){if(!this._target.rippleDisabled&&!hh(r)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let i=r.changedTouches;if(i)for(let s=0;s<i.length;s++)this.fadeInRipple(i[s].clientX,i[s].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(r=>{let i=r.state===We.VISIBLE||r.config.terminateOnPointerUp&&r.state===We.FADING_IN;!r.config.persistent&&i&&r.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let r=this._triggerElement;r&&(mh.forEach(i=>n._eventManager.removeHandler(i,r,this)),this._pointerUpEventsRegistered&&(gh.forEach(i=>r.removeEventListener(i,this,ph)),this._pointerUpEventsRegistered=!1))}};function tm(n,r,i){let s=Math.max(Math.abs(n-i.left),Math.abs(n-i.right)),a=Math.max(Math.abs(r-i.top),Math.abs(r-i.bottom));return Math.sqrt(s*s+a*a)}var im=new $("mat-ripple-global-options"),Qs=(()=>{class n{get disabled(){return this._disabled}set disabled(i){i&&this.fadeOutAllNonPersistent(),this._disabled=i,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(i){this._trigger=i,this._setupTriggerEventsIfEnabled()}constructor(i,s,a,h,u){this._elementRef=i,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=h||{},this._rippleRenderer=new Xs(this,s,i,a)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:C(C(C({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(i,s=0,a){return typeof i=="number"?this._rippleRenderer.fadeInRipple(i,s,C(C({},this.rippleConfig),a)):this._rippleRenderer.fadeInRipple(0,0,C(C({},this.rippleConfig),i))}static{this.\u0275fac=function(s){return new(s||n)(Ae(ft),Ae(ue),Ae(Gt),Ae(im,8),Ae(li,8))}}static{this.\u0275dir=zt({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(s,a){s&2&&ui("mat-ripple-unbounded",a.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}}return n})();var _h=(()=>{class n{static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275cmp=he({type:n,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(s,a){s&2&&ui("mdc-form-field--align-end",a.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[pe],attrs:Yp,ngContentSelectors:Xp,decls:1,vars:0,template:function(s,a){s&1&&(Jn(),Qn(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0})}}return n})();var nm=["input"],rm=["label"],om=["*"],sm=new $("mat-checkbox-default-options",{providedIn:"root",factory:yh});function yh(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1}}var we=function(n){return n[n.Init=0]="Init",n[n.Checked=1]="Checked",n[n.Unchecked=2]="Unchecked",n[n.Indeterminate=3]="Indeterminate",n}(we||{}),am={provide:eh,useExisting:Mo(()=>Ar),multi:!0},ea=class{},cm=0,vh=yh(),Ar=(()=>{class n{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(i){let s=new ea;return s.source=this,s.checked=i,s}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(i,s,a,h,u,m){this._elementRef=i,this._changeDetectorRef=s,this._ngZone=a,this._animationMode=u,this._options=m,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new Oe,this.indeterminateChange=new Oe,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=we.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||vh,this.color=this._options.color||vh.color,this.tabIndex=parseInt(h)||0,this.id=this._uniqueId=`mat-mdc-checkbox-${++cm}`,this.disabledInteractive=m?.disabledInteractive??!1}ngOnChanges(i){i.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(i){i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(i){i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(i){let s=i!=this._indeterminate;this._indeterminate=i,s&&(this._indeterminate?this._transitionCheckState(we.Indeterminate):this._transitionCheckState(this.checked?we.Checked:we.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(i){this.checked=!!i}registerOnChange(i){this._controlValueAccessorChangeFn=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this.disabled=i}validate(i){return this.required&&i.value!==!0?{required:!0}:null}registerOnValidatorChange(i){this._validatorChangeFn=i}_transitionCheckState(i){let s=this._currentCheckState,a=this._getAnimationTargetElement();if(!(s===i||!a)&&(this._currentAnimationClass&&a.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(s,i),this._currentCheckState=i,this._currentAnimationClass.length>0)){a.classList.add(this._currentAnimationClass);let h=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{a.classList.remove(h)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let i=this._options?.clickAction;!this.disabled&&i!=="noop"?(this.indeterminate&&i!=="check"&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?we.Checked:we.Unchecked),this._emitChangeEvent()):(this.disabled&&this.disabledInteractive||!this.disabled&&i==="noop")&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(i){i.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(i,s){if(this._animationMode==="NoopAnimations")return"";switch(i){case we.Init:if(s===we.Checked)return this._animationClasses.uncheckedToChecked;if(s==we.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case we.Unchecked:return s===we.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case we.Checked:return s===we.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case we.Indeterminate:return s===we.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(i){let s=this._inputElement;s&&(s.nativeElement.indeterminate=i)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(i){i.target&&this._labelElement.nativeElement.contains(i.target)&&i.stopPropagation()}static{this.\u0275fac=function(s){return new(s||n)(Ae(ft),Ae(jt),Ae(ue),Ao("tabindex"),Ae(li,8),Ae(sm,8))}}static{this.\u0275cmp=he({type:n,selectors:[["mat-checkbox"]],viewQuery:function(s,a){if(s&1&&(Wi(nm,5),Wi(rm,5),Wi(Qs,5)),s&2){let h;di(h=fi())&&(a._inputElement=h.first),di(h=fi())&&(a._labelElement=h.first),di(h=fi())&&(a.ripple=h.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(s,a){s&2&&(Lo("id",a.id),hi("tabindex",null)("aria-label",null)("aria-labelledby",null),Oc(a.color?"mat-"+a.color:"mat-accent"),ui("_mat-animation-noopable",a._animationMode==="NoopAnimations")("mdc-checkbox--disabled",a.disabled)("mat-mdc-checkbox-disabled",a.disabled)("mat-mdc-checkbox-checked",a.checked)("mat-mdc-checkbox-disabled-interactive",a.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],id:"id",required:[2,"required","required",Xe],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",Xe],tabIndex:[2,"tabIndex","tabIndex",i=>i==null?void 0:Bc(i)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Xe],checked:[2,"checked","checked",Xe],disabled:[2,"disabled","disabled",Xe],indeterminate:[2,"indeterminate","indeterminate",Xe]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[rt([am,{provide:th,useExisting:n,multi:!0}]),Gi,Ui,pe],ngContentSelectors:om,decls:15,vars:20,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(s,a){if(s&1){let h=Lc();Jn(),G(0,"div",3),He("click",function(m){return ai(h),ci(a._preventBubblingFromLabel(m))}),G(1,"div",4,0)(3,"div",5),He("click",function(){return ai(h),ci(a._onTouchTargetClick())}),J(),G(4,"input",6,1),He("blur",function(){return ai(h),ci(a._onBlur())})("click",function(){return ai(h),ci(a._onInputClick())})("change",function(m){return ai(h),ci(a._onInteractionEvent(m))}),J(),fe(6,"div",7),G(7,"div",8),Ec(),G(8,"svg",9),fe(9,"path",10),J(),Mc(),fe(10,"div",11),J(),fe(11,"div",12),J(),G(12,"label",13,2),Qn(14),J()()}if(s&2){let h=Nc(2);Ce("labelPosition",a.labelPosition),de(4),ui("mdc-checkbox--selected",a.checked),Ce("checked",a.checked)("indeterminate",a.indeterminate)("disabled",a.disabled&&!a.disabledInteractive)("id",a.inputId)("required",a.required)("tabIndex",a.disabled&&!a.disabledInteractive?-1:a.tabIndex),hi("aria-label",a.ariaLabel||null)("aria-labelledby",a.ariaLabelledby)("aria-describedby",a.ariaDescribedby)("aria-checked",a.indeterminate?"mixed":null)("aria-disabled",a.disabled&&a.disabledInteractive?!0:null)("name",a.name)("value",a.value),de(7),Ce("matRippleTrigger",h)("matRippleDisabled",a.disableRipple||a.disabled)("matRippleCentered",!0),de(),Ce("for",a.inputId)}},dependencies:[Qs,_h],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mdc-checkbox__ripple{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.cdk-high-contrast-active .mdc-checkbox--disabled{opacity:.5}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mdc-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mat-app-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mat-app-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover .mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.cdk-high-contrast-active .mdc-checkbox--disabled .mdc-checkbox__checkmark,.cdk-high-contrast-active .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__mixedmark{margin:0 1px}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *,.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return n})();var bh=(()=>{class n{static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275mod=Re({type:n})}static{this.\u0275inj=Pe({imports:[Ar,Js,Js]})}}return n})();var Sr=class n{onCheckboxChange(r){console.log(r.checked)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=he({type:n,selectors:[["app-header"]],standalone:!0,features:[pe],decls:18,vars:1,consts:[[1,"left-side"],["alt","App Logo",3,"src"],[1,"right-side"],[3,"change"]],template:function(i,s){i&1&&(G(0,"nav")(1,"div",0),fe(2,"img",1),G(3,"h1"),ae(4,"BirdNet "),G(5,"span"),ae(6,"- a living library of bird vocalizations"),J()()(),G(7,"div",2)(8,"mat-checkbox",3),He("change",function(h){return s.onCheckboxChange(h)}),ae(9,"BirdNET"),J(),G(10,"mat-checkbox",3),He("change",function(h){return s.onCheckboxChange(h)}),ae(11,"BirdWeather"),J(),G(12,"mat-checkbox",3),He("change",function(h){return s.onCheckboxChange(h)}),ae(13,"eBird"),J(),G(14,"mat-checkbox",3),He("change",function(h){return s.onCheckboxChange(h)}),ae(15,"Range"),J(),G(16,"mat-checkbox",3),He("change",function(h){return s.onCheckboxChange(h)}),ae(17,"Weather"),J()()()),i&2&&(de(2),Ce("src","logo2.png",Yn))},dependencies:[bh,Ar],styles:[`nav{background-color:#013833;padding:5px;display:flex;justify-content:space-between}nav .left-side{display:flex;align-items:center}nav .left-side img{height:50px;width:auto;margin-right:10px;margin-left:5px}nav .left-side h1{color:#fff;font-weight:400;margin:0}nav .left-side h1 span{font-size:12px}nav .right-side{display:flex;align-items:center;padding-right:15px}nav .mat-checkbox{margin:5px}nav .mdc-checkbox .mdc-checkbox__background{border:2px solid #ffffff}nav .mat-mdc-checkbox.mat-accent .mdc-label{font-size:16px;color:#fff;font-family:Courgette,cursive;font-weight:400;font-style:normal;margin:0}nav .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background{border:2px solid #ffffff}nav .mdc-checkbox__native-control{border-color:#fff}nav .mdc-checkbox__native-control:hover{border-color:#fff}nav .mdc-checkbox__background svg{color:#fff}nav .mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,nav .mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:#fff}@media only screen and (max-width: 600px){nav{flex-direction:column}nav .right-side{display:none}}
`],encapsulation:2})};var Fe=Yu(xh());var Pr=class n{constructor(r){this.http=r}getCitiesGeoJson(){return this.http.get("cities.geojson")}static \u0275fac=function(i){return new(i||n)(A(Go))};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})};var vt=class n{destroyedNotificationId=new Te;destroyedNotificationId$=this.destroyedNotificationId.asObservable();static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac})};var Rr=class n{lifetime=0;destroyed=new Oe;_notification;set notification(r){console.log(r),this._notification=r}get notification(){return this._notification}stateService=I(vt);timerId;ngOnInit(){let r=this.notification.lifetime;this.timerId=setInterval(()=>{r-=500,console.log("timer",r),r<=0&&(console.log("this.notification.lifetime === 0"),this.stateService.destroyedNotificationId.next(this.notification.id))},1e3)}ngOnDestroy(){console.log("ngOnDestroy()"),clearInterval(this.timerId)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=he({type:n,selectors:[["app-notification-item"]],inputs:{lifetime:"lifetime",notification:"notification"},outputs:{destroyed:"destroyed"},standalone:!0,features:[rt([]),pe],decls:12,vars:5,consts:[[1,"notification-list__left-side"],[1,"image-block"],["alt","",3,"src"],[1,"notification-list__item__info"],[1,"notification-list__right-side"]],template:function(i,s){i&1&&(G(0,"div",0)(1,"div",1),fe(2,"img",2),J(),G(3,"div",3)(4,"p"),ae(5),G(6,"span"),ae(7),J()(),G(8,"span"),ae(9),J()()(),G(10,"div",4),ae(11),J()),i&2&&(de(2),Ce("src",s.notification.image,Yn),de(3),qi("",s.notification.name," "),de(2),qi("(",s.notification.subName,")"),de(2),Fc(s.notification.info),de(2),qi(" ",s.notification.rate,`
`))},styles:["[_nghost-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}"]})};function hm(n,r){if(n&1&&(G(0,"li",2),fe(1,"app-notification-item",3),J()),n&2){let i=r.$implicit;de(),Ce("notification",i)}}var Or=class n{_notificationList=[];set notificationList(r){this._notificationList=r}get notificationList(){return this._notificationList}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=he({type:n,selectors:[["app-detection-notification"]],inputs:{notificationList:"notificationList"},standalone:!0,features:[pe],decls:2,vars:1,consts:[[1,"notification-list"],["class","notification-list__item",4,"ngFor","ngForOf"],[1,"notification-list__item"],[3,"notification"]],template:function(i,s){i&1&&(G(0,"ul",0),Oo(1,hm,2,1,"li",1),J()),i&2&&(de(),Ce("ngForOf",s.notificationList))},dependencies:[Bo,Zc,Rr],styles:[`.notification-list{display:flex;padding:0;margin:0;flex-direction:column;row-gap:16px}.notification-list__item{display:flex;justify-content:space-between;border:1px solid #ccc;height:30px;background:#fff;padding:2px 8px;border-top-right-radius:10px;border-bottom-right-radius:10px;align-items:center;position:relative}.notification-list__item__info{display:flex;flex-direction:column}.notification-list__left-side{display:flex;padding-left:20px}.notification-list__left-side .image-block{position:absolute;left:-25px;border-radius:100%;width:40px;height:40px;border:2px solid #ff7676;top:-5px;background:#ff7676}.notification-list__left-side .image-block img{border-radius:100%;width:40px;height:40px}.notification-list__left-side p{margin:0;font-size:14px}.notification-list__left-side p span,.notification-list__left-side span{font-size:10px}@media only screen and (max-width: 600px){app-detection-notification{right:0!important;left:0!important;margin:auto!important;width:calc(100% - 30px)!important}p{font-size:14px!important}span{font-size:12px!important}.image-block{left:-10px!important}.notification-list__item__info{padding-left:15px!important}}
`],encapsulation:2})};var um={url:"",deserializer:n=>JSON.parse(n.data),serializer:n=>JSON.stringify(n)},dm="WebSocketSubject.error must be called with an object with an error code, and an optional reason: { code: number, reason: string }",Lr=class n extends gc{constructor(r,i){if(super(),this._socket=null,r instanceof Ct)this.destination=i,this.source=r;else{let s=this._config=Object.assign({},um);if(this._output=new Te,typeof r=="string")s.url=r;else for(let a in r)r.hasOwnProperty(a)&&(s[a]=r[a]);if(!s.WebSocketCtor&&WebSocket)s.WebSocketCtor=WebSocket;else if(!s.WebSocketCtor)throw new Error("no WebSocket constructor can be found");this.destination=new $n}}lift(r){let i=new n(this._config,this.destination);return i.operator=r,i.source=this,i}_resetState(){this._socket=null,this.source||(this.destination=new $n),this._output=new Te}multiplex(r,i,s){let a=this;return new Ct(h=>{try{a.next(r())}catch(m){h.error(m)}let u=a.subscribe({next:m=>{try{s(m)&&h.next(m)}catch(f){h.error(f)}},error:m=>h.error(m),complete:()=>h.complete()});return()=>{try{a.next(i())}catch(m){h.error(m)}u.unsubscribe()}})}_connectSocket(){let{WebSocketCtor:r,protocol:i,url:s,binaryType:a}=this._config,h=this._output,u=null;try{u=i?new r(s,i):new r(s),this._socket=u,a&&(this._socket.binaryType=a)}catch(f){h.error(f);return}let m=new Zn(()=>{this._socket=null,u&&u.readyState===1&&u.close()});u.onopen=f=>{let{_socket:_}=this;if(!_){u.close(),this._resetState();return}let{openObserver:b}=this._config;b&&b.next(f);let w=this.destination;this.destination=pc.create(M=>{if(u.readyState===1)try{let{serializer:k}=this._config;u.send(k(M))}catch(k){this.destination.error(k)}},M=>{let{closingObserver:k}=this._config;k&&k.next(void 0),M&&M.code?u.close(M.code,M.reason):h.error(new TypeError(dm)),this._resetState()},()=>{let{closingObserver:M}=this._config;M&&M.next(void 0),u.close(),this._resetState()}),w&&w instanceof $n&&m.add(w.subscribe(this.destination))},u.onerror=f=>{this._resetState(),h.error(f)},u.onclose=f=>{u===this._socket&&this._resetState();let{closeObserver:_}=this._config;_&&_.next(f),f.wasClean?h.complete():h.error(f)},u.onmessage=f=>{try{let{deserializer:_}=this._config;h.next(_(f))}catch(_){h.error(_)}}}_subscribe(r){let{source:i}=this;return i?i.subscribe(r):(this._socket||this._connectSocket(),this._output.subscribe(r),r.add(()=>{let{_socket:s}=this;this._output.observers.length===0&&(s&&(s.readyState===1||s.readyState===0)&&s.close(),this._resetState())}),r)}unsubscribe(){let{_socket:r}=this;r&&(r.readyState===1||r.readyState===0)&&r.close(),this._resetState(),super.unsubscribe()}};function ta(n){return new Lr(n)}var Nr=class n{url="wss://cable.birdweather.com/cable";socket$;constructor(){this.connect()}connect(){this.socket$=ta({url:this.url,deserializer:({data:r})=>r,openObserver:{next:()=>{console.log("WebSocket connection established"),this.socket$.next({type:"CONNECT",headers:{Upgrade:"websocket",Origin:"https://app.birdweather.com","Cache-Control":"no-cache","Accept-Language":"en-US,en;q=0.9,ru;q=0.8",Pragma:"no-cache",Connection:"Upgrade","Sec-WebSocket-Key":"qIRJr4G/VL/64zfku1pr8Q==","User-Agent":"Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/131.0.0.0 Safari/537.36","Sec-WebSocket-Version":"13","Sec-WebSocket-Protocol":"actioncable-v1-json, actioncable-unsupported","Sec-WebSocket-Extensions":"permessage-deflate; client_max_window_bits"}})}},closeObserver:{next:()=>{console.log("WebSocket connection closed")}},closingObserver:{next:()=>{console.log("WebSocket connection is closing")}}}),this.socket$.subscribe(r=>this.onMessage(r),r=>this.onError(r))}onMessage(r){console.log("Received message:",r)}onError(r){console.error("WebSocket error:",r)}sendMessage(r){this.socket$.next(r)}close(){this.socket$.complete()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=S({token:n,factory:n.\u0275fac,providedIn:"root"})};var Fr=class n{stateService=I(vt);webSocketService=I(Nr);map;data;customIcon=Fe.icon({iconUrl:"marker.png",iconSize:[30,38],iconAnchor:[22,94],popupAnchor:[-3,-76]});birdNames=[{common:"European Robin",scientific:"Erithacus rubecula"},{common:"Great Tit",scientific:"Parus major"},{common:"Blue Tit",scientific:"Cyanistes caeruleus"},{common:"Blackbird",scientific:"Turdus merula"},{common:"House Sparrow",scientific:"Passer domesticus"},{common:"Chaffinch",scientific:"Fringilla coelebs"},{common:"Goldfinch",scientific:"Carduelis carduelis"},{common:"European Starling",scientific:"Sturnus vulgaris"},{common:"Barn Swallow",scientific:"Hirundo rustica"},{common:"Common Chiffchaff",scientific:"Phylloscopus collybita"}];birdInfo={id:Date.now().toString(),name:"Tawny Owl",subName:"Strics Aluco",info:"BirdNet-PI - Zwolle",rate:"8.9",lifetime:1e3};notificationList=[{id:this.generateUniqueId(),name:"Tawny Owl",subName:"Strics Aluco",info:"BirdNet-PI - Zwolle",rate:"8.9",lifetime:1e3}];notificationListSource=[{id:this.generateUniqueId(),name:"Greater White Frontend Goose",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcRM2c5W_zPF1bjj7PEFV0dUrfM4Bwhn2EWt4w&s",subName:"Anser",info:"BirdNet-PI - Row",rate:Math.floor(Math.random()*10).toFixed(1),lifetime:Math.floor(Math.random()*1e3*10)},{id:this.generateUniqueId(),name:"Common Crane",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQcziI4PdK5-odpBYg6jCyGbnaGoFoYKTrhlA&s",subName:"Grus grus",info:"BirdNet-PI - Gross Kreutz Germany",rate:Math.floor(Math.random()*10).toFixed(1),lifetime:Math.floor(Math.random()*1e3*10)},{id:this.generateUniqueId(),name:"Redwing",image:"https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSmBwdQPrWU9Y6ksMXBj4wcggVtPsctFXPfGw&s",subName:"Turdus iliacus",info:"BirdNet-PI - 2576",rate:Math.floor(Math.random()*10).toFixed(1),lifetime:Math.floor(Math.random()*1e3*10)},{id:this.generateUniqueId(),name:"Tawny Owl",image:"https://www.hawk-conservancy.org/wp-content/uploads/2022/03/SageYoung2-e1647365827241.jpg",subName:"Strix aluco",info:"BirdNet-PI - Hamburg, Germany",rate:Math.floor(Math.random()*10).toFixed(1),lifetime:Math.floor(Math.random()*1e3*10)},{id:this.generateUniqueId(),name:"Black-headed Gull",image:"https://waterbirdcolourmarking.org/wp-content/uploads/2022/07/submitted_2022-06-16-21_42_56_2r92_bhgull.jpg",subName:"Chroicocephalus",info:"BirdNet-PI - HAU AEIC",rate:Math.floor(Math.random()*10).toFixed(1),lifetime:Math.floor(Math.random()*1e3*10)},{id:this.generateUniqueId(),name:"Eurasian Magpie",image:"https://cdn.britannica.com/56/191256-131-9E594180/Magpie-magpie-perches-log.jpg",subName:"Pica pica",info:"BirdNet-PI - 4566",rate:Math.floor(Math.random()*10).toFixed(2),lifetime:Math.floor(Math.random()*1e3*10)}];ngOnInit(){this.map=Fe.map("map").setView([43,34],5);let r=Fe.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:19,attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),i=Fe.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:'&copy; <a href="https://www.esri.com">Esri</a> &mdash; Source: Esri, Earthstar Geographics, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community'}),s=Fe.tileLayer("https://stamen-tiles.a.ssl.fastly.net/toner/{z}/{x}/{y}.png",{maxZoom:20,attribution:'&copy; <a href="http://maps.stamen.com/">Stamen Design</a>'});r.addTo(this.map),Fe.marker([43,34],{icon:this.customIcon}).addTo(this.map).bindPopup("<b>European Robin</b><br>(Erithacus rubecula)").openPopup();let h={OpenStreetMap:r,Satellite:i,"Stamen Toner":s};Fe.control.layers(h).addTo(this.map),this.addMarkers(),this.stateService.destroyedNotificationId$.subscribe(u=>{console.log("this.stateService.destroyedNotificationId$.subscribe"),this.notificationList=this.notificationList.filter(m=>m.id!==u),console.log("this.notificationList",this.notificationList)}),this.webSocketService.sendMessage({type:"example",payload:"exampleData"})}addMarkers(){let r=0,i=setInterval(()=>{if(r>=200){clearInterval(i);return}let s=35+20*Math.random(),a=-10+40*Math.random(),h=Math.floor(Math.random()*this.birdNames.length),u=this.birdNames[h];Fe.marker([s,a],{icon:this.customIcon}).addTo(this.map).bindPopup(`<b>${u.common}</b><br>(${u.scientific})<br>Latitude: ${s.toFixed(2)}, Longitude: ${a.toFixed(2)}`);let f=Math.floor(Math.random()*6);this.notificationList.push(this.notificationListSource[f]),r++},2e3)}generateUniqueId(){let r=new Date,s=[r.getFullYear(),("0"+(r.getMonth()+1)).slice(-2),("0"+r.getDate()).slice(-2),("0"+r.getHours()).slice(-2),("0"+r.getMinutes()).slice(-2),("0"+r.getSeconds()).slice(-2),("00"+r.getMilliseconds()).slice(-3)].join(""),a=Math.random().toString(36).substr(2,5);return`${s}-${a}`}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=he({type:n,selectors:[["app-map"]],standalone:!0,features:[rt([Pr,vt]),pe],decls:2,vars:1,consts:[["id","map",2,"height","100%"],[3,"notificationList"]],template:function(i,s){i&1&&fe(0,"div",0)(1,"app-detection-notification",1),i&2&&(de(),Ce("notificationList",s.notificationList))},dependencies:[Or],styles:["[_nghost-%COMP%]{display:block;height:calc(100vh - 110px);width:100%;overflow:hidden;position:relative}.map-container[_ngcontent-%COMP%]{height:100%;width:100%}app-detection-notification[_ngcontent-%COMP%]{position:absolute;top:30px;right:30px;z-index:999;width:300px}"]})};var Vr=class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=he({type:n,selectors:[["app-footer"]],standalone:!0,features:[pe],decls:9,vars:0,consts:[[1,"left-side"],[1,"right-side"],["href","https://birdnet.cornell.edu/"]],template:function(i,s){i&1&&(G(0,"footer")(1,"div",0),ae(2," BirdNet "),J(),G(3,"div",1),ae(4," BirdNet "),G(5,"span"),ae(6,"is powered by"),J(),G(7,"a",2),ae(8,"BirdNET"),J()()())},styles:["footer[_ngcontent-%COMP%]{background-color:#013833;display:flex;justify-content:space-between;color:#fff;padding:15px;font-size:12px;align-items:center}footer[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]{font-size:14px}footer[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;margin:0 5px}footer[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ffffffa6}"]})};var zr=class n{title="BirdNet";static \u0275fac=function(i){return new(i||n)};static \u0275cmp=he({type:n,selectors:[["app-root"]],standalone:!0,features:[rt([vt]),pe],decls:4,vars:0,template:function(i,s){i&1&&fe(0,"app-header")(1,"app-map")(2,"app-footer")(3,"router-outlet")},dependencies:[ol,Sr,Fr,Vr,Ls]})};dl(zr,Ql).catch(n=>console.error(n));
