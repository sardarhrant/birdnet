import{$ as Fe,$a as wt,A as Le,Aa as Mt,Ab as or,B as fc,Ba as Mo,C as wo,Ca as kc,D as ke,Da as Yn,E as pc,Ea as Ic,F as Ne,Fa as Ao,G as Ie,Ga as Gi,H as xo,Ha as Ec,I as mc,Ia as Tc,J as gc,Ja as Xn,K as _c,Ka as ci,L as Hn,La as bt,M as Ut,Ma as li,N as Gn,Na as Mc,O as gt,Oa as X,P as et,Pa as it,Q as Co,Qa as dt,R as O,Ra as Ac,S as St,Sa as Do,T as vc,Ta as hi,U as $,Ua as So,V as ko,Va as Jn,W as M,Wa as Qn,X as k,Xa as Wi,Y as ji,Ya as ui,Z as lt,Za as di,_ as Pt,_a as Dc,a as C,aa as Ve,ab as qi,b as ct,ba as yc,bb as Sc,ca as ri,cb as ne,d as Hu,da as Kt,db as ft,e as Gu,ea as Ui,eb as tr,f as _o,fa as oi,fb as Po,g as lc,ga as si,gb as Ro,h as hc,ha as bc,hb as er,i as Vi,ia as wc,ib as Oo,j as vo,ja as Wn,jb as Pc,k as yo,ka as Io,kb as ze,l as qt,la as Eo,lb as Rc,m as Bt,ma as Zi,mb as Yt,n as xe,na as Rt,nb as Oc,o as Dt,oa as ht,ob as Lo,p as S,pa as To,pb as Lc,q as zi,qa as de,qb as Nc,r as uc,ra as xc,rb as pt,s as dc,sa as qn,sb as ir,t as Z,ta as Cc,tb as nr,u as Bi,ua as fe,ub as Fc,v as jt,va as ai,vb as Vc,w as $n,wa as $i,wb as No,x as bo,xa as Kn,xb as zc,y as Ce,ya as Hi,yb as Bc,z as ni,za as ut,zb as rr}from"./chunk-L65SJWVU.js";var vh=Hu((Dr,_h)=>{"use strict";(function(n,r){typeof Dr=="object"&&typeof _h<"u"?r(Dr):typeof define=="function"&&define.amd?define(["exports"],r):(n=typeof globalThis<"u"?globalThis:n||self,r(n.leaflet={}))})(Dr,function(n){"use strict";var r="1.9.4";function i(t){var e,o,c,l;for(o=1,c=arguments.length;o<c;o++){l=arguments[o];for(e in l)t[e]=l[e]}return t}var s=Object.create||function(){function t(){}return function(e){return t.prototype=e,new t}}();function a(t,e){var o=Array.prototype.slice;if(t.bind)return t.bind.apply(t,o.call(arguments,1));var c=o.call(arguments,2);return function(){return t.apply(e,c.length?c.concat(o.call(arguments)):arguments)}}var h=0;function u(t){return"_leaflet_id"in t||(t._leaflet_id=++h),t._leaflet_id}function m(t,e,o){var c,l,d,p;return p=function(){c=!1,l&&(d.apply(o,l),l=!1)},d=function(){c?l=arguments:(t.apply(o,arguments),setTimeout(p,e),c=!0)},d}function f(t,e,o){var c=e[1],l=e[0],d=c-l;return t===c&&o?t:((t-l)%d+d)%d+l}function v(){return!1}function b(t,e){if(e===!1)return t;var o=Math.pow(10,e===void 0?6:e);return Math.round(t*o)/o}function w(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function P(t){return w(t).split(/\s+/)}function I(t,e){Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?s(t.options):{});for(var o in e)t.options[o]=e[o];return t.options}function K(t,e,o){var c=[];for(var l in t)c.push(encodeURIComponent(o?l.toUpperCase():l)+"="+encodeURIComponent(t[l]));return(!e||e.indexOf("?")===-1?"?":"&")+c.join("&")}var R=/\{ *([\w_ -]+) *\}/g;function A(t,e){return t.replace(R,function(o,c){var l=e[c];if(l===void 0)throw new Error("No value provided for variable "+o);return typeof l=="function"&&(l=l(e)),l})}var q=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};function yt(t,e){for(var o=0;o<t.length;o++)if(t[o]===e)return o;return-1}var G="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function oe(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var Jt=0;function ve(t){var e=+new Date,o=Math.max(0,16-(e-Jt));return Jt=e+o,window.setTimeout(t,o)}var We=window.requestAnimationFrame||oe("RequestAnimationFrame")||ve,Xs=window.cancelAnimationFrame||oe("CancelAnimationFrame")||oe("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function kt(t,e,o){if(o&&We===ve)t.call(e);else return We.call(window,a(t,e))}function Nt(t){t&&Xs.call(window,t)}var yh={__proto__:null,extend:i,create:s,bind:a,get lastId(){return h},stamp:u,throttle:m,wrapNum:f,falseFn:v,formatNum:b,trim:w,splitWords:P,setOptions:I,getParamString:K,template:A,isArray:q,indexOf:yt,emptyImageUrl:G,requestFn:We,cancelFn:Xs,requestAnimFrame:kt,cancelAnimFrame:Nt};function se(){}se.extend=function(t){var e=function(){I(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},o=e.__super__=this.prototype,c=s(o);c.constructor=e,e.prototype=c;for(var l in this)Object.prototype.hasOwnProperty.call(this,l)&&l!=="prototype"&&l!=="__super__"&&(e[l]=this[l]);return t.statics&&i(e,t.statics),t.includes&&(bh(t.includes),i.apply(null,[c].concat(t.includes))),i(c,t),delete c.statics,delete c.includes,c.options&&(c.options=o.options?s(o.options):{},i(c.options,t.options)),c._initHooks=[],c.callInitHooks=function(){if(!this._initHooksCalled){o.callInitHooks&&o.callInitHooks.call(this),this._initHooksCalled=!0;for(var d=0,p=c._initHooks.length;d<p;d++)c._initHooks[d].call(this)}},e},se.include=function(t){var e=this.prototype.options;return i(this.prototype,t),t.options&&(this.prototype.options=e,this.mergeOptions(t.options)),this},se.mergeOptions=function(t){return i(this.prototype.options,t),this},se.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),o=typeof t=="function"?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(o),this};function bh(t){if(!(typeof L>"u"||!L||!L.Mixin)){t=q(t)?t:[t];for(var e=0;e<t.length;e++)t[e]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var At={on:function(t,e,o){if(typeof t=="object")for(var c in t)this._on(c,t[c],e);else{t=P(t);for(var l=0,d=t.length;l<d;l++)this._on(t[l],e,o)}return this},off:function(t,e,o){if(!arguments.length)delete this._events;else if(typeof t=="object")for(var c in t)this._off(c,t[c],e);else{t=P(t);for(var l=arguments.length===1,d=0,p=t.length;d<p;d++)l?this._off(t[d]):this._off(t[d],e,o)}return this},_on:function(t,e,o,c){if(typeof e!="function"){console.warn("wrong listener type: "+typeof e);return}if(this._listens(t,e,o)===!1){o===this&&(o=void 0);var l={fn:e,ctx:o};c&&(l.once=!0),this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(l)}},_off:function(t,e,o){var c,l,d;if(this._events&&(c=this._events[t],!!c)){if(arguments.length===1){if(this._firingCount)for(l=0,d=c.length;l<d;l++)c[l].fn=v;delete this._events[t];return}if(typeof e!="function"){console.warn("wrong listener type: "+typeof e);return}var p=this._listens(t,e,o);if(p!==!1){var g=c[p];this._firingCount&&(g.fn=v,this._events[t]=c=c.slice()),c.splice(p,1)}}},fire:function(t,e,o){if(!this.listens(t,o))return this;var c=i({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var l=this._events[t];if(l){this._firingCount=this._firingCount+1||1;for(var d=0,p=l.length;d<p;d++){var g=l[d],_=g.fn;g.once&&this.off(t,_,g.ctx),_.call(g.ctx||this,c)}this._firingCount--}}return o&&this._propagateEvent(c),this},listens:function(t,e,o,c){typeof t!="string"&&console.warn('"string" type argument expected');var l=e;typeof e!="function"&&(c=!!e,l=void 0,o=void 0);var d=this._events&&this._events[t];if(d&&d.length&&this._listens(t,l,o)!==!1)return!0;if(c){for(var p in this._eventParents)if(this._eventParents[p].listens(t,e,o,c))return!0}return!1},_listens:function(t,e,o){if(!this._events)return!1;var c=this._events[t]||[];if(!e)return!!c.length;o===this&&(o=void 0);for(var l=0,d=c.length;l<d;l++)if(c[l].fn===e&&c[l].ctx===o)return l;return!1},once:function(t,e,o){if(typeof t=="object")for(var c in t)this._on(c,t[c],e,!0);else{t=P(t);for(var l=0,d=t.length;l<d;l++)this._on(t[l],e,o,!0)}return this},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[u(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[u(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,i({layer:t.target,propagatedFrom:t.target},t),!0)}};At.addEventListener=At.on,At.removeEventListener=At.clearAllEventListeners=At.off,At.addOneTimeEventListener=At.once,At.fireEvent=At.fire,At.hasEventListeners=At.listens;var Ci=se.extend(At);function N(t,e,o){this.x=o?Math.round(t):t,this.y=o?Math.round(e):e}var Js=Math.trunc||function(t){return t>0?Math.floor(t):Math.ceil(t)};N.prototype={clone:function(){return new N(this.x,this.y)},add:function(t){return this.clone()._add(D(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(D(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new N(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new N(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=Js(this.x),this.y=Js(this.y),this},distanceTo:function(t){t=D(t);var e=t.x-this.x,o=t.y-this.y;return Math.sqrt(e*e+o*o)},equals:function(t){return t=D(t),t.x===this.x&&t.y===this.y},contains:function(t){return t=D(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+b(this.x)+", "+b(this.y)+")"}};function D(t,e,o){return t instanceof N?t:q(t)?new N(t[0],t[1]):t==null?t:typeof t=="object"&&"x"in t&&"y"in t?new N(t.x,t.y):new N(t,e,o)}function Q(t,e){if(t)for(var o=e?[t,e]:t,c=0,l=o.length;c<l;c++)this.extend(o[c])}Q.prototype={extend:function(t){var e,o;if(!t)return this;if(t instanceof N||typeof t[0]=="number"||"x"in t)e=o=D(t);else if(t=It(t),e=t.min,o=t.max,!e||!o)return this;return!this.min&&!this.max?(this.min=e.clone(),this.max=o.clone()):(this.min.x=Math.min(e.x,this.min.x),this.max.x=Math.max(o.x,this.max.x),this.min.y=Math.min(e.y,this.min.y),this.max.y=Math.max(o.y,this.max.y)),this},getCenter:function(t){return D((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return D(this.min.x,this.max.y)},getTopRight:function(){return D(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,o;return typeof t[0]=="number"||t instanceof N?t=D(t):t=It(t),t instanceof Q?(e=t.min,o=t.max):e=o=t,e.x>=this.min.x&&o.x<=this.max.x&&e.y>=this.min.y&&o.y<=this.max.y},intersects:function(t){t=It(t);var e=this.min,o=this.max,c=t.min,l=t.max,d=l.x>=e.x&&c.x<=o.x,p=l.y>=e.y&&c.y<=o.y;return d&&p},overlaps:function(t){t=It(t);var e=this.min,o=this.max,c=t.min,l=t.max,d=l.x>e.x&&c.x<o.x,p=l.y>e.y&&c.y<o.y;return d&&p},isValid:function(){return!!(this.min&&this.max)},pad:function(t){var e=this.min,o=this.max,c=Math.abs(e.x-o.x)*t,l=Math.abs(e.y-o.y)*t;return It(D(e.x-c,e.y-l),D(o.x+c,o.y+l))},equals:function(t){return t?(t=It(t),this.min.equals(t.getTopLeft())&&this.max.equals(t.getBottomRight())):!1}};function It(t,e){return!t||t instanceof Q?t:new Q(t,e)}function Et(t,e){if(t)for(var o=e?[t,e]:t,c=0,l=o.length;c<l;c++)this.extend(o[c])}Et.prototype={extend:function(t){var e=this._southWest,o=this._northEast,c,l;if(t instanceof Y)c=t,l=t;else if(t instanceof Et){if(c=t._southWest,l=t._northEast,!c||!l)return this}else return t?this.extend(j(t)||rt(t)):this;return!e&&!o?(this._southWest=new Y(c.lat,c.lng),this._northEast=new Y(l.lat,l.lng)):(e.lat=Math.min(c.lat,e.lat),e.lng=Math.min(c.lng,e.lng),o.lat=Math.max(l.lat,o.lat),o.lng=Math.max(l.lng,o.lng)),this},pad:function(t){var e=this._southWest,o=this._northEast,c=Math.abs(e.lat-o.lat)*t,l=Math.abs(e.lng-o.lng)*t;return new Et(new Y(e.lat-c,e.lng-l),new Y(o.lat+c,o.lng+l))},getCenter:function(){return new Y((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new Y(this.getNorth(),this.getWest())},getSouthEast:function(){return new Y(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){typeof t[0]=="number"||t instanceof Y||"lat"in t?t=j(t):t=rt(t);var e=this._southWest,o=this._northEast,c,l;return t instanceof Et?(c=t.getSouthWest(),l=t.getNorthEast()):c=l=t,c.lat>=e.lat&&l.lat<=o.lat&&c.lng>=e.lng&&l.lng<=o.lng},intersects:function(t){t=rt(t);var e=this._southWest,o=this._northEast,c=t.getSouthWest(),l=t.getNorthEast(),d=l.lat>=e.lat&&c.lat<=o.lat,p=l.lng>=e.lng&&c.lng<=o.lng;return d&&p},overlaps:function(t){t=rt(t);var e=this._southWest,o=this._northEast,c=t.getSouthWest(),l=t.getNorthEast(),d=l.lat>e.lat&&c.lat<o.lat,p=l.lng>e.lng&&c.lng<o.lng;return d&&p},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return t?(t=rt(t),this._southWest.equals(t.getSouthWest(),e)&&this._northEast.equals(t.getNorthEast(),e)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function rt(t,e){return t instanceof Et?t:new Et(t,e)}function Y(t,e,o){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,o!==void 0&&(this.alt=+o)}Y.prototype={equals:function(t,e){if(!t)return!1;t=j(t);var o=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return o<=(e===void 0?1e-9:e)},toString:function(t){return"LatLng("+b(this.lat,t)+", "+b(this.lng,t)+")"},distanceTo:function(t){return ye.distance(this,j(t))},wrap:function(){return ye.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,o=e/Math.cos(Math.PI/180*this.lat);return rt([this.lat-e,this.lng-o],[this.lat+e,this.lng+o])},clone:function(){return new Y(this.lat,this.lng,this.alt)}};function j(t,e,o){return t instanceof Y?t:q(t)&&typeof t[0]!="object"?t.length===3?new Y(t[0],t[1],t[2]):t.length===2?new Y(t[0],t[1]):null:t==null?t:typeof t=="object"&&"lat"in t?new Y(t.lat,"lng"in t?t.lng:t.lon,t.alt):e===void 0?null:new Y(t,e,o)}var ae={latLngToPoint:function(t,e){var o=this.projection.project(t),c=this.scale(e);return this.transformation._transform(o,c)},pointToLatLng:function(t,e){var o=this.scale(e),c=this.transformation.untransform(t,o);return this.projection.unproject(c)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite)return null;var e=this.projection.bounds,o=this.scale(t),c=this.transformation.transform(e.min,o),l=this.transformation.transform(e.max,o);return new Q(c,l)},infinite:!1,wrapLatLng:function(t){var e=this.wrapLng?f(t.lng,this.wrapLng,!0):t.lng,o=this.wrapLat?f(t.lat,this.wrapLat,!0):t.lat,c=t.alt;return new Y(o,e,c)},wrapLatLngBounds:function(t){var e=t.getCenter(),o=this.wrapLatLng(e),c=e.lat-o.lat,l=e.lng-o.lng;if(c===0&&l===0)return t;var d=t.getSouthWest(),p=t.getNorthEast(),g=new Y(d.lat-c,d.lng-l),_=new Y(p.lat-c,p.lng-l);return new Et(g,_)}},ye=i({},ae,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var o=Math.PI/180,c=t.lat*o,l=e.lat*o,d=Math.sin((e.lat-t.lat)*o/2),p=Math.sin((e.lng-t.lng)*o/2),g=d*d+Math.cos(c)*Math.cos(l)*p*p,_=2*Math.atan2(Math.sqrt(g),Math.sqrt(1-g));return this.R*_}}),Qs=6378137,Nr={R:Qs,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,o=this.MAX_LATITUDE,c=Math.max(Math.min(o,t.lat),-o),l=Math.sin(c*e);return new N(this.R*t.lng*e,this.R*Math.log((1+l)/(1-l))/2)},unproject:function(t){var e=180/Math.PI;return new Y((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=Qs*Math.PI;return new Q([-t,-t],[t,t])}()};function Fr(t,e,o,c){if(q(t)){this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3];return}this._a=t,this._b=e,this._c=o,this._d=c}Fr.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new N((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};function ki(t,e,o,c){return new Fr(t,e,o,c)}var Vr=i({},ye,{code:"EPSG:3857",projection:Nr,transformation:function(){var t=.5/(Math.PI*Nr.R);return ki(t,.5,-t,.5)}()}),wh=i({},Vr,{code:"EPSG:900913"});function ta(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function ea(t,e){var o="",c,l,d,p,g,_;for(c=0,d=t.length;c<d;c++){for(g=t[c],l=0,p=g.length;l<p;l++)_=g[l],o+=(l?"L":"M")+_.x+" "+_.y;o+=e?E.svg?"z":"x":""}return o||"M0 0"}var zr=document.documentElement.style,In="ActiveXObject"in window,xh=In&&!document.addEventListener,ia="msLaunchUri"in navigator&&!("documentMode"in document),Br=Qt("webkit"),na=Qt("android"),ra=Qt("android 2")||Qt("android 3"),Ch=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),kh=na&&Qt("Google")&&Ch<537&&!("AudioNode"in window),jr=!!window.opera,oa=!ia&&Qt("chrome"),sa=Qt("gecko")&&!Br&&!jr&&!In,Ih=!oa&&Qt("safari"),aa=Qt("phantom"),ca="OTransition"in zr,Eh=navigator.platform.indexOf("Win")===0,la=In&&"transition"in zr,Ur="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!ra,ha="MozPerspective"in zr,Th=!window.L_DISABLE_3D&&(la||Ur||ha)&&!ca&&!aa,Ii=typeof orientation<"u"||Qt("mobile"),Mh=Ii&&Br,Ah=Ii&&Ur,ua=!window.PointerEvent&&window.MSPointerEvent,da=!!(window.PointerEvent||ua),fa="ontouchstart"in window||!!window.TouchEvent,Dh=!window.L_NO_TOUCH&&(fa||da),Sh=Ii&&jr,Ph=Ii&&sa,Rh=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Oh=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",v,e),window.removeEventListener("testPassiveEventSupport",v,e)}catch{}return t}(),Lh=function(){return!!document.createElement("canvas").getContext}(),Zr=!!(document.createElementNS&&ta("svg").createSVGRect),Nh=!!Zr&&function(){var t=document.createElement("div");return t.innerHTML="<svg/>",(t.firstChild&&t.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Fh=!Zr&&function(){try{var t=document.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;return e.style.behavior="url(#default#VML)",e&&typeof e.adj=="object"}catch{return!1}}(),Vh=navigator.platform.indexOf("Mac")===0,zh=navigator.platform.indexOf("Linux")===0;function Qt(t){return navigator.userAgent.toLowerCase().indexOf(t)>=0}var E={ie:In,ielt9:xh,edge:ia,webkit:Br,android:na,android23:ra,androidStock:kh,opera:jr,chrome:oa,gecko:sa,safari:Ih,phantom:aa,opera12:ca,win:Eh,ie3d:la,webkit3d:Ur,gecko3d:ha,any3d:Th,mobile:Ii,mobileWebkit:Mh,mobileWebkit3d:Ah,msPointer:ua,pointer:da,touch:Dh,touchNative:fa,mobileOpera:Sh,mobileGecko:Ph,retina:Rh,passiveEvents:Oh,canvas:Lh,svg:Zr,vml:Fh,inlineSvg:Nh,mac:Vh,linux:zh},pa=E.msPointer?"MSPointerDown":"pointerdown",ma=E.msPointer?"MSPointerMove":"pointermove",ga=E.msPointer?"MSPointerUp":"pointerup",_a=E.msPointer?"MSPointerCancel":"pointercancel",$r={touchstart:pa,touchmove:ma,touchend:ga,touchcancel:_a},va={touchstart:Hh,touchmove:En,touchend:En,touchcancel:En},qe={},ya=!1;function Bh(t,e,o){return e==="touchstart"&&$h(),va[e]?(o=va[e].bind(this,o),t.addEventListener($r[e],o,!1),o):(console.warn("wrong event specified:",e),v)}function jh(t,e,o){if(!$r[e]){console.warn("wrong event specified:",e);return}t.removeEventListener($r[e],o,!1)}function Uh(t){qe[t.pointerId]=t}function Zh(t){qe[t.pointerId]&&(qe[t.pointerId]=t)}function ba(t){delete qe[t.pointerId]}function $h(){ya||(document.addEventListener(pa,Uh,!0),document.addEventListener(ma,Zh,!0),document.addEventListener(ga,ba,!0),document.addEventListener(_a,ba,!0),ya=!0)}function En(t,e){if(e.pointerType!==(e.MSPOINTER_TYPE_MOUSE||"mouse")){e.touches=[];for(var o in qe)e.touches.push(qe[o]);e.changedTouches=[e],t(e)}}function Hh(t,e){e.MSPOINTER_TYPE_TOUCH&&e.pointerType===e.MSPOINTER_TYPE_TOUCH&&mt(e),En(t,e)}function Gh(t){var e={},o,c;for(c in t)o=t[c],e[c]=o&&o.bind?o.bind(t):o;return t=e,e.type="dblclick",e.detail=2,e.isTrusted=!1,e._simulated=!0,e}var Wh=200;function qh(t,e){t.addEventListener("dblclick",e);var o=0,c;function l(d){if(d.detail!==1){c=d.detail;return}if(!(d.pointerType==="mouse"||d.sourceCapabilities&&!d.sourceCapabilities.firesTouchEvents)){var p=Ia(d);if(!(p.some(function(_){return _ instanceof HTMLLabelElement&&_.attributes.for})&&!p.some(function(_){return _ instanceof HTMLInputElement||_ instanceof HTMLSelectElement}))){var g=Date.now();g-o<=Wh?(c++,c===2&&e(Gh(d))):c=1,o=g}}}return t.addEventListener("click",l),{dblclick:e,simDblclick:l}}function Kh(t,e){t.removeEventListener("dblclick",e.dblclick),t.removeEventListener("click",e.simDblclick)}var Hr=An(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),Ei=An(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),wa=Ei==="webkitTransition"||Ei==="OTransition"?Ei+"End":"transitionend";function xa(t){return typeof t=="string"?document.getElementById(t):t}function Ti(t,e){var o=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!o||o==="auto")&&document.defaultView){var c=document.defaultView.getComputedStyle(t,null);o=c?c[e]:null}return o==="auto"?null:o}function H(t,e,o){var c=document.createElement(t);return c.className=e||"",o&&o.appendChild(c),c}function tt(t){var e=t.parentNode;e&&e.removeChild(t)}function Tn(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function Ke(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function Ye(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function Gr(t,e){if(t.classList!==void 0)return t.classList.contains(e);var o=Mn(t);return o.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(o)}function z(t,e){if(t.classList!==void 0)for(var o=P(e),c=0,l=o.length;c<l;c++)t.classList.add(o[c]);else if(!Gr(t,e)){var d=Mn(t);Wr(t,(d?d+" ":"")+e)}}function nt(t,e){t.classList!==void 0?t.classList.remove(e):Wr(t,w((" "+Mn(t)+" ").replace(" "+e+" "," ")))}function Wr(t,e){t.className.baseVal===void 0?t.className=e:t.className.baseVal=e}function Mn(t){return t.correspondingElement&&(t=t.correspondingElement),t.className.baseVal===void 0?t.className:t.className.baseVal}function Ft(t,e){"opacity"in t.style?t.style.opacity=e:"filter"in t.style&&Yh(t,e)}function Yh(t,e){var o=!1,c="DXImageTransform.Microsoft.Alpha";try{o=t.filters.item(c)}catch{if(e===1)return}e=Math.round(e*100),o?(o.Enabled=e!==100,o.Opacity=e):t.style.filter+=" progid:"+c+"(opacity="+e+")"}function An(t){for(var e=document.documentElement.style,o=0;o<t.length;o++)if(t[o]in e)return t[o];return!1}function De(t,e,o){var c=e||new N(0,0);t.style[Hr]=(E.ie3d?"translate("+c.x+"px,"+c.y+"px)":"translate3d("+c.x+"px,"+c.y+"px,0)")+(o?" scale("+o+")":"")}function ot(t,e){t._leaflet_pos=e,E.any3d?De(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function Se(t){return t._leaflet_pos||new N(0,0)}var Mi,Ai,qr;if("onselectstart"in document)Mi=function(){F(window,"selectstart",mt)},Ai=function(){J(window,"selectstart",mt)};else{var Di=An(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);Mi=function(){if(Di){var t=document.documentElement.style;qr=t[Di],t[Di]="none"}},Ai=function(){Di&&(document.documentElement.style[Di]=qr,qr=void 0)}}function Kr(){F(window,"dragstart",mt)}function Yr(){J(window,"dragstart",mt)}var Dn,Xr;function Jr(t){for(;t.tabIndex===-1;)t=t.parentNode;t.style&&(Sn(),Dn=t,Xr=t.style.outlineStyle,t.style.outlineStyle="none",F(window,"keydown",Sn))}function Sn(){Dn&&(Dn.style.outlineStyle=Xr,Dn=void 0,Xr=void 0,J(window,"keydown",Sn))}function Ca(t){do t=t.parentNode;while((!t.offsetWidth||!t.offsetHeight)&&t!==document.body);return t}function Qr(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Xh={__proto__:null,TRANSFORM:Hr,TRANSITION:Ei,TRANSITION_END:wa,get:xa,getStyle:Ti,create:H,remove:tt,empty:Tn,toFront:Ke,toBack:Ye,hasClass:Gr,addClass:z,removeClass:nt,setClass:Wr,getClass:Mn,setOpacity:Ft,testProp:An,setTransform:De,setPosition:ot,getPosition:Se,get disableTextSelection(){return Mi},get enableTextSelection(){return Ai},disableImageDrag:Kr,enableImageDrag:Yr,preventOutline:Jr,restoreOutline:Sn,getSizedParentNode:Ca,getScale:Qr};function F(t,e,o,c){if(e&&typeof e=="object")for(var l in e)eo(t,l,e[l],o);else{e=P(e);for(var d=0,p=e.length;d<p;d++)eo(t,e[d],o,c)}return this}var te="_leaflet_events";function J(t,e,o,c){if(arguments.length===1)ka(t),delete t[te];else if(e&&typeof e=="object")for(var l in e)io(t,l,e[l],o);else if(e=P(e),arguments.length===2)ka(t,function(g){return yt(e,g)!==-1});else for(var d=0,p=e.length;d<p;d++)io(t,e[d],o,c);return this}function ka(t,e){for(var o in t[te]){var c=o.split(/\d/)[0];(!e||e(c))&&io(t,c,null,null,o)}}var to={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function eo(t,e,o,c){var l=e+u(o)+(c?"_"+u(c):"");if(t[te]&&t[te][l])return this;var d=function(g){return o.call(c||t,g||window.event)},p=d;!E.touchNative&&E.pointer&&e.indexOf("touch")===0?d=Bh(t,e,d):E.touch&&e==="dblclick"?d=qh(t,d):"addEventListener"in t?e==="touchstart"||e==="touchmove"||e==="wheel"||e==="mousewheel"?t.addEventListener(to[e]||e,d,E.passiveEvents?{passive:!1}:!1):e==="mouseenter"||e==="mouseleave"?(d=function(g){g=g||window.event,ro(t,g)&&p(g)},t.addEventListener(to[e],d,!1)):t.addEventListener(e,p,!1):t.attachEvent("on"+e,d),t[te]=t[te]||{},t[te][l]=d}function io(t,e,o,c,l){l=l||e+u(o)+(c?"_"+u(c):"");var d=t[te]&&t[te][l];if(!d)return this;!E.touchNative&&E.pointer&&e.indexOf("touch")===0?jh(t,e,d):E.touch&&e==="dblclick"?Kh(t,d):"removeEventListener"in t?t.removeEventListener(to[e]||e,d,!1):t.detachEvent("on"+e,d),t[te][l]=null}function Pe(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,this}function no(t){return eo(t,"wheel",Pe),this}function Si(t){return F(t,"mousedown touchstart dblclick contextmenu",Pe),t._leaflet_disable_click=!0,this}function mt(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function Re(t){return mt(t),Pe(t),this}function Ia(t){if(t.composedPath)return t.composedPath();for(var e=[],o=t.target;o;)e.push(o),o=o.parentNode;return e}function Ea(t,e){if(!e)return new N(t.clientX,t.clientY);var o=Qr(e),c=o.boundingClientRect;return new N((t.clientX-c.left)/o.x-e.clientLeft,(t.clientY-c.top)/o.y-e.clientTop)}var Jh=E.linux&&E.chrome?window.devicePixelRatio:E.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function Ta(t){return E.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/Jh:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0}function ro(t,e){var o=e.relatedTarget;if(!o)return!0;try{for(;o&&o!==t;)o=o.parentNode}catch{return!1}return o!==t}var Qh={__proto__:null,on:F,off:J,stopPropagation:Pe,disableScrollPropagation:no,disableClickPropagation:Si,preventDefault:mt,stop:Re,getPropagationPath:Ia,getMousePosition:Ea,getWheelDelta:Ta,isExternalTarget:ro,addListener:F,removeListener:J},Ma=Ci.extend({run:function(t,e,o,c){this.stop(),this._el=t,this._inProgress=!0,this._duration=o||.25,this._easeOutPower=1/Math.max(c||.5,.2),this._startPos=Se(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=kt(this._animate,this),this._step()},_step:function(t){var e=+new Date-this._startTime,o=this._duration*1e3;e<o?this._runFrame(this._easeOut(e/o),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){var o=this._startPos.add(this._offset.multiplyBy(t));e&&o._round(),ot(this._el,o),this.fire("step")},_complete:function(){Nt(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),U=Ci.extend({options:{crs:Vr,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=I(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=a(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),e.zoom!==void 0&&(this._zoom=this._limitZoom(e.zoom)),e.center&&e.zoom!==void 0&&this.setView(j(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=Ei&&E.any3d&&!E.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),F(this._proxy,wa,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,o){if(e=e===void 0?this._zoom:this._limitZoom(e),t=this._limitCenter(j(t),e,this.options.maxBounds),o=o||{},this._stop(),this._loaded&&!o.reset&&o!==!0){o.animate!==void 0&&(o.zoom=i({animate:o.animate},o.zoom),o.pan=i({animate:o.animate,duration:o.duration},o.pan));var c=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,o.zoom):this._tryAnimatedPan(t,o.pan);if(c)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e,o.pan&&o.pan.noMoveStart),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(E.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(E.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,o){var c=this.getZoomScale(e),l=this.getSize().divideBy(2),d=t instanceof N?t:this.latLngToContainerPoint(t),p=d.subtract(l).multiplyBy(1-1/c),g=this.containerPointToLatLng(l.add(p));return this.setView(g,e,{zoom:o})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():rt(t);var o=D(e.paddingTopLeft||e.padding||[0,0]),c=D(e.paddingBottomRight||e.padding||[0,0]),l=this.getBoundsZoom(t,!1,o.add(c));if(l=typeof e.maxZoom=="number"?Math.min(e.maxZoom,l):l,l===1/0)return{center:t.getCenter(),zoom:l};var d=c.subtract(o).divideBy(2),p=this.project(t.getSouthWest(),l),g=this.project(t.getNorthEast(),l),_=this.unproject(p.add(g).divideBy(2).add(d),l);return{center:_,zoom:l}},fitBounds:function(t,e){if(t=rt(t),!t.isValid())throw new Error("Bounds are not valid.");var o=this._getBoundsCenterZoom(t,e);return this.setView(o.center,o.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){if(t=D(t).round(),e=e||{},!t.x&&!t.y)return this.fire("moveend");if(e.animate!==!0&&!this.getSize().contains(t))return this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Ma,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),e.animate!==!1){z(this._mapPane,"leaflet-pan-anim");var o=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,o,e.duration||.25,e.easeLinearity)}else this._rawPanBy(t),this.fire("move").fire("moveend");return this},flyTo:function(t,e,o){if(o=o||{},o.animate===!1||!E.any3d)return this.setView(t,e,o);this._stop();var c=this.project(this.getCenter()),l=this.project(t),d=this.getSize(),p=this._zoom;t=j(t),e=e===void 0?p:e;var g=Math.max(d.x,d.y),_=g*this.getZoomScale(p,e),y=l.distanceTo(c)||1,x=1.42,T=x*x;function B(st){var Zn=st?-1:1,ju=st?_:g,Uu=_*_-g*g+Zn*T*T*y*y,Zu=2*ju*T*y,go=Uu/Zu,cc=Math.sqrt(go*go+1)-go,$u=cc<1e-9?-18:Math.log(cc);return $u}function Ct(st){return(Math.exp(st)-Math.exp(-st))/2}function at(st){return(Math.exp(st)+Math.exp(-st))/2}function zt(st){return Ct(st)/at(st)}var Tt=B(0);function ii(st){return g*(at(Tt)/at(Tt+x*st))}function Fu(st){return g*(at(Tt)*zt(Tt+x*st)-Ct(Tt))/T}function Vu(st){return 1-Math.pow(1-st,1.5)}var zu=Date.now(),sc=(B(1)-Tt)/x,Bu=o.duration?1e3*o.duration:1e3*sc*.8;function ac(){var st=(Date.now()-zu)/Bu,Zn=Vu(st)*sc;st<=1?(this._flyToFrame=kt(ac,this),this._move(this.unproject(c.add(l.subtract(c).multiplyBy(Fu(Zn)/y)),p),this.getScaleZoom(g/ii(Zn),p),{flyTo:!0})):this._move(t,e)._moveEnd(!0)}return this._moveStart(!0,o.noMoveStart),ac.call(this),this},flyToBounds:function(t,e){var o=this._getBoundsCenterZoom(t,e);return this.flyTo(o.center,o.zoom,e)},setMaxBounds:function(t){return t=rt(t),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),t.isValid()?(this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var o=this.getCenter(),c=this._limitCenter(o,this._zoom,rt(t));return o.equals(c)||this.panTo(c,e),this._enforcingBounds=!1,this},panInside:function(t,e){e=e||{};var o=D(e.paddingTopLeft||e.padding||[0,0]),c=D(e.paddingBottomRight||e.padding||[0,0]),l=this.project(this.getCenter()),d=this.project(t),p=this.getPixelBounds(),g=It([p.min.add(o),p.max.subtract(c)]),_=g.getSize();if(!g.contains(d)){this._enforcingBounds=!0;var y=d.subtract(g.getCenter()),x=g.extend(d).getSize().subtract(_);l.x+=y.x<0?-x.x:x.x,l.y+=y.y<0?-x.y:x.y,this.panTo(this.unproject(l),e),this._enforcingBounds=!1}return this},invalidateSize:function(t){if(!this._loaded)return this;t=i({animate:!1,pan:!0},t===!0?{animate:!0}:t);var e=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var o=this.getSize(),c=e.divideBy(2).round(),l=o.divideBy(2).round(),d=c.subtract(l);return!d.x&&!d.y?this:(t.animate&&t.pan?this.panBy(d):(t.pan&&this._rawPanBy(d),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(a(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:o}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){if(t=this._locateOptions=i({timeout:1e4,watch:!1},t),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var e=a(this._handleGeolocationResponse,this),o=a(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,o,t):navigator.geolocation.getCurrentPosition(e,o,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){if(this._container._leaflet_id){var e=t.code,o=t.message||(e===1?"permission denied":e===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+o+"."})}},_handleGeolocationResponse:function(t){if(this._container._leaflet_id){var e=t.coords.latitude,o=t.coords.longitude,c=new Y(e,o),l=c.toBounds(t.coords.accuracy*2),d=this._locateOptions;if(d.setView){var p=this.getBoundsZoom(l);this.setView(c,d.maxZoom?Math.min(p,d.maxZoom):p)}var g={latlng:c,bounds:l,timestamp:t.timestamp};for(var _ in t.coords)typeof t.coords[_]=="number"&&(g[_]=t.coords[_]);this.fire("locationfound",g)}},addHandler:function(t,e){if(!e)return this;var o=this[t]=new e(this);return this._handlers.push(o),this.options[t]&&o.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),tt(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(Nt(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var t;for(t in this._layers)this._layers[t].remove();for(t in this._panes)tt(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){var o="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),c=H("div",o,e||this._mapPane);return t&&(this._panes[t]=c),c},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),o=this.unproject(t.getTopRight());return new Et(e,o)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,o){t=rt(t),o=D(o||[0,0]);var c=this.getZoom()||0,l=this.getMinZoom(),d=this.getMaxZoom(),p=t.getNorthWest(),g=t.getSouthEast(),_=this.getSize().subtract(o),y=It(this.project(g,c),this.project(p,c)).getSize(),x=E.any3d?this.options.zoomSnap:1,T=_.x/y.x,B=_.y/y.y,Ct=e?Math.max(T,B):Math.min(T,B);return c=this.getScaleZoom(Ct,c),x&&(c=Math.round(c/(x/100))*(x/100),c=e?Math.ceil(c/x)*x:Math.floor(c/x)*x),Math.max(l,Math.min(d,c))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new N(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){var o=this._getTopLeftPoint(t,e);return new Q(o,o.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===void 0?this.getZoom():t)},getPane:function(t){return typeof t=="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var o=this.options.crs;return e=e===void 0?this._zoom:e,o.scale(t)/o.scale(e)},getScaleZoom:function(t,e){var o=this.options.crs;e=e===void 0?this._zoom:e;var c=o.zoom(t*o.scale(e));return isNaN(c)?1/0:c},project:function(t,e){return e=e===void 0?this._zoom:e,this.options.crs.latLngToPoint(j(t),e)},unproject:function(t,e){return e=e===void 0?this._zoom:e,this.options.crs.pointToLatLng(D(t),e)},layerPointToLatLng:function(t){var e=D(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(j(t))._round();return e._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(j(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(rt(t))},distance:function(t,e){return this.options.crs.distance(j(t),j(e))},containerPointToLayerPoint:function(t){return D(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return D(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(D(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(j(t)))},mouseEventToContainerPoint:function(t){return Ea(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=xa(t);if(e){if(e._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");F(e,"scroll",this._onScroll,this),this._containerId=u(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&E.any3d,z(t,"leaflet-container"+(E.touch?" leaflet-touch":"")+(E.retina?" leaflet-retina":"")+(E.ielt9?" leaflet-oldie":"")+(E.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=Ti(t,"position");e!=="absolute"&&e!=="relative"&&e!=="fixed"&&e!=="sticky"&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),ot(this._mapPane,new N(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(z(t.markerPane,"leaflet-zoom-hide"),z(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e,o){ot(this._mapPane,new N(0,0));var c=!this._loaded;this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset");var l=this._zoom!==e;this._moveStart(l,o)._move(t,e)._moveEnd(l),this.fire("viewreset"),c&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,o,c){e===void 0&&(e=this._zoom);var l=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),c?o&&o.pinch&&this.fire("zoom",o):((l||o&&o.pinch)&&this.fire("zoom",o),this.fire("move",o)),this},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return Nt(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){ot(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={},this._targets[u(this._container)]=this;var e=t?J:F;e(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),E.any3d&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){Nt(this._resizeRequest),this._resizeRequest=kt(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var o=[],c,l=e==="mouseout"||e==="mouseover",d=t.target||t.srcElement,p=!1;d;){if(c=this._targets[u(d)],c&&(e==="click"||e==="preclick")&&this._draggableMoved(c)){p=!0;break}if(c&&c.listens(e,!0)&&(l&&!ro(d,t)||(o.push(c),l))||d===this._container)break;d=d.parentNode}return!o.length&&!p&&!l&&this.listens(e,!0)&&(o=[this]),o},_isClickDisabled:function(t){for(;t&&t!==this._container;){if(t._leaflet_disable_click)return!0;t=t.parentNode}},_handleDOMEvent:function(t){var e=t.target||t.srcElement;if(!(!this._loaded||e._leaflet_disable_events||t.type==="click"&&this._isClickDisabled(e))){var o=t.type;o==="mousedown"&&Jr(e),this._fireDOMEvent(t,o)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,o){if(t.type==="click"){var c=i({},t);c.type="preclick",this._fireDOMEvent(c,c.type,o)}var l=this._findEventTargets(t,e);if(o){for(var d=[],p=0;p<o.length;p++)o[p].listens(e,!0)&&d.push(o[p]);l=d.concat(l)}if(l.length){e==="contextmenu"&&mt(t);var g=l[0],_={originalEvent:t};if(t.type!=="keypress"&&t.type!=="keydown"&&t.type!=="keyup"){var y=g.getLatLng&&(!g._radius||g._radius<=10);_.containerPoint=y?this.latLngToContainerPoint(g.getLatLng()):this.mouseEventToContainerPoint(t),_.layerPoint=this.containerPointToLayerPoint(_.containerPoint),_.latlng=y?g.getLatLng():this.layerPointToLatLng(_.layerPoint)}for(p=0;p<l.length;p++)if(l[p].fire(e,_,!0),_.originalEvent._stopped||l[p].options.bubblingMouseEvents===!1&&yt(this._mouseEvents,e)!==-1)return}},_draggableMoved:function(t){return t=t.dragging&&t.dragging.enabled()?t:this,t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return Se(this._mapPane)||new N(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){var o=t&&e!==void 0?this._getNewPixelOrigin(t,e):this.getPixelOrigin();return o.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var o=this.getSize()._divideBy(2);return this.project(t,e)._subtract(o)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,o){var c=this._getNewPixelOrigin(o,e);return this.project(t,e)._subtract(c)},_latLngBoundsToNewLayerBounds:function(t,e,o){var c=this._getNewPixelOrigin(o,e);return It([this.project(t.getSouthWest(),e)._subtract(c),this.project(t.getNorthWest(),e)._subtract(c),this.project(t.getSouthEast(),e)._subtract(c),this.project(t.getNorthEast(),e)._subtract(c)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,o){if(!o)return t;var c=this.project(t,e),l=this.getSize().divideBy(2),d=new Q(c.subtract(l),c.add(l)),p=this._getBoundsOffset(d,o,e);return Math.abs(p.x)<=1&&Math.abs(p.y)<=1?t:this.unproject(c.add(p),e)},_limitOffset:function(t,e){if(!e)return t;var o=this.getPixelBounds(),c=new Q(o.min.add(t),o.max.add(t));return t.add(this._getBoundsOffset(c,e))},_getBoundsOffset:function(t,e,o){var c=It(this.project(e.getNorthEast(),o),this.project(e.getSouthWest(),o)),l=c.min.subtract(t.min),d=c.max.subtract(t.max),p=this._rebound(l.x,-d.x),g=this._rebound(l.y,-d.y);return new N(p,g)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),o=this.getMaxZoom(),c=E.any3d?this.options.zoomSnap:1;return c&&(t=Math.round(t/c)*c),Math.max(e,Math.min(o,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){nt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){var o=this._getCenterOffset(t)._trunc();return(e&&e.animate)!==!0&&!this.getSize().contains(o)?!1:(this.panBy(o,e),!0)},_createAnimProxy:function(){var t=this._proxy=H("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(e){var o=Hr,c=this._proxy.style[o];De(this._proxy,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1)),c===this._proxy.style[o]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){tt(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();De(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&t.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,o){if(this._animatingZoom)return!0;if(o=o||{},!this._zoomAnimated||o.animate===!1||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold)return!1;var c=this.getZoomScale(e),l=this._getCenterOffset(t)._divideBy(1-1/c);return o.animate!==!0&&!this.getSize().contains(l)?!1:(kt(function(){this._moveStart(!0,o.noMoveStart||!1)._animateZoom(t,e,!0)},this),!0)},_animateZoom:function(t,e,o,c){this._mapPane&&(o&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,z(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:c}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(a(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&nt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function tu(t,e){return new U(t,e)}var Gt=se.extend({options:{position:"topright"},initialize:function(t){I(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),o=this.getPosition(),c=t._controlCorners[o];return z(e,"leaflet-control"),o.indexOf("bottom")!==-1?c.insertBefore(e,c.firstChild):c.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(tt(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(t){this._map&&t&&t.screenX>0&&t.screenY>0&&this._map.getContainer().focus()}}),Pi=function(t){return new Gt(t)};U.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",o=this._controlContainer=H("div",e+"control-container",this._container);function c(l,d){var p=e+l+" "+e+d;t[l+d]=H("div",p,o)}c("top","left"),c("top","right"),c("bottom","left"),c("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)tt(this._controlCorners[t]);tt(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Aa=Gt.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,o,c){return o<c?-1:c<o?1:0}},initialize:function(t,e,o){I(this,o),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var c in t)this._addLayer(t[c],c);for(c in e)this._addLayer(e[c],c,!0)},onAdd:function(t){this._initLayout(),this._update(),this._map=t,t.on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return Gt.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(u(t));return e&&this._layers.splice(this._layers.indexOf(e),1),this._map?this._update():this},expand:function(){z(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(z(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):nt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return nt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=H("div",t),o=this.options.collapsed;e.setAttribute("aria-haspopup",!0),Si(e),no(e);var c=this._section=H("section",t+"-list");o&&(this._map.on("click",this.collapse,this),F(e,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var l=this._layersLink=H("a",t+"-toggle",e);l.href="#",l.title="Layers",l.setAttribute("role","button"),F(l,{keydown:function(d){d.keyCode===13&&this._expandSafely()},click:function(d){mt(d),this._expandSafely()}},this),o||this.expand(),this._baseLayersList=H("div",t+"-base",c),this._separator=H("div",t+"-separator",c),this._overlaysList=H("div",t+"-overlays",c),e.appendChild(c)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&u(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,o){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:o}),this.options.sortLayers&&this._layers.sort(a(function(c,l){return this.options.sortFunction(c.layer,l.layer,c.name,l.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Tn(this._baseLayersList),Tn(this._overlaysList),this._layerControlInputs=[];var t,e,o,c,l=0;for(o=0;o<this._layers.length;o++)c=this._layers[o],this._addItem(c),e=e||c.overlay,t=t||!c.overlay,l+=c.overlay?0:1;return this.options.hideSingleBase&&(t=t&&l>1,this._baseLayersList.style.display=t?"":"none"),this._separator.style.display=e&&t?"":"none",this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(u(t.target)),o=e.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;o&&this._map.fire(o,e)},_createRadioElement:function(t,e){var o='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",c=document.createElement("div");return c.innerHTML=o,c.firstChild},_addItem:function(t){var e=document.createElement("label"),o=this._map.hasLayer(t.layer),c;t.overlay?(c=document.createElement("input"),c.type="checkbox",c.className="leaflet-control-layers-selector",c.defaultChecked=o):c=this._createRadioElement("leaflet-base-layers_"+u(this),o),this._layerControlInputs.push(c),c.layerId=u(t.layer),F(c,"click",this._onInputClick,this);var l=document.createElement("span");l.innerHTML=" "+t.name;var d=document.createElement("span");e.appendChild(d),d.appendChild(c),d.appendChild(l);var p=t.overlay?this._overlaysList:this._baseLayersList;return p.appendChild(e),this._checkDisabledLayers(),e},_onInputClick:function(){if(!this._preventClick){var t=this._layerControlInputs,e,o,c=[],l=[];this._handlingClick=!0;for(var d=t.length-1;d>=0;d--)e=t[d],o=this._getLayer(e.layerId).layer,e.checked?c.push(o):e.checked||l.push(o);for(d=0;d<l.length;d++)this._map.hasLayer(l[d])&&this._map.removeLayer(l[d]);for(d=0;d<c.length;d++)this._map.hasLayer(c[d])||this._map.addLayer(c[d]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var t=this._layerControlInputs,e,o,c=this._map.getZoom(),l=t.length-1;l>=0;l--)e=t[l],o=this._getLayer(e.layerId).layer,e.disabled=o.options.minZoom!==void 0&&c<o.options.minZoom||o.options.maxZoom!==void 0&&c>o.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var t=this._section;this._preventClick=!0,F(t,"click",mt),this.expand();var e=this;setTimeout(function(){J(t,"click",mt),e._preventClick=!1})}}),eu=function(t,e,o){return new Aa(t,e,o)},oo=Gt.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",o=H("div",e+" leaflet-bar"),c=this.options;return this._zoomInButton=this._createButton(c.zoomInText,c.zoomInTitle,e+"-in",o,this._zoomIn),this._zoomOutButton=this._createButton(c.zoomOutText,c.zoomOutTitle,e+"-out",o,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),o},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,o,c,l){var d=H("a",o,c);return d.innerHTML=t,d.href="#",d.title=e,d.setAttribute("role","button"),d.setAttribute("aria-label",e),Si(d),F(d,"click",Re),F(d,"click",l,this),F(d,"click",this._refocusOnMap,this),d},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";nt(this._zoomInButton,e),nt(this._zoomOutButton,e),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||t._zoom===t.getMinZoom())&&(z(this._zoomOutButton,e),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||t._zoom===t.getMaxZoom())&&(z(this._zoomInButton,e),this._zoomInButton.setAttribute("aria-disabled","true"))}});U.mergeOptions({zoomControl:!0}),U.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new oo,this.addControl(this.zoomControl))});var iu=function(t){return new oo(t)},Da=Gt.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",o=H("div",e),c=this.options;return this._addScales(c,e+"-line",o),t.on(c.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),o},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,o){t.metric&&(this._mScale=H("div",e,o)),t.imperial&&(this._iScale=H("div",e,o))},_update:function(){var t=this._map,e=t.getSize().y/2,o=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(o)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t),o=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,o,e/t)},_updateImperial:function(t){var e=t*3.2808399,o,c,l;e>5280?(o=e/5280,c=this._getRoundNum(o),this._updateScale(this._iScale,c+" mi",c/o)):(l=this._getRoundNum(e),this._updateScale(this._iScale,l+" ft",l/e))},_updateScale:function(t,e,o){t.style.width=Math.round(this.options.maxWidth*o)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),o=t/e;return o=o>=10?10:o>=5?5:o>=3?3:o>=2?2:1,e*o}}),nu=function(t){return new Da(t)},ru='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',so=Gt.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(E.inlineSvg?ru+" ":"")+"Leaflet</a>"},initialize:function(t){I(this,t),this._attributions={}},onAdd:function(t){t.attributionControl=this,this._container=H("div","leaflet-control-attribution"),Si(this._container);for(var e in t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),t.on("layeradd",this._addAttribution,this),this._container},onRemove:function(t){t.off("layeradd",this._addAttribution,this)},_addAttribution:function(t){t.layer.getAttribution&&(this.addAttribution(t.layer.getAttribution()),t.layer.once("remove",function(){this.removeAttribution(t.layer.getAttribution())},this))},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):this},removeAttribution:function(t){return t?(this._attributions[t]&&(this._attributions[t]--,this._update()),this):this},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions[e]&&t.push(e);var o=[];this.options.prefix&&o.push(this.options.prefix),t.length&&o.push(t.join(", ")),this._container.innerHTML=o.join(' <span aria-hidden="true">|</span> ')}}});U.mergeOptions({attributionControl:!0}),U.addInitHook(function(){this.options.attributionControl&&new so().addTo(this)});var ou=function(t){return new so(t)};Gt.Layers=Aa,Gt.Zoom=oo,Gt.Scale=Da,Gt.Attribution=so,Pi.layers=eu,Pi.zoom=iu,Pi.scale=nu,Pi.attribution=ou;var ee=se.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});ee.addTo=function(t,e){return t.addHandler(e,this),this};var su={Events:At},Sa=E.touch?"touchstart mousedown":"mousedown",be=Ci.extend({options:{clickTolerance:3},initialize:function(t,e,o,c){I(this,c),this._element=t,this._dragStartTarget=e||t,this._preventOutline=o},enable:function(){this._enabled||(F(this._dragStartTarget,Sa,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(be._dragging===this&&this.finishDrag(!0),J(this._dragStartTarget,Sa,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(this._enabled&&(this._moved=!1,!Gr(this._element,"leaflet-zoom-anim"))){if(t.touches&&t.touches.length!==1){be._dragging===this&&this.finishDrag();return}if(!(be._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches)&&(be._dragging=this,this._preventOutline&&Jr(this._element),Kr(),Mi(),!this._moving)){this.fire("down");var e=t.touches?t.touches[0]:t,o=Ca(this._element);this._startPoint=new N(e.clientX,e.clientY),this._startPos=Se(this._element),this._parentScale=Qr(o);var c=t.type==="mousedown";F(document,c?"mousemove":"touchmove",this._onMove,this),F(document,c?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(t){if(this._enabled){if(t.touches&&t.touches.length>1){this._moved=!0;return}var e=t.touches&&t.touches.length===1?t.touches[0]:t,o=new N(e.clientX,e.clientY)._subtract(this._startPoint);!o.x&&!o.y||Math.abs(o.x)+Math.abs(o.y)<this.options.clickTolerance||(o.x/=this._parentScale.x,o.y/=this._parentScale.y,mt(t),this._moved||(this.fire("dragstart"),this._moved=!0,z(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),z(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(o),this._moving=!0,this._lastEvent=t,this._updatePosition())}},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),ot(this._element,this._newPos),this.fire("drag",t)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(t){nt(document.body,"leaflet-dragging"),this._lastTarget&&(nt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),J(document,"mousemove touchmove",this._onMove,this),J(document,"mouseup touchend touchcancel",this._onUp,this),Yr(),Ai();var e=this._moved&&this._moving;this._moving=!1,be._dragging=!1,e&&this.fire("dragend",{noInertia:t,distance:this._newPos.distanceTo(this._startPos)})}});function Pa(t,e,o){var c,l=[1,4,2,8],d,p,g,_,y,x,T,B;for(d=0,x=t.length;d<x;d++)t[d]._code=Oe(t[d],e);for(g=0;g<4;g++){for(T=l[g],c=[],d=0,x=t.length,p=x-1;d<x;p=d++)_=t[d],y=t[p],_._code&T?y._code&T||(B=Pn(y,_,T,e,o),B._code=Oe(B,e),c.push(B)):(y._code&T&&(B=Pn(y,_,T,e,o),B._code=Oe(B,e),c.push(B)),c.push(_));t=c}return t}function Ra(t,e){var o,c,l,d,p,g,_,y,x;if(!t||t.length===0)throw new Error("latlngs not passed");Vt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var T=j([0,0]),B=rt(t),Ct=B.getNorthWest().distanceTo(B.getSouthWest())*B.getNorthEast().distanceTo(B.getNorthWest());Ct<1700&&(T=ao(t));var at=t.length,zt=[];for(o=0;o<at;o++){var Tt=j(t[o]);zt.push(e.project(j([Tt.lat-T.lat,Tt.lng-T.lng])))}for(g=_=y=0,o=0,c=at-1;o<at;c=o++)l=zt[o],d=zt[c],p=l.y*d.x-d.y*l.x,_+=(l.x+d.x)*p,y+=(l.y+d.y)*p,g+=p*3;g===0?x=zt[0]:x=[_/g,y/g];var ii=e.unproject(D(x));return j([ii.lat+T.lat,ii.lng+T.lng])}function ao(t){for(var e=0,o=0,c=0,l=0;l<t.length;l++){var d=j(t[l]);e+=d.lat,o+=d.lng,c++}return j([e/c,o/c])}var au={__proto__:null,clipPolygon:Pa,polygonCenter:Ra,centroid:ao};function Oa(t,e){if(!e||!t.length)return t.slice();var o=e*e;return t=hu(t,o),t=lu(t,o),t}function La(t,e,o){return Math.sqrt(Ri(t,e,o,!0))}function cu(t,e,o){return Ri(t,e,o)}function lu(t,e){var o=t.length,c=typeof Uint8Array<"u"?Uint8Array:Array,l=new c(o);l[0]=l[o-1]=1,co(t,l,e,0,o-1);var d,p=[];for(d=0;d<o;d++)l[d]&&p.push(t[d]);return p}function co(t,e,o,c,l){var d=0,p,g,_;for(g=c+1;g<=l-1;g++)_=Ri(t[g],t[c],t[l],!0),_>d&&(p=g,d=_);d>o&&(e[p]=1,co(t,e,o,c,p),co(t,e,o,p,l))}function hu(t,e){for(var o=[t[0]],c=1,l=0,d=t.length;c<d;c++)uu(t[c],t[l])>e&&(o.push(t[c]),l=c);return l<d-1&&o.push(t[d-1]),o}var Na;function Fa(t,e,o,c,l){var d=c?Na:Oe(t,o),p=Oe(e,o),g,_,y;for(Na=p;;){if(!(d|p))return[t,e];if(d&p)return!1;g=d||p,_=Pn(t,e,g,o,l),y=Oe(_,o),g===d?(t=_,d=y):(e=_,p=y)}}function Pn(t,e,o,c,l){var d=e.x-t.x,p=e.y-t.y,g=c.min,_=c.max,y,x;return o&8?(y=t.x+d*(_.y-t.y)/p,x=_.y):o&4?(y=t.x+d*(g.y-t.y)/p,x=g.y):o&2?(y=_.x,x=t.y+p*(_.x-t.x)/d):o&1&&(y=g.x,x=t.y+p*(g.x-t.x)/d),new N(y,x,l)}function Oe(t,e){var o=0;return t.x<e.min.x?o|=1:t.x>e.max.x&&(o|=2),t.y<e.min.y?o|=4:t.y>e.max.y&&(o|=8),o}function uu(t,e){var o=e.x-t.x,c=e.y-t.y;return o*o+c*c}function Ri(t,e,o,c){var l=e.x,d=e.y,p=o.x-l,g=o.y-d,_=p*p+g*g,y;return _>0&&(y=((t.x-l)*p+(t.y-d)*g)/_,y>1?(l=o.x,d=o.y):y>0&&(l+=p*y,d+=g*y)),p=t.x-l,g=t.y-d,c?p*p+g*g:new N(l,d)}function Vt(t){return!q(t[0])||typeof t[0][0]!="object"&&typeof t[0][0]<"u"}function Va(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Vt(t)}function za(t,e){var o,c,l,d,p,g,_,y;if(!t||t.length===0)throw new Error("latlngs not passed");Vt(t)||(console.warn("latlngs are not flat! Only the first ring will be used"),t=t[0]);var x=j([0,0]),T=rt(t),B=T.getNorthWest().distanceTo(T.getSouthWest())*T.getNorthEast().distanceTo(T.getNorthWest());B<1700&&(x=ao(t));var Ct=t.length,at=[];for(o=0;o<Ct;o++){var zt=j(t[o]);at.push(e.project(j([zt.lat-x.lat,zt.lng-x.lng])))}for(o=0,c=0;o<Ct-1;o++)c+=at[o].distanceTo(at[o+1])/2;if(c===0)y=at[0];else for(o=0,d=0;o<Ct-1;o++)if(p=at[o],g=at[o+1],l=p.distanceTo(g),d+=l,d>c){_=(d-c)/l,y=[g.x-_*(g.x-p.x),g.y-_*(g.y-p.y)];break}var Tt=e.unproject(D(y));return j([Tt.lat+x.lat,Tt.lng+x.lng])}var du={__proto__:null,simplify:Oa,pointToSegmentDistance:La,closestPointOnSegment:cu,clipSegment:Fa,_getEdgeIntersection:Pn,_getBitCode:Oe,_sqClosestPointOnSegment:Ri,isFlat:Vt,_flat:Va,polylineCenter:za},lo={project:function(t){return new N(t.lng,t.lat)},unproject:function(t){return new Y(t.y,t.x)},bounds:new Q([-180,-90],[180,90])},ho={R:6378137,R_MINOR:6356752314245179e-9,bounds:new Q([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(t){var e=Math.PI/180,o=this.R,c=t.lat*e,l=this.R_MINOR/o,d=Math.sqrt(1-l*l),p=d*Math.sin(c),g=Math.tan(Math.PI/4-c/2)/Math.pow((1-p)/(1+p),d/2);return c=-o*Math.log(Math.max(g,1e-10)),new N(t.lng*e*o,c)},unproject:function(t){for(var e=180/Math.PI,o=this.R,c=this.R_MINOR/o,l=Math.sqrt(1-c*c),d=Math.exp(-t.y/o),p=Math.PI/2-2*Math.atan(d),g=0,_=.1,y;g<15&&Math.abs(_)>1e-7;g++)y=l*Math.sin(p),y=Math.pow((1-y)/(1+y),l/2),_=Math.PI/2-2*Math.atan(d*y)-p,p+=_;return new Y(p*e,t.x*e/o)}},fu={__proto__:null,LonLat:lo,Mercator:ho,SphericalMercator:Nr},pu=i({},ye,{code:"EPSG:3395",projection:ho,transformation:function(){var t=.5/(Math.PI*ho.R);return ki(t,.5,-t,.5)}()}),Ba=i({},ye,{code:"EPSG:4326",projection:lo,transformation:ki(1/180,1,-1/180,.5)}),mu=i({},ae,{projection:lo,transformation:ki(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var o=e.lng-t.lng,c=e.lat-t.lat;return Math.sqrt(o*o+c*c)},infinite:!0});ae.Earth=ye,ae.EPSG3395=pu,ae.EPSG3857=Vr,ae.EPSG900913=wh,ae.EPSG4326=Ba,ae.Simple=mu;var Wt=Ci.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[u(t)]=this,this},removeInteractiveTarget:function(t){return delete this._map._targets[u(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(e.hasLayer(this)){if(this._map=e,this._zoomAnimated=e._zoomAnimated,this.getEvents){var o=this.getEvents();e.on(o,this),this.once("remove",function(){e.off(o,this)},this)}this.onAdd(e),this.fire("add"),e.fire("layeradd",{layer:this})}}});U.include({addLayer:function(t){if(!t._layerAdd)throw new Error("The provided object is not a Layer.");var e=u(t);return this._layers[e]?this:(this._layers[e]=t,t._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t),this)},removeLayer:function(t){var e=u(t);return this._layers[e]?(this._loaded&&t.onRemove(this),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null,this):this},hasLayer:function(t){return u(t)in this._layers},eachLayer:function(t,e){for(var o in this._layers)t.call(e,this._layers[o]);return this},_addLayers:function(t){t=t?q(t)?t:[t]:[];for(var e=0,o=t.length;e<o;e++)this.addLayer(t[e])},_addZoomLimit:function(t){(!isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom))&&(this._zoomBoundLayers[u(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){var e=u(t);this._zoomBoundLayers[e]&&(delete this._zoomBoundLayers[e],this._updateZoomLevels())},_updateZoomLevels:function(){var t=1/0,e=-1/0,o=this._getZoomSpan();for(var c in this._zoomBoundLayers){var l=this._zoomBoundLayers[c].options;t=l.minZoom===void 0?t:Math.min(t,l.minZoom),e=l.maxZoom===void 0?e:Math.max(e,l.maxZoom)}this._layersMaxZoom=e===-1/0?void 0:e,this._layersMinZoom=t===1/0?void 0:t,o!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Xe=Wt.extend({initialize:function(t,e){I(this,e),this._layers={};var o,c;if(t)for(o=0,c=t.length;o<c;o++)this.addLayer(t[o])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[e]&&this._map.removeLayer(this._layers[e]),delete this._layers[e],this},hasLayer:function(t){var e=typeof t=="number"?t:this.getLayerId(t);return e in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e=Array.prototype.slice.call(arguments,1),o,c;for(o in this._layers)c=this._layers[o],c[t]&&c[t].apply(c,e);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var o in this._layers)t.call(e,this._layers[o]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return u(t)}}),gu=function(t,e){return new Xe(t,e)},ce=Xe.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),Xe.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?(t in this._layers&&(t=this._layers[t]),t.removeEventParent(this),Xe.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new Et;for(var e in this._layers){var o=this._layers[e];t.extend(o.getBounds?o.getBounds():o.getLatLng())}return t}}),_u=function(t,e){return new ce(t,e)},Je=se.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(t){I(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var o=this._getIconUrl(t);if(!o){if(t==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var c=this._createImg(o,e&&e.tagName==="IMG"?e:null);return this._setIconStyles(c,t),(this.options.crossOrigin||this.options.crossOrigin==="")&&(c.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),c},_setIconStyles:function(t,e){var o=this.options,c=o[e+"Size"];typeof c=="number"&&(c=[c,c]);var l=D(c),d=D(e==="shadow"&&o.shadowAnchor||o.iconAnchor||l&&l.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(o.className||""),d&&(t.style.marginLeft=-d.x+"px",t.style.marginTop=-d.y+"px"),l&&(t.style.width=l.x+"px",t.style.height=l.y+"px")},_createImg:function(t,e){return e=e||document.createElement("img"),e.src=t,e},_getIconUrl:function(t){return E.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});function vu(t){return new Je(t)}var Oi=Je.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return typeof Oi.imagePath!="string"&&(Oi.imagePath=this._detectIconPath()),(this.options.imagePath||Oi.imagePath)+Je.prototype._getIconUrl.call(this,t)},_stripUrl:function(t){var e=function(o,c,l){var d=c.exec(o);return d&&d[l]};return t=e(t,/^url\((['"])?(.+)\1\)$/,2),t&&e(t,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var t=H("div","leaflet-default-icon-path",document.body),e=Ti(t,"background-image")||Ti(t,"backgroundImage");if(document.body.removeChild(t),e=this._stripUrl(e),e)return e;var o=document.querySelector('link[href$="leaflet.css"]');return o?o.href.substring(0,o.href.length-11-1):""}}),ja=ee.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new be(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),z(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&nt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,o=e._map,c=this._marker.options.autoPanSpeed,l=this._marker.options.autoPanPadding,d=Se(e._icon),p=o.getPixelBounds(),g=o.getPixelOrigin(),_=It(p.min._subtract(g).add(l),p.max._subtract(g).subtract(l));if(!_.contains(d)){var y=D((Math.max(_.max.x,d.x)-_.max.x)/(p.max.x-_.max.x)-(Math.min(_.min.x,d.x)-_.min.x)/(p.min.x-_.min.x),(Math.max(_.max.y,d.y)-_.max.y)/(p.max.y-_.max.y)-(Math.min(_.min.y,d.y)-_.min.y)/(p.min.y-_.min.y)).multiplyBy(c);o.panBy(y,{animate:!1}),this._draggable._newPos._add(y),this._draggable._startPos._add(y),ot(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=kt(this._adjustPan.bind(this,t))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(Nt(this._panRequest),this._panRequest=kt(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,o=e._shadow,c=Se(e._icon),l=e._map.layerPointToLatLng(c);o&&ot(o,c),e._latlng=l,t.latlng=l,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){Nt(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),Rn=Wt.extend({options:{icon:new Oi,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){I(this,e),this._latlng=j(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=j(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),o=t.icon.createIcon(this._icon),c=!1;o!==this._icon&&(this._icon&&this._removeIcon(),c=!0,t.title&&(o.title=t.title),o.tagName==="IMG"&&(o.alt=t.alt||"")),z(o,e),t.keyboard&&(o.tabIndex="0",o.setAttribute("role","button")),this._icon=o,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&F(o,"focus",this._panOnFocus,this);var l=t.icon.createShadow(this._shadow),d=!1;l!==this._shadow&&(this._removeShadow(),d=!0),l&&(z(l,e),l.alt=""),this._shadow=l,t.opacity<1&&this._updateOpacity(),c&&this.getPane().appendChild(this._icon),this._initInteraction(),l&&d&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&J(this._icon,"focus",this._panOnFocus,this),tt(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&tt(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&ot(this._icon,t),this._shadow&&ot(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(this.options.interactive&&(z(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),ja)){var t=this.options.draggable;this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new ja(this),t&&this.dragging.enable()}},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&Ft(this._icon,t),this._shadow&&Ft(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var t=this._map;if(t){var e=this.options.icon.options,o=e.iconSize?D(e.iconSize):D(0,0),c=e.iconAnchor?D(e.iconAnchor):D(0,0);t.panInside(this._latlng,{paddingTopLeft:c,paddingBottomRight:o.subtract(c)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function yu(t,e){return new Rn(t,e)}var we=Wt.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return I(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),On=we.extend({options:{fill:!0,radius:10},initialize:function(t,e){I(this,e),this._latlng=j(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=j(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return we.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,o=this._clickTolerance(),c=[t+o,e+o];this._pxBounds=new Q(this._point.subtract(c),this._point.add(c))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function bu(t,e){return new On(t,e)}var uo=On.extend({initialize:function(t,e,o){if(typeof e=="number"&&(e=i({},o,{radius:e})),I(this,e),this._latlng=j(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new Et(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:we.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,o=this._map,c=o.options.crs;if(c.distance===ye.distance){var l=Math.PI/180,d=this._mRadius/ye.R/l,p=o.project([e+d,t]),g=o.project([e-d,t]),_=p.add(g).divideBy(2),y=o.unproject(_).lat,x=Math.acos((Math.cos(d*l)-Math.sin(e*l)*Math.sin(y*l))/(Math.cos(e*l)*Math.cos(y*l)))/l;(isNaN(x)||x===0)&&(x=d/Math.cos(Math.PI/180*e)),this._point=_.subtract(o.getPixelOrigin()),this._radius=isNaN(x)?0:_.x-o.project([y,t-x]).x,this._radiusY=_.y-p.y}else{var T=c.unproject(c.project(this._latlng).subtract([this._mRadius,0]));this._point=o.latLngToLayerPoint(this._latlng),this._radius=this._point.x-o.latLngToLayerPoint(T).x}this._updateBounds()}});function wu(t,e,o){return new uo(t,e,o)}var le=we.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){I(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e=1/0,o=null,c=Ri,l,d,p=0,g=this._parts.length;p<g;p++)for(var _=this._parts[p],y=1,x=_.length;y<x;y++){l=_[y-1],d=_[y];var T=c(t,l,d,!0);T<e&&(e=T,o=c(t,l,d))}return o&&(o.distance=Math.sqrt(e)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return za(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=j(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new Et,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return Vt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],o=Vt(t),c=0,l=t.length;c<l;c++)o?(e[c]=j(t[c]),this._bounds.extend(e[c])):e[c]=this._convertLatLngs(t[c]);return e},_project:function(){var t=new Q;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),e=new N(t,t);this._rawPxBounds&&(this._pxBounds=new Q([this._rawPxBounds.min.subtract(e),this._rawPxBounds.max.add(e)]))},_projectLatlngs:function(t,e,o){var c=t[0]instanceof Y,l=t.length,d,p;if(c){for(p=[],d=0;d<l;d++)p[d]=this._map.latLngToLayerPoint(t[d]),o.extend(p[d]);e.push(p)}else for(d=0;d<l;d++)this._projectLatlngs(t[d],e,o)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}var e=this._parts,o,c,l,d,p,g,_;for(o=0,l=0,d=this._rings.length;o<d;o++)for(_=this._rings[o],c=0,p=_.length;c<p-1;c++)g=Fa(_[c],_[c+1],t,c,!0),g&&(e[l]=e[l]||[],e[l].push(g[0]),(g[1]!==_[c+1]||c===p-2)&&(e[l].push(g[1]),l++))}},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,o=0,c=t.length;o<c;o++)t[o]=Oa(t[o],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var o,c,l,d,p,g,_=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(o=0,d=this._parts.length;o<d;o++)for(g=this._parts[o],c=0,p=g.length,l=p-1;c<p;l=c++)if(!(!e&&c===0)&&La(t,g[l],g[c])<=_)return!0;return!1}});function xu(t,e){return new le(t,e)}le._flat=Va;var Qe=le.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return Ra(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(t){var e=le.prototype._convertLatLngs.call(this,t),o=e.length;return o>=2&&e[0]instanceof Y&&e[0].equals(e[o-1])&&e.pop(),e},_setLatLngs:function(t){le.prototype._setLatLngs.call(this,t),Vt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Vt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,o=new N(e,e);if(t=new Q(t.min.subtract(o),t.max.add(o)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(t))){if(this.options.noClip){this._parts=this._rings;return}for(var c=0,l=this._rings.length,d;c<l;c++)d=Pa(this._rings[c],t,!0),d.length&&this._parts.push(d)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e=!1,o,c,l,d,p,g,_,y;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(d=0,_=this._parts.length;d<_;d++)for(o=this._parts[d],p=0,y=o.length,g=y-1;p<y;g=p++)c=o[p],l=o[g],c.y>t.y!=l.y>t.y&&t.x<(l.x-c.x)*(t.y-c.y)/(l.y-c.y)+c.x&&(e=!e);return e||le.prototype._containsPoint.call(this,t,!0)}});function Cu(t,e){return new Qe(t,e)}var he=ce.extend({initialize:function(t,e){I(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e=q(t)?t:t.features,o,c,l;if(e){for(o=0,c=e.length;o<c;o++)l=e[o],(l.geometries||l.geometry||l.features||l.coordinates)&&this.addData(l);return this}var d=this.options;if(d.filter&&!d.filter(t))return this;var p=Ln(t,d);return p?(p.feature=Vn(t),p.defaultOptions=p.options,this.resetStyle(p),d.onEachFeature&&d.onEachFeature(t,p),this.addLayer(p)):this},resetStyle:function(t){return t===void 0?this.eachLayer(this.resetStyle,this):(t.options=i({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){t.setStyle&&(typeof e=="function"&&(e=e(t.feature)),t.setStyle(e))}});function Ln(t,e){var o=t.type==="Feature"?t.geometry:t,c=o?o.coordinates:null,l=[],d=e&&e.pointToLayer,p=e&&e.coordsToLatLng||fo,g,_,y,x;if(!c&&!o)return null;switch(o.type){case"Point":return g=p(c),Ua(d,t,g,e);case"MultiPoint":for(y=0,x=c.length;y<x;y++)g=p(c[y]),l.push(Ua(d,t,g,e));return new ce(l);case"LineString":case"MultiLineString":return _=Nn(c,o.type==="LineString"?0:1,p),new le(_,e);case"Polygon":case"MultiPolygon":return _=Nn(c,o.type==="Polygon"?1:2,p),new Qe(_,e);case"GeometryCollection":for(y=0,x=o.geometries.length;y<x;y++){var T=Ln({geometry:o.geometries[y],type:"Feature",properties:t.properties},e);T&&l.push(T)}return new ce(l);case"FeatureCollection":for(y=0,x=o.features.length;y<x;y++){var B=Ln(o.features[y],e);B&&l.push(B)}return new ce(l);default:throw new Error("Invalid GeoJSON object.")}}function Ua(t,e,o,c){return t?t(e,o):new Rn(o,c&&c.markersInheritOptions&&c)}function fo(t){return new Y(t[1],t[0],t[2])}function Nn(t,e,o){for(var c=[],l=0,d=t.length,p;l<d;l++)p=e?Nn(t[l],e-1,o):(o||fo)(t[l]),c.push(p);return c}function po(t,e){return t=j(t),t.alt!==void 0?[b(t.lng,e),b(t.lat,e),b(t.alt,e)]:[b(t.lng,e),b(t.lat,e)]}function Fn(t,e,o,c){for(var l=[],d=0,p=t.length;d<p;d++)l.push(e?Fn(t[d],Vt(t[d])?0:e-1,o,c):po(t[d],c));return!e&&o&&l.length>0&&l.push(l[0].slice()),l}function ti(t,e){return t.feature?i({},t.feature,{geometry:e}):Vn(e)}function Vn(t){return t.type==="Feature"||t.type==="FeatureCollection"?t:{type:"Feature",properties:{},geometry:t}}var mo={toGeoJSON:function(t){return ti(this,{type:"Point",coordinates:po(this.getLatLng(),t)})}};Rn.include(mo),uo.include(mo),On.include(mo),le.include({toGeoJSON:function(t){var e=!Vt(this._latlngs),o=Fn(this._latlngs,e?1:0,!1,t);return ti(this,{type:(e?"Multi":"")+"LineString",coordinates:o})}}),Qe.include({toGeoJSON:function(t){var e=!Vt(this._latlngs),o=e&&!Vt(this._latlngs[0]),c=Fn(this._latlngs,o?2:e?1:0,!0,t);return e||(c=[c]),ti(this,{type:(o?"Multi":"")+"Polygon",coordinates:c})}}),Xe.include({toMultiPoint:function(t){var e=[];return this.eachLayer(function(o){e.push(o.toGeoJSON(t).geometry.coordinates)}),ti(this,{type:"MultiPoint",coordinates:e})},toGeoJSON:function(t){var e=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(e==="MultiPoint")return this.toMultiPoint(t);var o=e==="GeometryCollection",c=[];return this.eachLayer(function(l){if(l.toGeoJSON){var d=l.toGeoJSON(t);if(o)c.push(d.geometry);else{var p=Vn(d);p.type==="FeatureCollection"?c.push.apply(c,p.features):c.push(p)}}}),o?ti(this,{geometries:c,type:"GeometryCollection"}):{type:"FeatureCollection",features:c}}});function Za(t,e){return new he(t,e)}var ku=Za,zn=Wt.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,o){this._url=t,this._bounds=rt(e),I(this,o)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(z(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){tt(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&Ke(this._image),this},bringToBack:function(){return this._map&&Ye(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=rt(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._url.tagName==="IMG",e=this._image=t?this._url:H("img");if(z(e,"leaflet-image-layer"),this._zoomAnimated&&z(e,"leaflet-zoom-animated"),this.options.className&&z(e,this.options.className),e.onselectstart=v,e.onmousemove=v,e.onload=a(this.fire,this,"load"),e.onerror=a(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(e.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t){this._url=e.src;return}e.src=this._url,e.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),o=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;De(this._image,o,e)},_reset:function(){var t=this._image,e=new Q(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),o=e.getSize();ot(t,e.min),t.style.width=o.x+"px",t.style.height=o.y+"px"},_updateOpacity:function(){Ft(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)},getCenter:function(){return this._bounds.getCenter()}}),Iu=function(t,e,o){return new zn(t,e,o)},$a=zn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var t=this._url.tagName==="VIDEO",e=this._image=t?this._url:H("video");if(z(e,"leaflet-image-layer"),this._zoomAnimated&&z(e,"leaflet-zoom-animated"),this.options.className&&z(e,this.options.className),e.onselectstart=v,e.onmousemove=v,e.onloadeddata=a(this.fire,this,"load"),t){for(var o=e.getElementsByTagName("source"),c=[],l=0;l<o.length;l++)c.push(o[l].src);this._url=o.length>0?c:[e.src];return}q(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted,e.playsInline=!!this.options.playsInline;for(var d=0;d<this._url.length;d++){var p=H("source");p.src=this._url[d],e.appendChild(p)}}});function Eu(t,e,o){return new $a(t,e,o)}var Ha=zn.extend({_initImage:function(){var t=this._image=this._url;z(t,"leaflet-image-layer"),this._zoomAnimated&&z(t,"leaflet-zoom-animated"),this.options.className&&z(t,this.options.className),t.onselectstart=v,t.onmousemove=v}});function Tu(t,e,o){return new Ha(t,e,o)}var ie=Wt.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(t,e){t&&(t instanceof Y||q(t))?(this._latlng=j(t),I(this,e)):(I(this,t),this._source=e),this.options.content&&(this._content=this.options.content)},openOn:function(t){return t=arguments.length?t:this._source._map,t.hasLayer(this)||t.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(t){return this._map?this.close():(arguments.length?this._source=t:t=this._source,this._prepareOpen(),this.openOn(t._map)),this},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&Ft(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&Ft(this._container,1),this.bringToFront(),this.options.interactive&&(z(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(t){t._fadeAnimated?(Ft(this._container,0),this._removeTimeout=setTimeout(a(tt,void 0,this._container),200)):tt(this._container),this.options.interactive&&(nt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=j(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Ke(this._container),this},bringToBack:function(){return this._map&&Ye(this._container),this},_prepareOpen:function(t){var e=this._source;if(!e._map)return!1;if(e instanceof ce){e=null;var o=this._source._layers;for(var c in o)if(o[c]._map){e=o[c];break}if(!e)return!1;this._source=e}if(!t)if(e.getCenter)t=e.getCenter();else if(e.getLatLng)t=e.getLatLng();else if(e.getBounds)t=e.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(t),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var t=this._contentNode,e=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof e=="string")t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=D(this.options.offset),o=this._getAnchor();this._zoomAnimated?ot(this._container,t.add(o)):e=e.add(t).add(o);var c=this._containerBottom=-e.y,l=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=c+"px",this._container.style.left=l+"px"}},_getAnchor:function(){return[0,0]}});U.include({_initOverlay:function(t,e,o,c){var l=e;return l instanceof t||(l=new t(c).setContent(e)),o&&l.setLatLng(o),l}}),Wt.include({_initOverlay:function(t,e,o,c){var l=o;return l instanceof t?(I(l,c),l._source=this):(l=e&&!c?e:new t(c,this),l.setContent(o)),l}});var Bn=ie.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t=arguments.length?t:this._source._map,!t.hasLayer(this)&&t._popup&&t._popup.options.autoClose&&t.removeLayer(t._popup),t._popup=this,ie.prototype.openOn.call(this,t)},onAdd:function(t){ie.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof we||this._source.on("preclick",Pe))},onRemove:function(t){ie.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof we||this._source.off("preclick",Pe))},getEvents:function(){var t=ie.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this.close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_initLayout:function(){var t="leaflet-popup",e=this._container=H("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),o=this._wrapper=H("div",t+"-content-wrapper",e);if(this._contentNode=H("div",t+"-content",o),Si(e),no(this._contentNode),F(e,"contextmenu",Pe),this._tipContainer=H("div",t+"-tip-container",e),this._tip=H("div",t+"-tip",this._tipContainer),this.options.closeButton){var c=this._closeButton=H("a",t+"-close-button",e);c.setAttribute("role","button"),c.setAttribute("aria-label","Close popup"),c.href="#close",c.innerHTML='<span aria-hidden="true">&#215;</span>',F(c,"click",function(l){mt(l),this.close()},this)}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="",e.whiteSpace="nowrap";var o=t.offsetWidth;o=Math.min(o,this.options.maxWidth),o=Math.max(o,this.options.minWidth),e.width=o+1+"px",e.whiteSpace="",e.height="";var c=t.offsetHeight,l=this.options.maxHeight,d="leaflet-popup-scrolled";l&&c>l?(e.height=l+"px",z(t,d)):nt(t,d),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),o=this._getAnchor();ot(this._container,e.add(o))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var t=this._map,e=parseInt(Ti(this._container,"marginBottom"),10)||0,o=this._container.offsetHeight+e,c=this._containerWidth,l=new N(this._containerLeft,-o-this._containerBottom);l._add(Se(this._container));var d=t.layerPointToContainerPoint(l),p=D(this.options.autoPanPadding),g=D(this.options.autoPanPaddingTopLeft||p),_=D(this.options.autoPanPaddingBottomRight||p),y=t.getSize(),x=0,T=0;d.x+c+_.x>y.x&&(x=d.x+c-y.x+_.x),d.x-x-g.x<0&&(x=d.x-g.x),d.y+o+_.y>y.y&&(T=d.y+o-y.y+_.y),d.y-T-g.y<0&&(T=d.y-g.y),(x||T)&&(this.options.keepInView&&(this._autopanning=!0),t.fire("autopanstart").panBy([x,T]))}},_getAnchor:function(){return D(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),Mu=function(t,e){return new Bn(t,e)};U.mergeOptions({closePopupOnClick:!0}),U.include({openPopup:function(t,e,o){return this._initOverlay(Bn,t,e,o).openOn(this),this},closePopup:function(t){return t=arguments.length?t:this._popup,t&&t.close(),this}}),Wt.include({bindPopup:function(t,e){return this._popup=this._initOverlay(Bn,this._popup,t,e),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t){return this._popup&&(this instanceof ce||(this._popup._source=this),this._popup._prepareOpen(t||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){if(!(!this._popup||!this._map)){Re(t);var e=t.layer||t.target;if(this._popup._source===e&&!(e instanceof we)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(t.latlng);return}this._popup._source=e,this.openPopup(t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){t.originalEvent.keyCode===13&&this._openPopup(t)}});var jn=ie.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(t){ie.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(t){ie.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var t=ie.prototype.getEvents.call(this);return this.options.permanent||(t.preclick=this.close),t},_initLayout:function(){var t="leaflet-tooltip",e=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=H("div",e),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+u(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,o,c=this._map,l=this._container,d=c.latLngToContainerPoint(c.getCenter()),p=c.layerPointToContainerPoint(t),g=this.options.direction,_=l.offsetWidth,y=l.offsetHeight,x=D(this.options.offset),T=this._getAnchor();g==="top"?(e=_/2,o=y):g==="bottom"?(e=_/2,o=0):g==="center"?(e=_/2,o=y/2):g==="right"?(e=0,o=y/2):g==="left"?(e=_,o=y/2):p.x<d.x?(g="right",e=0,o=y/2):(g="left",e=_+(x.x+T.x)*2,o=y/2),t=t.subtract(D(e,o,!0)).add(x).add(T),nt(l,"leaflet-tooltip-right"),nt(l,"leaflet-tooltip-left"),nt(l,"leaflet-tooltip-top"),nt(l,"leaflet-tooltip-bottom"),z(l,"leaflet-tooltip-"+g),ot(l,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&Ft(this._container,t)},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return D(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Au=function(t,e){return new jn(t,e)};U.include({openTooltip:function(t,e,o){return this._initOverlay(jn,t,e,o).openOn(this),this},closeTooltip:function(t){return t.close(),this}}),Wt.include({bindTooltip:function(t,e){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(jn,this._tooltip,t,e),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){if(!(!t&&this._tooltipHandlersAdded)){var e=t?"off":"on",o={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?o.add=this._openTooltip:(o.mouseover=this._openTooltip,o.mouseout=this.closeTooltip,o.click=this._openTooltip,this._map?this._addFocusListeners():o.add=this._addFocusListeners),this._tooltip.options.sticky&&(o.mousemove=this._moveTooltip),this[e](o),this._tooltipHandlersAdded=!t}},openTooltip:function(t){return this._tooltip&&(this instanceof ce||(this._tooltip._source=this),this._tooltip._prepareOpen(t)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(t){var e=typeof t.getElement=="function"&&t.getElement();e&&(F(e,"focus",function(){this._tooltip._source=t,this.openTooltip()},this),F(e,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(t){var e=typeof t.getElement=="function"&&t.getElement();e&&e.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(t){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var e=this;this._map.once("moveend",function(){e._openOnceFlag=!1,e._openTooltip(t)});return}this._tooltip._source=t.layer||t.target,this.openTooltip(this._tooltip.options.sticky?t.latlng:void 0)}},_moveTooltip:function(t){var e=t.latlng,o,c;this._tooltip.options.sticky&&t.originalEvent&&(o=this._map.mouseEventToContainerPoint(t.originalEvent),c=this._map.containerPointToLayerPoint(o),e=this._map.layerPointToLatLng(c)),this._tooltip.setLatLng(e)}});var Ga=Je.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&t.tagName==="DIV"?t:document.createElement("div"),o=this.options;if(o.html instanceof Element?(Tn(e),e.appendChild(o.html)):e.innerHTML=o.html!==!1?o.html:"",o.bgPos){var c=D(o.bgPos);e.style.backgroundPosition=-c.x+"px "+-c.y+"px"}return this._setIconStyles(e,"icon"),e},createShadow:function(){return null}});function Du(t){return new Ga(t)}Je.Default=Oi;var Li=Wt.extend({options:{tileSize:256,opacity:1,updateWhenIdle:E.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){I(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),tt(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Ke(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Ye(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var t=this._clampZoom(this._map.getZoom());t!==this._tileZoom&&(this._tileZoom=t,this._updateLevels()),this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=m(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof N?t:new N(t,t)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e=this.getPane().children,o=-t(-1/0,1/0),c=0,l=e.length,d;c<l;c++)d=e[c].style.zIndex,e[c]!==this._container&&d&&(o=t(o,+d));isFinite(o)&&(this.options.zIndex=o+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!E.ielt9){Ft(this._container,this.options.opacity);var t=+new Date,e=!1,o=!1;for(var c in this._tiles){var l=this._tiles[c];if(!(!l.current||!l.loaded)){var d=Math.min(1,(t-l.loaded)/200);Ft(l.el,d),d<1?e=!0:(l.active?o=!0:this._onOpaqueTile(l),l.active=!0)}}o&&!this._noPrune&&this._pruneTiles(),e&&(Nt(this._fadeFrame),this._fadeFrame=kt(this._updateOpacity,this))}},_onOpaqueTile:v,_initContainer:function(){this._container||(this._container=H("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(t!==void 0){for(var o in this._levels)o=Number(o),this._levels[o].el.children.length||o===t?(this._levels[o].el.style.zIndex=e-Math.abs(t-o),this._onUpdateLevel(o)):(tt(this._levels[o].el),this._removeTilesAtZoom(o),this._onRemoveLevel(o),delete this._levels[o]);var c=this._levels[t],l=this._map;return c||(c=this._levels[t]={},c.el=H("div","leaflet-tile-container leaflet-zoom-animated",this._container),c.el.style.zIndex=e,c.origin=l.project(l.unproject(l.getPixelOrigin()),t).round(),c.zoom=t,this._setZoomTransform(c,l.getCenter(),l.getZoom()),v(c.el.offsetWidth),this._onCreateLevel(c)),this._level=c,c}},_onUpdateLevel:v,_onRemoveLevel:v,_onCreateLevel:v,_pruneTiles:function(){if(this._map){var t,e,o=this._map.getZoom();if(o>this.options.maxZoom||o<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles)e=this._tiles[t],e.retain=e.current;for(t in this._tiles)if(e=this._tiles[t],e.current&&!e.active){var c=e.coords;this._retainParent(c.x,c.y,c.z,c.z-5)||this._retainChildren(c.x,c.y,c.z,c.z+2)}for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)tt(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,o,c){var l=Math.floor(t/2),d=Math.floor(e/2),p=o-1,g=new N(+l,+d);g.z=+p;var _=this._tileCoordsToKey(g),y=this._tiles[_];return y&&y.active?(y.retain=!0,!0):(y&&y.loaded&&(y.retain=!0),p>c?this._retainParent(l,d,p,c):!1)},_retainChildren:function(t,e,o,c){for(var l=2*t;l<2*t+2;l++)for(var d=2*e;d<2*e+2;d++){var p=new N(l,d);p.z=o+1;var g=this._tileCoordsToKey(p),_=this._tiles[g];if(_&&_.active){_.retain=!0;continue}else _&&_.loaded&&(_.retain=!0);o+1<c&&this._retainChildren(l,d,o+1,c)}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return e.minNativeZoom!==void 0&&t<e.minNativeZoom?e.minNativeZoom:e.maxNativeZoom!==void 0&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,o,c){var l=Math.round(e);this.options.maxZoom!==void 0&&l>this.options.maxZoom||this.options.minZoom!==void 0&&l<this.options.minZoom?l=void 0:l=this._clampZoom(l);var d=this.options.updateWhenZooming&&l!==this._tileZoom;(!c||d)&&(this._tileZoom=l,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),l!==void 0&&this._update(t),o||this._pruneTiles(),this._noPrune=!!o),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var o in this._levels)this._setZoomTransform(this._levels[o],t,e)},_setZoomTransform:function(t,e,o){var c=this._map.getZoomScale(o,t.zoom),l=t.origin.multiplyBy(c).subtract(this._map._getNewPixelOrigin(e,o)).round();E.any3d?De(t.el,l,c):ot(t.el,l)},_resetGrid:function(){var t=this._map,e=t.options.crs,o=this._tileSize=this.getTileSize(),c=this._tileZoom,l=this._map.getPixelWorldBounds(this._tileZoom);l&&(this._globalTileRange=this._pxBoundsToTileRange(l)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],c).x/o.x),Math.ceil(t.project([0,e.wrapLng[1]],c).x/o.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],c).y/o.x),Math.ceil(t.project([e.wrapLat[1],0],c).y/o.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(t){var e=this._map,o=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),c=e.getZoomScale(o,this._tileZoom),l=e.project(t,this._tileZoom).floor(),d=e.getSize().divideBy(c*2);return new Q(l.subtract(d),l.add(d))},_update:function(t){var e=this._map;if(e){var o=this._clampZoom(e.getZoom());if(t===void 0&&(t=e.getCenter()),this._tileZoom!==void 0){var c=this._getTiledPixelBounds(t),l=this._pxBoundsToTileRange(c),d=l.getCenter(),p=[],g=this.options.keepBuffer,_=new Q(l.getBottomLeft().subtract([g,-g]),l.getTopRight().add([g,-g]));if(!(isFinite(l.min.x)&&isFinite(l.min.y)&&isFinite(l.max.x)&&isFinite(l.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var y in this._tiles){var x=this._tiles[y].coords;(x.z!==this._tileZoom||!_.contains(new N(x.x,x.y)))&&(this._tiles[y].current=!1)}if(Math.abs(o-this._tileZoom)>1){this._setView(t,o);return}for(var T=l.min.y;T<=l.max.y;T++)for(var B=l.min.x;B<=l.max.x;B++){var Ct=new N(B,T);if(Ct.z=this._tileZoom,!!this._isValidTile(Ct)){var at=this._tiles[this._tileCoordsToKey(Ct)];at?at.current=!0:p.push(Ct)}}if(p.sort(function(Tt,ii){return Tt.distanceTo(d)-ii.distanceTo(d)}),p.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var zt=document.createDocumentFragment();for(B=0;B<p.length;B++)this._addTile(p[B],zt);this._level.el.appendChild(zt)}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var o=this._globalTileRange;if(!e.wrapLng&&(t.x<o.min.x||t.x>o.max.x)||!e.wrapLat&&(t.y<o.min.y||t.y>o.max.y))return!1}if(!this.options.bounds)return!0;var c=this._tileCoordsToBounds(t);return rt(this.options.bounds).overlaps(c)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,o=this.getTileSize(),c=t.scaleBy(o),l=c.add(o),d=e.unproject(c,t.z),p=e.unproject(l,t.z);return[d,p]},_tileCoordsToBounds:function(t){var e=this._tileCoordsToNwSe(t),o=new Et(e[0],e[1]);return this.options.noWrap||(o=this._map.wrapLatLngBounds(o)),o},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),o=new N(+e[0],+e[1]);return o.z=+e[2],o},_removeTile:function(t){var e=this._tiles[t];e&&(tt(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){z(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=v,t.onmousemove=v,E.ielt9&&this.options.opacity<1&&Ft(t,this.options.opacity)},_addTile:function(t,e){var o=this._getTilePos(t),c=this._tileCoordsToKey(t),l=this.createTile(this._wrapCoords(t),a(this._tileReady,this,t));this._initTile(l),this.createTile.length<2&&kt(a(this._tileReady,this,t,null,l)),ot(l,o),this._tiles[c]={el:l,coords:t,current:!0},e.appendChild(l),this.fire("tileloadstart",{tile:l,coords:t})},_tileReady:function(t,e,o){e&&this.fire("tileerror",{error:e,tile:o,coords:t});var c=this._tileCoordsToKey(t);o=this._tiles[c],o&&(o.loaded=+new Date,this._map._fadeAnimated?(Ft(o.el,0),Nt(this._fadeFrame),this._fadeFrame=kt(this._updateOpacity,this)):(o.active=!0,this._pruneTiles()),e||(z(o.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:o.el,coords:t})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),E.ielt9||!this._map._fadeAnimated?kt(this._pruneTiles,this):setTimeout(a(this._pruneTiles,this),250)))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new N(this._wrapX?f(t.x,this._wrapX):t.x,this._wrapY?f(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new Q(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}});function Su(t){return new Li(t)}var ei=Li.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(t,e){this._url=t,e=I(this,e),e.detectRetina&&E.retina&&e.maxZoom>0?(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom=Math.min(e.maxZoom,e.minZoom+1)):(e.zoomOffset++,e.maxZoom=Math.max(e.minZoom,e.maxZoom-1)),e.minZoom=Math.max(0,e.minZoom)):e.zoomReverse?e.minZoom=Math.min(e.maxZoom,e.minZoom):e.maxZoom=Math.max(e.minZoom,e.maxZoom),typeof e.subdomains=="string"&&(e.subdomains=e.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&e===void 0&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var o=document.createElement("img");return F(o,"load",a(this._tileOnLoad,this,e,o)),F(o,"error",a(this._tileOnError,this,e,o)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(o.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(o.referrerPolicy=this.options.referrerPolicy),o.alt="",o.src=this.getTileUrl(t),o},getTileUrl:function(t){var e={r:E.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var o=this._globalTileRange.max.y-t.y;this.options.tms&&(e.y=o),e["-y"]=o}return A(this._url,i(e,this.options))},_tileOnLoad:function(t,e){E.ielt9?setTimeout(a(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,o){var c=this.options.errorTileUrl;c&&e.getAttribute("src")!==c&&(e.src=c),t(o,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,o=this.options.zoomReverse,c=this.options.zoomOffset;return o&&(t=e-t),t+c},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles)if(this._tiles[t].coords.z!==this._tileZoom&&(e=this._tiles[t].el,e.onload=v,e.onerror=v,!e.complete)){e.src=G;var o=this._tiles[t].coords;tt(e),delete this._tiles[t],this.fire("tileabort",{tile:e,coords:o})}},_removeTile:function(t){var e=this._tiles[t];if(e)return e.el.setAttribute("src",G),Li.prototype._removeTile.call(this,t)},_tileReady:function(t,e,o){if(!(!this._map||o&&o.getAttribute("src")===G))return Li.prototype._tileReady.call(this,t,e,o)}});function Wa(t,e){return new ei(t,e)}var qa=ei.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var o=i({},this.defaultWmsParams);for(var c in e)c in this.options||(o[c]=e[c]);e=I(this,e);var l=e.detectRetina&&E.retina?2:1,d=this.getTileSize();o.width=d.x*l,o.height=d.y*l,this.wmsParams=o},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code,ei.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),o=this._crs,c=It(o.project(e[0]),o.project(e[1])),l=c.min,d=c.max,p=(this._wmsVersion>=1.3&&this._crs===Ba?[l.y,l.x,d.y,d.x]:[l.x,l.y,d.x,d.y]).join(","),g=ei.prototype.getTileUrl.call(this,t);return g+K(this.wmsParams,g,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+p},setParams:function(t,e){return i(this.wmsParams,t),e||this.redraw(),this}});function Pu(t,e){return new qa(t,e)}ei.WMS=qa,Wa.wms=Pu;var ue=Wt.extend({options:{padding:.1},initialize:function(t){I(this,t),u(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),z(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var o=this._map.getZoomScale(e,this._zoom),c=this._map.getSize().multiplyBy(.5+this.options.padding),l=this._map.project(this._center,e),d=c.multiplyBy(-o).add(l).subtract(this._map._getNewPixelOrigin(t,e));E.any3d?De(this._container,d,o):ot(this._container,d)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var t in this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),o=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new Q(o,o.add(e.multiplyBy(1+t*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ka=ue.extend({options:{tolerance:0},getEvents:function(){var t=ue.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ue.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");F(t,"mousemove",this._onMouseMove,this),F(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),F(t,"mouseout",this._handleMouseOut,this),t._leaflet_disable_events=!0,this._ctx=t.getContext("2d")},_destroyContainer:function(){Nt(this._redrawRequest),delete this._ctx,tt(this._container),J(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var t;this._redrawBounds=null;for(var e in this._layers)t=this._layers[e],t._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ue.prototype._update.call(this);var t=this._bounds,e=this._container,o=t.getSize(),c=E.retina?2:1;ot(e,t.min),e.width=c*o.x,e.height=c*o.y,e.style.width=o.x+"px",e.style.height=o.y+"px",E.retina&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update")}},_reset:function(){ue.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t),this._layers[u(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=e),this._drawLast=e,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,o=e.next,c=e.prev;o?o.prev=c:this._drawLast=c,c?c.next=o:this._drawFirst=o,delete t._order,delete this._layers[u(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if(typeof t.options.dashArray=="string"){var e=t.options.dashArray.split(/[, ]+/),o=[],c,l;for(l=0;l<e.length;l++){if(c=Number(e[l]),isNaN(c))return;o.push(c)}t.options._dashArray=o}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||kt(this._redraw,this))},_extendRedrawBounds:function(t){if(t._pxBounds){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new Q,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var t,e=this._redrawBounds;if(this._ctx.save(),e){var o=e.getSize();this._ctx.beginPath(),this._ctx.rect(e.min.x,e.min.y,o.x,o.y),this._ctx.clip()}this._drawing=!0;for(var c=this._drawFirst;c;c=c.next)t=c.layer,(!e||t._pxBounds&&t._pxBounds.intersects(e))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var o,c,l,d,p=t._parts,g=p.length,_=this._ctx;if(g){for(_.beginPath(),o=0;o<g;o++){for(c=0,l=p[o].length;c<l;c++)d=p[o][c],_[c?"lineTo":"moveTo"](d.x,d.y);e&&_.closePath()}this._fillStroke(_,t)}}},_updateCircle:function(t){if(!(!this._drawing||t._empty())){var e=t._point,o=this._ctx,c=Math.max(Math.round(t._radius),1),l=(Math.max(Math.round(t._radiusY),1)||c)/c;l!==1&&(o.save(),o.scale(1,l)),o.beginPath(),o.arc(e.x,e.y/l,c,0,Math.PI*2,!1),l!==1&&o.restore(),this._fillStroke(o,t)}},_fillStroke:function(t,e){var o=e.options;o.fill&&(t.globalAlpha=o.fillOpacity,t.fillStyle=o.fillColor||o.color,t.fill(o.fillRule||"evenodd")),o.stroke&&o.weight!==0&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=o.opacity,t.lineWidth=o.weight,t.strokeStyle=o.color,t.lineCap=o.lineCap,t.lineJoin=o.lineJoin,t.stroke())},_onClick:function(t){for(var e=this._map.mouseEventToLayerPoint(t),o,c,l=this._drawFirst;l;l=l.next)o=l.layer,o.options.interactive&&o._containsPoint(e)&&(!(t.type==="click"||t.type==="preclick")||!this._map._draggableMoved(o))&&(c=o);this._fireEvent(c?[c]:!1,t)},_onMouseMove:function(t){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)}},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(nt(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var o,c,l=this._drawFirst;l;l=l.next)o=l.layer,o.options.interactive&&o._containsPoint(e)&&(c=o);c!==this._hoveredLayer&&(this._handleMouseOut(t),c&&(z(this._container,"leaflet-interactive"),this._fireEvent([c],t,"mouseover"),this._hoveredLayer=c)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,t),this._mouseHoverThrottled=!0,setTimeout(a(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,e,o){this._map._fireDOMEvent(e,o||e.type,t)},_bringToFront:function(t){var e=t._order;if(e){var o=e.next,c=e.prev;if(o)o.prev=c;else return;c?c.next=o:o&&(this._drawFirst=o),e.prev=this._drawLast,this._drawLast.next=e,e.next=null,this._drawLast=e,this._requestRedraw(t)}},_bringToBack:function(t){var e=t._order;if(e){var o=e.next,c=e.prev;if(c)c.next=o;else return;o?o.prev=c:c&&(this._drawLast=c),e.prev=null,e.next=this._drawFirst,this._drawFirst.prev=e,this._drawFirst=e,this._requestRedraw(t)}}});function Ya(t){return E.canvas?new Ka(t):null}var Ni=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch{}return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),Ru={_initContainer:function(){this._container=H("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ue.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=Ni("shape");z(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=Ni("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[u(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;tt(e),t.removeInteractiveTarget(e),delete this._layers[u(t)]},_updateStyle:function(t){var e=t._stroke,o=t._fill,c=t.options,l=t._container;l.stroked=!!c.stroke,l.filled=!!c.fill,c.stroke?(e||(e=t._stroke=Ni("stroke")),l.appendChild(e),e.weight=c.weight+"px",e.color=c.color,e.opacity=c.opacity,c.dashArray?e.dashStyle=q(c.dashArray)?c.dashArray.join(" "):c.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=c.lineCap.replace("butt","flat"),e.joinstyle=c.lineJoin):e&&(l.removeChild(e),t._stroke=null),c.fill?(o||(o=t._fill=Ni("fill")),l.appendChild(o),o.color=c.fillColor||c.color,o.opacity=c.fillOpacity):o&&(l.removeChild(o),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),o=Math.round(t._radius),c=Math.round(t._radiusY||o);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+o+","+c+" 0,"+65535*360)},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){Ke(t._container)},_bringToBack:function(t){Ye(t._container)}},Un=E.vml?Ni:ta,Fi=ue.extend({_initContainer:function(){this._container=Un("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Un("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){tt(this._container),J(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ue.prototype._update.call(this);var t=this._bounds,e=t.getSize(),o=this._container;(!this._svgSize||!this._svgSize.equals(e))&&(this._svgSize=e,o.setAttribute("width",e.x),o.setAttribute("height",e.y)),ot(o,t.min),o.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update")}},_initPath:function(t){var e=t._path=Un("path");t.options.className&&z(e,t.options.className),t.options.interactive&&z(e,"leaflet-interactive"),this._updateStyle(t),this._layers[u(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){tt(t._path),t.removeInteractiveTarget(t._path),delete this._layers[u(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,o=t.options;e&&(o.stroke?(e.setAttribute("stroke",o.color),e.setAttribute("stroke-opacity",o.opacity),e.setAttribute("stroke-width",o.weight),e.setAttribute("stroke-linecap",o.lineCap),e.setAttribute("stroke-linejoin",o.lineJoin),o.dashArray?e.setAttribute("stroke-dasharray",o.dashArray):e.removeAttribute("stroke-dasharray"),o.dashOffset?e.setAttribute("stroke-dashoffset",o.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),o.fill?(e.setAttribute("fill",o.fillColor||o.color),e.setAttribute("fill-opacity",o.fillOpacity),e.setAttribute("fill-rule",o.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,ea(t._parts,e))},_updateCircle:function(t){var e=t._point,o=Math.max(Math.round(t._radius),1),c=Math.max(Math.round(t._radiusY),1)||o,l="a"+o+","+c+" 0 1,0 ",d=t._empty()?"M0 0":"M"+(e.x-o)+","+e.y+l+o*2+",0 "+l+-o*2+",0 ";this._setPath(t,d)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){Ke(t._path)},_bringToBack:function(t){Ye(t._path)}});E.vml&&Fi.include(Ru);function Xa(t){return E.svg||E.vml?new Fi(t):null}U.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;return e||(e=this._renderer=this._createRenderer()),this.hasLayer(e)||this.addLayer(e),e},_getPaneRenderer:function(t){if(t==="overlayPane"||t===void 0)return!1;var e=this._paneRenderers[t];return e===void 0&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e},_createRenderer:function(t){return this.options.preferCanvas&&Ya(t)||Xa(t)}});var Ja=Qe.extend({initialize:function(t,e){Qe.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=rt(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});function Ou(t,e){return new Ja(t,e)}Fi.create=Un,Fi.pointsToPath=ea,he.geometryToLayer=Ln,he.coordsToLatLng=fo,he.coordsToLatLngs=Nn,he.latLngToCoords=po,he.latLngsToCoords=Fn,he.getFeature=ti,he.asFeature=Vn,U.mergeOptions({boxZoom:!0});var Qa=ee.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){F(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){J(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){tt(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),Mi(),Kr(),this._startPoint=this._map.mouseEventToContainerPoint(t),F(document,{contextmenu:Re,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=H("div","leaflet-zoom-box",this._container),z(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var e=new Q(this._point,this._startPoint),o=e.getSize();ot(this._box,e.min),this._box.style.width=o.x+"px",this._box.style.height=o.y+"px"},_finish:function(){this._moved&&(tt(this._box),nt(this._container,"leaflet-crosshair")),Ai(),Yr(),J(document,{contextmenu:Re,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(!(t.which!==1&&t.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(a(this._resetState,this),0);var e=new Et(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})}},_onKeyDown:function(t){t.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});U.addInitHook("addHandler","boxZoom",Qa),U.mergeOptions({doubleClickZoom:!0});var tc=ee.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,o=e.getZoom(),c=e.options.zoomDelta,l=t.originalEvent.shiftKey?o-c:o+c;e.options.doubleClickZoom==="center"?e.setZoom(l):e.setZoomAround(t.containerPoint,l)}});U.addInitHook("addHandler","doubleClickZoom",tc),U.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var ec=ee.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new be(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))}z(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){nt(this._map._container,"leaflet-grab"),nt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t=this._map;if(t._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=rt(this._map.options.maxBounds);this._offsetLimit=It(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;t.fire("movestart").fire("dragstart"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,o=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(o),this._times.push(e),this._prunePositions(e)}this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;this._positions.length>1&&t-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit;t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t)}},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),o=this._initialWorldOffset,c=this._draggable._newPos.x,l=(c-e+o)%t+e-o,d=(c+e+o)%t-e-o,p=Math.abs(l+o)<Math.abs(d+o)?l:d;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=p},_onDragEnd:function(t){var e=this._map,o=e.options,c=!o.inertia||t.noInertia||this._times.length<2;if(e.fire("dragend",t),c)e.fire("moveend");else{this._prunePositions(+new Date);var l=this._lastPos.subtract(this._positions[0]),d=(this._lastTime-this._times[0])/1e3,p=o.easeLinearity,g=l.multiplyBy(p/d),_=g.distanceTo([0,0]),y=Math.min(o.inertiaMaxSpeed,_),x=g.multiplyBy(y/_),T=y/(o.inertiaDeceleration*p),B=x.multiplyBy(-T/2).round();!B.x&&!B.y?e.fire("moveend"):(B=e._limitOffset(B,e.options.maxBounds),kt(function(){e.panBy(B,{duration:T,easeLinearity:p,noMoveStart:!0,animate:!0})}))}}});U.addInitHook("addHandler","dragging",ec),U.mergeOptions({keyboard:!0,keyboardPanDelta:80});var ic=ee.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),F(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),J(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var t=document.body,e=document.documentElement,o=t.scrollTop||e.scrollTop,c=t.scrollLeft||e.scrollLeft;this._map._container.focus(),window.scrollTo(c,o)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){var e=this._panKeys={},o=this.keyCodes,c,l;for(c=0,l=o.left.length;c<l;c++)e[o.left[c]]=[-1*t,0];for(c=0,l=o.right.length;c<l;c++)e[o.right[c]]=[t,0];for(c=0,l=o.down.length;c<l;c++)e[o.down[c]]=[0,t];for(c=0,l=o.up.length;c<l;c++)e[o.up[c]]=[0,-1*t]},_setZoomDelta:function(t){var e=this._zoomKeys={},o=this.keyCodes,c,l;for(c=0,l=o.zoomIn.length;c<l;c++)e[o.zoomIn[c]]=t;for(c=0,l=o.zoomOut.length;c<l;c++)e[o.zoomOut[c]]=-t},_addHooks:function(){F(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){J(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=t.keyCode,o=this._map,c;if(e in this._panKeys){if(!o._panAnim||!o._panAnim._inProgress)if(c=this._panKeys[e],t.shiftKey&&(c=D(c).multiplyBy(3)),o.options.maxBounds&&(c=o._limitOffset(D(c),o.options.maxBounds)),o.options.worldCopyJump){var l=o.wrapLatLng(o.unproject(o.project(o.getCenter()).add(c)));o.panTo(l)}else o.panBy(c)}else if(e in this._zoomKeys)o.setZoom(o.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[e]);else if(e===27&&o._popup&&o._popup.options.closeOnEscapeKey)o.closePopup();else return;Re(t)}}});U.addInitHook("addHandler","keyboard",ic),U.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var nc=ee.extend({addHooks:function(){F(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){J(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=Ta(t),o=this._map.options.wheelDebounceTime;this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var c=Math.max(o-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(a(this._performZoom,this),c),Re(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),o=this._map.options.zoomSnap||0;t._stop();var c=this._delta/(this._map.options.wheelPxPerZoomLevel*4),l=4*Math.log(2/(1+Math.exp(-Math.abs(c))))/Math.LN2,d=o?Math.ceil(l/o)*o:l,p=t._limitZoom(e+(this._delta>0?d:-d))-e;this._delta=0,this._startTime=null,p&&(t.options.scrollWheelZoom==="center"?t.setZoom(e+p):t.setZoomAround(this._lastMousePos,e+p))}});U.addInitHook("addHandler","scrollWheelZoom",nc);var Lu=600;U.mergeOptions({tapHold:E.touchNative&&E.safari&&E.mobile,tapTolerance:15});var rc=ee.extend({addHooks:function(){F(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){J(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(clearTimeout(this._holdTimeout),t.touches.length===1){var e=t.touches[0];this._startPos=this._newPos=new N(e.clientX,e.clientY),this._holdTimeout=setTimeout(a(function(){this._cancel(),this._isTapValid()&&(F(document,"touchend",mt),F(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",e))},this),Lu),F(document,"touchend touchcancel contextmenu",this._cancel,this),F(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function t(){J(document,"touchend",mt),J(document,"touchend touchcancel",t)},_cancel:function(){clearTimeout(this._holdTimeout),J(document,"touchend touchcancel contextmenu",this._cancel,this),J(document,"touchmove",this._onMove,this)},_onMove:function(t){var e=t.touches[0];this._newPos=new N(e.clientX,e.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(t,e){var o=new MouseEvent(t,{bubbles:!0,cancelable:!0,view:window,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY});o._simulated=!0,e.target.dispatchEvent(o)}});U.addInitHook("addHandler","tapHold",rc),U.mergeOptions({touchZoom:E.touch,bounceAtZoomLimits:!0});var oc=ee.extend({addHooks:function(){z(this._map._container,"leaflet-touch-zoom"),F(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){nt(this._map._container,"leaflet-touch-zoom"),J(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(!(!t.touches||t.touches.length!==2||e._animatingZoom||this._zooming)){var o=e.mouseEventToContainerPoint(t.touches[0]),c=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2),this._startLatLng=e.containerPointToLatLng(this._centerPoint),e.options.touchZoom!=="center"&&(this._pinchStartLatLng=e.containerPointToLatLng(o.add(c)._divideBy(2))),this._startDist=o.distanceTo(c),this._startZoom=e.getZoom(),this._moved=!1,this._zooming=!0,e._stop(),F(document,"touchmove",this._onTouchMove,this),F(document,"touchend touchcancel",this._onTouchEnd,this),mt(t)}},_onTouchMove:function(t){if(!(!t.touches||t.touches.length!==2||!this._zooming)){var e=this._map,o=e.mouseEventToContainerPoint(t.touches[0]),c=e.mouseEventToContainerPoint(t.touches[1]),l=o.distanceTo(c)/this._startDist;if(this._zoom=e.getScaleZoom(l,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&l<1||this._zoom>e.getMaxZoom()&&l>1)&&(this._zoom=e._limitZoom(this._zoom)),e.options.touchZoom==="center"){if(this._center=this._startLatLng,l===1)return}else{var d=o._add(c)._divideBy(2)._subtract(this._centerPoint);if(l===1&&d.x===0&&d.y===0)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(d),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),Nt(this._animRequest);var p=a(e._move,e,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=kt(p,this,!0),mt(t)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,Nt(this._animRequest),J(document,"touchmove",this._onTouchMove,this),J(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});U.addInitHook("addHandler","touchZoom",oc),U.BoxZoom=Qa,U.DoubleClickZoom=tc,U.Drag=ec,U.Keyboard=ic,U.ScrollWheelZoom=nc,U.TapHold=rc,U.TouchZoom=oc,n.Bounds=Q,n.Browser=E,n.CRS=ae,n.Canvas=Ka,n.Circle=uo,n.CircleMarker=On,n.Class=se,n.Control=Gt,n.DivIcon=Ga,n.DivOverlay=ie,n.DomEvent=Qh,n.DomUtil=Xh,n.Draggable=be,n.Evented=Ci,n.FeatureGroup=ce,n.GeoJSON=he,n.GridLayer=Li,n.Handler=ee,n.Icon=Je,n.ImageOverlay=zn,n.LatLng=Y,n.LatLngBounds=Et,n.Layer=Wt,n.LayerGroup=Xe,n.LineUtil=du,n.Map=U,n.Marker=Rn,n.Mixin=su,n.Path=we,n.Point=N,n.PolyUtil=au,n.Polygon=Qe,n.Polyline=le,n.Popup=Bn,n.PosAnimation=Ma,n.Projection=fu,n.Rectangle=Ja,n.Renderer=ue,n.SVG=Fi,n.SVGOverlay=Ha,n.TileLayer=ei,n.Tooltip=jn,n.Transformation=Fr,n.Util=yh,n.VideoOverlay=$a,n.bind=a,n.bounds=It,n.canvas=Ya,n.circle=wu,n.circleMarker=bu,n.control=Pi,n.divIcon=Du,n.extend=i,n.featureGroup=_u,n.geoJSON=Za,n.geoJson=ku,n.gridLayer=Su,n.icon=vu,n.imageOverlay=Iu,n.latLng=j,n.latLngBounds=rt,n.layerGroup=gu,n.map=tu,n.marker=yu,n.point=D,n.polygon=Cu,n.polyline=xu,n.popup=Mu,n.rectangle=Ou,n.setOptions=I,n.stamp=u,n.svg=Xa,n.svgOverlay=Tu,n.tileLayer=Wa,n.tooltip=Au,n.transformation=ki,n.version=r,n.videoOverlay=Eu;var Nu=window.L;n.noConflict=function(){return window.L=Nu,this},window.L=n})});var Yi=class{},ar=class{},pe=class n{constructor(r){this.normalizedNames=new Map,this.lazyUpdate=null,r?typeof r=="string"?this.lazyInit=()=>{this.headers=new Map,r.split(`
`).forEach(i=>{let s=i.indexOf(":");if(s>0){let a=i.slice(0,s),h=a.toLowerCase(),u=i.slice(s+1).trim();this.maybeSetNormalizedName(a,h),this.headers.has(h)?this.headers.get(h).push(u):this.headers.set(h,[u])}})}:typeof Headers<"u"&&r instanceof Headers?(this.headers=new Map,r.forEach((i,s)=>{this.setHeaderEntries(s,i)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(r).forEach(([i,s])=>{this.setHeaderEntries(i,s)})}:this.headers=new Map}has(r){return this.init(),this.headers.has(r.toLowerCase())}get(r){this.init();let i=this.headers.get(r.toLowerCase());return i&&i.length>0?i[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(r){return this.init(),this.headers.get(r.toLowerCase())||null}append(r,i){return this.clone({name:r,value:i,op:"a"})}set(r,i){return this.clone({name:r,value:i,op:"s"})}delete(r,i){return this.clone({name:r,value:i,op:"d"})}maybeSetNormalizedName(r,i){this.normalizedNames.has(i)||this.normalizedNames.set(i,r)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(r=>this.applyUpdate(r)),this.lazyUpdate=null))}copyFrom(r){r.init(),Array.from(r.headers.keys()).forEach(i=>{this.headers.set(i,r.headers.get(i)),this.normalizedNames.set(i,r.normalizedNames.get(i))})}clone(r){let i=new n;return i.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,i.lazyUpdate=(this.lazyUpdate||[]).concat([r]),i}applyUpdate(r){let i=r.name.toLowerCase();switch(r.op){case"a":case"s":let s=r.value;if(typeof s=="string"&&(s=[s]),s.length===0)return;this.maybeSetNormalizedName(r.name,i);let a=(r.op==="a"?this.headers.get(i):void 0)||[];a.push(...s),this.headers.set(i,a);break;case"d":let h=r.value;if(!h)this.headers.delete(i),this.normalizedNames.delete(i);else{let u=this.headers.get(i);if(!u)return;u=u.filter(m=>h.indexOf(m)===-1),u.length===0?(this.headers.delete(i),this.normalizedNames.delete(i)):this.headers.set(i,u)}break}}setHeaderEntries(r,i){let s=(Array.isArray(i)?i:[i]).map(h=>h.toString()),a=r.toLowerCase();this.headers.set(a,s),this.maybeSetNormalizedName(r,a)}forEach(r){this.init(),Array.from(this.normalizedNames.keys()).forEach(i=>r(this.normalizedNames.get(i),this.headers.get(i)))}};var Vo=class{encodeKey(r){return jc(r)}encodeValue(r){return jc(r)}decodeKey(r){return decodeURIComponent(r)}decodeValue(r){return decodeURIComponent(r)}};function Ku(n,r){let i=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(a=>{let h=a.indexOf("="),[u,m]=h==-1?[r.decodeKey(a),""]:[r.decodeKey(a.slice(0,h)),r.decodeValue(a.slice(h+1))],f=i.get(u)||[];f.push(m),i.set(u,f)}),i}var Yu=/%(\d[a-f0-9])/gi,Xu={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function jc(n){return encodeURIComponent(n).replace(Yu,(r,i)=>Xu[i]??r)}function sr(n){return`${n}`}var Te=class n{constructor(r={}){if(this.updates=null,this.cloneFrom=null,this.encoder=r.encoder||new Vo,r.fromString){if(r.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Ku(r.fromString,this.encoder)}else r.fromObject?(this.map=new Map,Object.keys(r.fromObject).forEach(i=>{let s=r.fromObject[i],a=Array.isArray(s)?s.map(sr):[sr(s)];this.map.set(i,a)})):this.map=null}has(r){return this.init(),this.map.has(r)}get(r){this.init();let i=this.map.get(r);return i?i[0]:null}getAll(r){return this.init(),this.map.get(r)||null}keys(){return this.init(),Array.from(this.map.keys())}append(r,i){return this.clone({param:r,value:i,op:"a"})}appendAll(r){let i=[];return Object.keys(r).forEach(s=>{let a=r[s];Array.isArray(a)?a.forEach(h=>{i.push({param:s,value:h,op:"a"})}):i.push({param:s,value:a,op:"a"})}),this.clone(i)}set(r,i){return this.clone({param:r,value:i,op:"s"})}delete(r,i){return this.clone({param:r,value:i,op:"d"})}toString(){return this.init(),this.keys().map(r=>{let i=this.encoder.encodeKey(r);return this.map.get(r).map(s=>i+"="+this.encoder.encodeValue(s)).join("&")}).filter(r=>r!=="").join("&")}clone(r){let i=new n({encoder:this.encoder});return i.cloneFrom=this.cloneFrom||this,i.updates=(this.updates||[]).concat(r),i}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(r=>this.map.set(r,this.cloneFrom.map.get(r))),this.updates.forEach(r=>{switch(r.op){case"a":case"s":let i=(r.op==="a"?this.map.get(r.param):void 0)||[];i.push(sr(r.value)),this.map.set(r.param,i);break;case"d":if(r.value!==void 0){let s=this.map.get(r.param)||[],a=s.indexOf(sr(r.value));a!==-1&&s.splice(a,1),s.length>0?this.map.set(r.param,s):this.map.delete(r.param)}else{this.map.delete(r.param);break}}}),this.cloneFrom=this.updates=null)}};var zo=class{constructor(){this.map=new Map}set(r,i){return this.map.set(r,i),this}get(r){return this.map.has(r)||this.map.set(r,r.defaultValue()),this.map.get(r)}delete(r){return this.map.delete(r),this}has(r){return this.map.has(r)}keys(){return this.map.keys()}};function Ju(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Uc(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Zc(n){return typeof Blob<"u"&&n instanceof Blob}function $c(n){return typeof FormData<"u"&&n instanceof FormData}function Qu(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Ki=class n{constructor(r,i,s,a){this.url=i,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=r.toUpperCase();let h;if(Ju(this.method)||a?(this.body=s!==void 0?s:null,h=a):h=s,h&&(this.reportProgress=!!h.reportProgress,this.withCredentials=!!h.withCredentials,h.responseType&&(this.responseType=h.responseType),h.headers&&(this.headers=h.headers),h.context&&(this.context=h.context),h.params&&(this.params=h.params),this.transferCache=h.transferCache),this.headers??=new pe,this.context??=new zo,!this.params)this.params=new Te,this.urlWithParams=i;else{let u=this.params.toString();if(u.length===0)this.urlWithParams=i;else{let m=i.indexOf("?"),f=m===-1?"?":m<i.length-1?"&":"";this.urlWithParams=i+f+u}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Uc(this.body)||Zc(this.body)||$c(this.body)||Qu(this.body)?this.body:this.body instanceof Te?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||$c(this.body)?null:Zc(this.body)?this.body.type||null:Uc(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Te?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(r={}){let i=r.method||this.method,s=r.url||this.url,a=r.responseType||this.responseType,h=r.transferCache??this.transferCache,u=r.body!==void 0?r.body:this.body,m=r.withCredentials??this.withCredentials,f=r.reportProgress??this.reportProgress,v=r.headers||this.headers,b=r.params||this.params,w=r.context??this.context;return r.setHeaders!==void 0&&(v=Object.keys(r.setHeaders).reduce((P,I)=>P.set(I,r.setHeaders[I]),v)),r.setParams&&(b=Object.keys(r.setParams).reduce((P,I)=>P.set(I,r.setParams[I]),b)),new n(i,s,u,{params:b,headers:v,context:w,reportProgress:f,responseType:a,withCredentials:m,transferCache:h})}},Me=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Me||{}),Xi=class{constructor(r,i=200,s="OK"){this.headers=r.headers||new pe,this.status=r.status!==void 0?r.status:i,this.statusText=r.statusText||s,this.url=r.url||null,this.ok=this.status>=200&&this.status<300}},cr=class n extends Xi{constructor(r={}){super(r),this.type=Me.ResponseHeader}clone(r={}){return new n({headers:r.headers||this.headers,status:r.status!==void 0?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}},Ji=class n extends Xi{constructor(r={}){super(r),this.type=Me.Response,this.body=r.body!==void 0?r.body:null}clone(r={}){return new n({body:r.body!==void 0?r.body:this.body,headers:r.headers||this.headers,status:r.status!==void 0?r.status:this.status,statusText:r.statusText||this.statusText,url:r.url||this.url||void 0})}},Ee=class extends Xi{constructor(r){super(r,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${r.url||"(unknown url)"}`:this.message=`Http failure response for ${r.url||"(unknown url)"}: ${r.status} ${r.statusText}`,this.error=r.error||null}},Kc=200,td=204;function Fo(n,r){return{body:r,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Uo=(()=>{class n{constructor(i){this.handler=i}request(i,s,a={}){let h;if(i instanceof Ki)h=i;else{let f;a.headers instanceof pe?f=a.headers:f=new pe(a.headers);let v;a.params&&(a.params instanceof Te?v=a.params:v=new Te({fromObject:a.params})),h=new Ki(i,s,a.body!==void 0?a.body:null,{headers:f,context:a.context,params:v,reportProgress:a.reportProgress,responseType:a.responseType||"json",withCredentials:a.withCredentials,transferCache:a.transferCache})}let u=S(h).pipe(Le(f=>this.handler.handle(f)));if(i instanceof Ki||a.observe==="events")return u;let m=u.pipe(Ce(f=>f instanceof Ji));switch(a.observe||"body"){case"body":switch(h.responseType){case"arraybuffer":return m.pipe(Z(f=>{if(f.body!==null&&!(f.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return f.body}));case"blob":return m.pipe(Z(f=>{if(f.body!==null&&!(f.body instanceof Blob))throw new Error("Response is not a Blob.");return f.body}));case"text":return m.pipe(Z(f=>{if(f.body!==null&&typeof f.body!="string")throw new Error("Response is not a string.");return f.body}));case"json":default:return m.pipe(Z(f=>f.body))}case"response":return m;default:throw new Error(`Unreachable: unhandled observe type ${a.observe}}`)}}delete(i,s={}){return this.request("DELETE",i,s)}get(i,s={}){return this.request("GET",i,s)}head(i,s={}){return this.request("HEAD",i,s)}jsonp(i,s){return this.request("JSONP",i,{params:new Te().append(s,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(i,s={}){return this.request("OPTIONS",i,s)}patch(i,s,a={}){return this.request("PATCH",i,Fo(a,s))}post(i,s,a={}){return this.request("POST",i,Fo(a,s))}put(i,s,a={}){return this.request("PUT",i,Fo(a,s))}static{this.\u0275fac=function(s){return new(s||n)(M(Yi))}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac})}}return n})(),ed=/^\)\]\}',?\n/,id="X-Request-URL";function Hc(n){if(n.url)return n.url;let r=id.toLocaleLowerCase();return n.headers.get(r)}var nd=(()=>{class n{constructor(){this.fetchImpl=k(Bo,{optional:!0})?.fetch??((...i)=>globalThis.fetch(...i)),this.ngZone=k(ht)}handle(i){return new Vi(s=>{let a=new AbortController;return this.doRequest(i,a.signal,s).then(jo,h=>s.error(new Ee({error:h}))),()=>a.abort()})}doRequest(i,s,a){return _o(this,null,function*(){let h=this.createRequestInit(i),u;try{let I=this.ngZone.runOutsideAngular(()=>this.fetchImpl(i.urlWithParams,C({signal:s},h)));rd(I),a.next({type:Me.Sent}),u=yield I}catch(I){a.error(new Ee({error:I,status:I.status??0,statusText:I.statusText,url:i.urlWithParams,headers:I.headers}));return}let m=new pe(u.headers),f=u.statusText,v=Hc(u)??i.urlWithParams,b=u.status,w=null;if(i.reportProgress&&a.next(new cr({headers:m,status:b,statusText:f,url:v})),u.body){let I=u.headers.get("content-length"),K=[],R=u.body.getReader(),A=0,q,yt,G=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>_o(this,null,function*(){for(;;){let{done:Jt,value:ve}=yield R.read();if(Jt)break;if(K.push(ve),A+=ve.length,i.reportProgress){yt=i.responseType==="text"?(yt??"")+(q??=new TextDecoder).decode(ve,{stream:!0}):void 0;let We=()=>a.next({type:Me.DownloadProgress,total:I?+I:void 0,loaded:A,partialText:yt});G?G.run(We):We()}}}));let oe=this.concatChunks(K,A);try{let Jt=u.headers.get("Content-Type")??"";w=this.parseBody(i,oe,Jt)}catch(Jt){a.error(new Ee({error:Jt,headers:new pe(u.headers),status:u.status,statusText:u.statusText,url:Hc(u)??i.urlWithParams}));return}}b===0&&(b=w?Kc:0),b>=200&&b<300?(a.next(new Ji({body:w,headers:m,status:b,statusText:f,url:v})),a.complete()):a.error(new Ee({error:w,headers:m,status:b,statusText:f,url:v}))})}parseBody(i,s,a){switch(i.responseType){case"json":let h=new TextDecoder().decode(s).replace(ed,"");return h===""?null:JSON.parse(h);case"text":return new TextDecoder().decode(s);case"blob":return new Blob([s],{type:a});case"arraybuffer":return s.buffer}}createRequestInit(i){let s={},a=i.withCredentials?"include":void 0;if(i.headers.forEach((h,u)=>s[h]=u.join(",")),i.headers.has("Accept")||(s.Accept="application/json, text/plain, */*"),!i.headers.has("Content-Type")){let h=i.detectContentTypeHeader();h!==null&&(s["Content-Type"]=h)}return{body:i.serializeBody(),method:i.method,headers:s,credentials:a}}concatChunks(i,s){let a=new Uint8Array(s),h=0;for(let u of i)a.set(u,h),h+=u.length;return a}static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac})}}return n})(),Bo=class{};function jo(){}function rd(n){n.then(jo,jo)}function Yc(n,r){return r(n)}function od(n,r){return(i,s)=>r.intercept(i,{handle:a=>n(a,s)})}function sd(n,r,i){return(s,a)=>Kt(i,()=>r(s,h=>n(h,a)))}var ad=new $(""),Zo=new $(""),cd=new $(""),Xc=new $("",{providedIn:"root",factory:()=>!0});function ld(){let n=null;return(r,i)=>{n===null&&(n=(k(ad,{optional:!0})??[]).reduceRight(od,Yc));let s=k(Zi);if(k(Xc)){let h=s.add();return n(r,i).pipe(Ne(()=>s.remove(h)))}else return n(r,i)}}var Gc=(()=>{class n extends Yi{constructor(i,s){super(),this.backend=i,this.injector=s,this.chain=null,this.pendingTasks=k(Zi),this.contributeToStability=k(Xc)}handle(i){if(this.chain===null){let s=Array.from(new Set([...this.injector.get(Zo),...this.injector.get(cd,[])]));this.chain=s.reduceRight((a,h)=>sd(a,h,this.injector),Yc)}if(this.contributeToStability){let s=this.pendingTasks.add();return this.chain(i,a=>this.backend.handle(a)).pipe(Ne(()=>this.pendingTasks.remove(s)))}else return this.chain(i,s=>this.backend.handle(s))}static{this.\u0275fac=function(s){return new(s||n)(M(ar),M(ri))}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac})}}return n})();var hd=/^\)\]\}',?\n/;function ud(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var Wc=(()=>{class n{constructor(i){this.xhrFactory=i}handle(i){if(i.method==="JSONP")throw new et(-2800,!1);let s=this.xhrFactory;return(s.\u0275loadImpl?Dt(s.\u0275loadImpl()):S(null)).pipe(Ut(()=>new Vi(h=>{let u=s.build();if(u.open(i.method,i.urlWithParams),i.withCredentials&&(u.withCredentials=!0),i.headers.forEach((R,A)=>u.setRequestHeader(R,A.join(","))),i.headers.has("Accept")||u.setRequestHeader("Accept","application/json, text/plain, */*"),!i.headers.has("Content-Type")){let R=i.detectContentTypeHeader();R!==null&&u.setRequestHeader("Content-Type",R)}if(i.responseType){let R=i.responseType.toLowerCase();u.responseType=R!=="json"?R:"text"}let m=i.serializeBody(),f=null,v=()=>{if(f!==null)return f;let R=u.statusText||"OK",A=new pe(u.getAllResponseHeaders()),q=ud(u)||i.url;return f=new cr({headers:A,status:u.status,statusText:R,url:q}),f},b=()=>{let{headers:R,status:A,statusText:q,url:yt}=v(),G=null;A!==td&&(G=typeof u.response>"u"?u.responseText:u.response),A===0&&(A=G?Kc:0);let oe=A>=200&&A<300;if(i.responseType==="json"&&typeof G=="string"){let Jt=G;G=G.replace(hd,"");try{G=G!==""?JSON.parse(G):null}catch(ve){G=Jt,oe&&(oe=!1,G={error:ve,text:G})}}oe?(h.next(new Ji({body:G,headers:R,status:A,statusText:q,url:yt||void 0})),h.complete()):h.error(new Ee({error:G,headers:R,status:A,statusText:q,url:yt||void 0}))},w=R=>{let{url:A}=v(),q=new Ee({error:R,status:u.status||0,statusText:u.statusText||"Unknown Error",url:A||void 0});h.error(q)},P=!1,I=R=>{P||(h.next(v()),P=!0);let A={type:Me.DownloadProgress,loaded:R.loaded};R.lengthComputable&&(A.total=R.total),i.responseType==="text"&&u.responseText&&(A.partialText=u.responseText),h.next(A)},K=R=>{let A={type:Me.UploadProgress,loaded:R.loaded};R.lengthComputable&&(A.total=R.total),h.next(A)};return u.addEventListener("load",b),u.addEventListener("error",w),u.addEventListener("timeout",w),u.addEventListener("abort",w),i.reportProgress&&(u.addEventListener("progress",I),m!==null&&u.upload&&u.upload.addEventListener("progress",K)),u.send(m),h.next({type:Me.Sent}),()=>{u.removeEventListener("error",w),u.removeEventListener("abort",w),u.removeEventListener("load",b),u.removeEventListener("timeout",w),i.reportProgress&&(u.removeEventListener("progress",I),m!==null&&u.upload&&u.upload.removeEventListener("progress",K)),u.readyState!==u.DONE&&u.abort()}})))}static{this.\u0275fac=function(s){return new(s||n)(M(or))}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac})}}return n})(),Jc=new $(""),dd="XSRF-TOKEN",fd=new $("",{providedIn:"root",factory:()=>dd}),pd="X-XSRF-TOKEN",md=new $("",{providedIn:"root",factory:()=>pd}),lr=class{},gd=(()=>{class n{constructor(i,s,a){this.doc=i,this.platform=s,this.cookieName=a,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let i=this.doc.cookie||"";return i!==this.lastCookieString&&(this.parseCount++,this.lastToken=nr(i,this.cookieName),this.lastCookieString=i),this.lastToken}static{this.\u0275fac=function(s){return new(s||n)(M(pt),M(fe),M(fd))}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac})}}return n})();function _d(n,r){let i=n.url.toLowerCase();if(!k(Jc)||n.method==="GET"||n.method==="HEAD"||i.startsWith("http://")||i.startsWith("https://"))return r(n);let s=k(lr).getToken(),a=k(md);return s!=null&&!n.headers.has(a)&&(n=n.clone({headers:n.headers.set(a,s)})),r(n)}var Qc=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(Qc||{});function vd(n,r){return{\u0275kind:n,\u0275providers:r}}function yd(...n){let r=[Uo,Wc,Gc,{provide:Yi,useExisting:Gc},{provide:ar,useFactory:()=>k(nd,{optional:!0})??k(Wc)},{provide:Zo,useValue:_d,multi:!0},{provide:Jc,useValue:!0},{provide:lr,useClass:gd}];for(let i of n)r.push(...i.\u0275providers);return Ve(r)}var qc=new $("");function bd(){return vd(Qc.LegacyInterceptors,[{provide:qc,useFactory:ld},{provide:Zo,useExisting:qc,multi:!0}])}var tl=(()=>{class n{static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275mod=Pt({type:n})}static{this.\u0275inj=St({providers:[yd(bd())]})}}return n})();var Go=class extends Nc{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Wo=class n extends Go{static makeCurrent(){Lc(new n)}onAndCancel(r,i,s){return r.addEventListener(i,s),()=>{r.removeEventListener(i,s)}}dispatchEvent(r,i){r.dispatchEvent(i)}remove(r){r.remove()}createElement(r,i){return i=i||this.getDefaultDocument(),i.createElement(r)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(r){return r.nodeType===Node.ELEMENT_NODE}isShadowRoot(r){return r instanceof DocumentFragment}getGlobalEventTarget(r,i){return i==="window"?window:i==="document"?r:i==="body"?r.body:null}getBaseHref(r){let i=kd();return i==null?null:Id(i)}resetBaseElement(){Qi=null}getUserAgent(){return window.navigator.userAgent}getCookie(r){return nr(document.cookie,r)}},Qi=null;function kd(){return Qi=Qi||document.querySelector("base"),Qi?Qi.getAttribute("href"):null}function Id(n){return new URL(n,document.baseURI).pathname}var Ed=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac})}}return n})(),qo=new $(""),nl=(()=>{class n{constructor(i,s){this._zone=s,this._eventNameToPlugin=new Map,i.forEach(a=>{a.manager=this}),this._plugins=i.slice().reverse()}addEventListener(i,s,a){return this._findPluginFor(s).addEventListener(i,s,a)}getZone(){return this._zone}_findPluginFor(i){let s=this._eventNameToPlugin.get(i);if(s)return s;if(s=this._plugins.find(h=>h.supports(i)),!s)throw new et(5101,!1);return this._eventNameToPlugin.set(i,s),s}static{this.\u0275fac=function(s){return new(s||n)(M(qo),M(ht))}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac})}}return n})(),hr=class{constructor(r){this._doc=r}},$o="ng-app-id",rl=(()=>{class n{constructor(i,s,a,h={}){this.doc=i,this.appId=s,this.nonce=a,this.platformId=h,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=rr(h),this.resetHostNodes()}addStyles(i){for(let s of i)this.changeUsageCount(s,1)===1&&this.onStyleAdded(s)}removeStyles(i){for(let s of i)this.changeUsageCount(s,-1)<=0&&this.onStyleRemoved(s)}ngOnDestroy(){let i=this.styleNodesInDOM;i&&(i.forEach(s=>s.remove()),i.clear());for(let s of this.getAllStyles())this.onStyleRemoved(s);this.resetHostNodes()}addHost(i){this.hostNodes.add(i);for(let s of this.getAllStyles())this.addStyleToHost(i,s)}removeHost(i){this.hostNodes.delete(i)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(i){for(let s of this.hostNodes)this.addStyleToHost(s,i)}onStyleRemoved(i){let s=this.styleRef;s.get(i)?.elements?.forEach(a=>a.remove()),s.delete(i)}collectServerRenderedStyles(){let i=this.doc.head?.querySelectorAll(`style[${$o}="${this.appId}"]`);if(i?.length){let s=new Map;return i.forEach(a=>{a.textContent!=null&&s.set(a.textContent,a)}),s}return null}changeUsageCount(i,s){let a=this.styleRef;if(a.has(i)){let h=a.get(i);return h.usage+=s,h.usage}return a.set(i,{usage:s,elements:[]}),s}getStyleElement(i,s){let a=this.styleNodesInDOM,h=a?.get(s);if(h?.parentNode===i)return a.delete(s),h.removeAttribute($o),h;{let u=this.doc.createElement("style");return this.nonce&&u.setAttribute("nonce",this.nonce),u.textContent=s,this.platformIsServer&&u.setAttribute($o,this.appId),i.appendChild(u),u}}addStyleToHost(i,s){let a=this.getStyleElement(i,s),h=this.styleRef,u=h.get(s)?.elements;u?u.push(a):h.set(s,{elements:[a],usage:1})}resetHostNodes(){let i=this.hostNodes;i.clear(),i.add(this.doc.head)}static{this.\u0275fac=function(s){return new(s||n)(M(pt),M(qn),M($i,8),M(fe))}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac})}}return n})(),Ho={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Xo=/%COMP%/g,ol="%COMP%",Td=`_nghost-${ol}`,Md=`_ngcontent-${ol}`,Ad=!0,Dd=new $("",{providedIn:"root",factory:()=>Ad});function Sd(n){return Md.replace(Xo,n)}function Pd(n){return Td.replace(Xo,n)}function sl(n,r){return r.map(i=>i.replace(Xo,n))}var ur=(()=>{class n{constructor(i,s,a,h,u,m,f,v=null){this.eventManager=i,this.sharedStylesHost=s,this.appId=a,this.removeStylesOnCompDestroy=h,this.doc=u,this.platformId=m,this.ngZone=f,this.nonce=v,this.rendererByCompId=new Map,this.platformIsServer=rr(m),this.defaultRenderer=new tn(i,u,f,this.platformIsServer)}createRenderer(i,s){if(!i||!s)return this.defaultRenderer;this.platformIsServer&&s.encapsulation===ji.ShadowDom&&(s=ct(C({},s),{encapsulation:ji.Emulated}));let a=this.getOrCreateRenderer(i,s);return a instanceof dr?a.applyToHost(i):a instanceof en&&a.applyStyles(),a}getOrCreateRenderer(i,s){let a=this.rendererByCompId,h=a.get(s.id);if(!h){let u=this.doc,m=this.ngZone,f=this.eventManager,v=this.sharedStylesHost,b=this.removeStylesOnCompDestroy,w=this.platformIsServer;switch(s.encapsulation){case ji.Emulated:h=new dr(f,v,s,this.appId,b,u,m,w);break;case ji.ShadowDom:return new Ko(f,v,i,s,u,m,this.nonce,w);default:h=new en(f,v,s,b,u,m,w);break}a.set(s.id,h)}return h}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(s){return new(s||n)(M(nl),M(rl),M(qn),M(Dd),M(pt),M(fe),M(ht),M($i))}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac})}}return n})(),tn=class{constructor(r,i,s,a){this.eventManager=r,this.doc=i,this.ngZone=s,this.platformIsServer=a,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(r,i){return i?this.doc.createElementNS(Ho[i]||i,r):this.doc.createElement(r)}createComment(r){return this.doc.createComment(r)}createText(r){return this.doc.createTextNode(r)}appendChild(r,i){(el(r)?r.content:r).appendChild(i)}insertBefore(r,i,s){r&&(el(r)?r.content:r).insertBefore(i,s)}removeChild(r,i){i.remove()}selectRootElement(r,i){let s=typeof r=="string"?this.doc.querySelector(r):r;if(!s)throw new et(-5104,!1);return i||(s.textContent=""),s}parentNode(r){return r.parentNode}nextSibling(r){return r.nextSibling}setAttribute(r,i,s,a){if(a){i=a+":"+i;let h=Ho[a];h?r.setAttributeNS(h,i,s):r.setAttribute(i,s)}else r.setAttribute(i,s)}removeAttribute(r,i,s){if(s){let a=Ho[s];a?r.removeAttributeNS(a,i):r.removeAttribute(`${s}:${i}`)}else r.removeAttribute(i)}addClass(r,i){r.classList.add(i)}removeClass(r,i){r.classList.remove(i)}setStyle(r,i,s,a){a&(Hi.DashCase|Hi.Important)?r.style.setProperty(i,s,a&Hi.Important?"important":""):r.style[i]=s}removeStyle(r,i,s){s&Hi.DashCase?r.style.removeProperty(i):r.style[i]=""}setProperty(r,i,s){r!=null&&(r[i]=s)}setValue(r,i){r.nodeValue=i}listen(r,i,s){if(typeof r=="string"&&(r=Lo().getGlobalEventTarget(this.doc,r),!r))throw new Error(`Unsupported event target ${r} for event ${i}`);return this.eventManager.addEventListener(r,i,this.decoratePreventDefault(s))}decoratePreventDefault(r){return i=>{if(i==="__ngUnwrap__")return r;(this.platformIsServer?this.ngZone.runGuarded(()=>r(i)):r(i))===!1&&i.preventDefault()}}};function el(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var Ko=class extends tn{constructor(r,i,s,a,h,u,m,f){super(r,h,u,f),this.sharedStylesHost=i,this.hostEl=s,this.shadowRoot=s.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let v=sl(a.id,a.styles);for(let b of v){let w=document.createElement("style");m&&w.setAttribute("nonce",m),w.textContent=b,this.shadowRoot.appendChild(w)}}nodeOrShadowRoot(r){return r===this.hostEl?this.shadowRoot:r}appendChild(r,i){return super.appendChild(this.nodeOrShadowRoot(r),i)}insertBefore(r,i,s){return super.insertBefore(this.nodeOrShadowRoot(r),i,s)}removeChild(r,i){return super.removeChild(null,i)}parentNode(r){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(r)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},en=class extends tn{constructor(r,i,s,a,h,u,m,f){super(r,h,u,m),this.sharedStylesHost=i,this.removeStylesOnCompDestroy=a,this.styles=f?sl(f,s.styles):s.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},dr=class extends en{constructor(r,i,s,a,h,u,m,f){let v=a+"-"+s.id;super(r,i,s,h,u,m,f,v),this.contentAttr=Sd(v),this.hostAttr=Pd(v)}applyToHost(r){this.applyStyles(),this.setAttribute(r,this.hostAttr,"")}createElement(r,i){let s=super.createElement(r,i);return super.setAttribute(s,this.contentAttr,""),s}},Rd=(()=>{class n extends hr{constructor(i){super(i)}supports(i){return!0}addEventListener(i,s,a){return i.addEventListener(s,a,!1),()=>this.removeEventListener(i,s,a)}removeEventListener(i,s,a){return i.removeEventListener(s,a)}static{this.\u0275fac=function(s){return new(s||n)(M(pt))}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac})}}return n})(),il=["alt","control","meta","shift"],Od={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Ld={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},Nd=(()=>{class n extends hr{constructor(i){super(i)}supports(i){return n.parseEventName(i)!=null}addEventListener(i,s,a){let h=n.parseEventName(s),u=n.eventCallback(h.fullKey,a,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Lo().onAndCancel(i,h.domEventName,u))}static parseEventName(i){let s=i.toLowerCase().split("."),a=s.shift();if(s.length===0||!(a==="keydown"||a==="keyup"))return null;let h=n._normalizeKey(s.pop()),u="",m=s.indexOf("code");if(m>-1&&(s.splice(m,1),u="code."),il.forEach(v=>{let b=s.indexOf(v);b>-1&&(s.splice(b,1),u+=v+".")}),u+=h,s.length!=0||h.length===0)return null;let f={};return f.domEventName=a,f.fullKey=u,f}static matchEventFullKeyCode(i,s){let a=Od[i.key]||i.key,h="";return s.indexOf("code.")>-1&&(a=i.code,h="code."),a==null||!a?!1:(a=a.toLowerCase(),a===" "?a="space":a==="."&&(a="dot"),il.forEach(u=>{if(u!==a){let m=Ld[u];m(i)&&(h+=u+".")}}),h+=a,h===s)}static eventCallback(i,s,a){return h=>{n.matchEventFullKeyCode(h,i)&&a.runGuarded(()=>s(h))}}static _normalizeKey(i){return i==="esc"?"escape":i}static{this.\u0275fac=function(s){return new(s||n)(M(pt))}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac})}}return n})();function al(n,r){return Rc(C({rootComponent:n},Fd(r)))}function Fd(n){return{appProviders:[...Ud,...n?.providers??[]],platformProviders:jd}}function Vd(){Wo.makeCurrent()}function zd(){return new To}function Bd(){return xc(document),document}var jd=[{provide:fe,useValue:zc},{provide:Cc,useValue:Vd,multi:!0},{provide:pt,useFactory:Bd,deps:[]}];var Ud=[{provide:yc,useValue:"root"},{provide:To,useFactory:zd,deps:[]},{provide:qo,useClass:Rd,multi:!0,deps:[pt,ht,fe]},{provide:qo,useClass:Nd,multi:!0,deps:[pt]},ur,rl,nl,{provide:Yn,useExisting:ur},{provide:or,useClass:Ed,deps:[]},[]];var cl=(()=>{class n{constructor(i){this._doc=i}getTitle(){return this._doc.title}setTitle(i){this._doc.title=i||""}static{this.\u0275fac=function(s){return new(s||n)(M(pt))}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var V="primary",yn=Symbol("RouteTitle"),is=class{constructor(r){this.params=r||{}}has(r){return Object.prototype.hasOwnProperty.call(this.params,r)}get(r){if(this.has(r)){let i=this.params[r];return Array.isArray(i)?i[0]:i}return null}getAll(r){if(this.has(r)){let i=this.params[r];return Array.isArray(i)?i:[i]}return[]}get keys(){return Object.keys(this.params)}};function vi(n){return new is(n)}function Hd(n,r,i){let s=i.path.split("/");if(s.length>n.length||i.pathMatch==="full"&&(r.hasChildren()||s.length<n.length))return null;let a={};for(let h=0;h<s.length;h++){let u=s[h],m=n[h];if(u[0]===":")a[u.substring(1)]=m;else if(u!==m.path)return null}return{consumed:n.slice(0,s.length),posParams:a}}function Gd(n,r){if(n.length!==r.length)return!1;for(let i=0;i<n.length;++i)if(!re(n[i],r[i]))return!1;return!0}function re(n,r){let i=n?ns(n):void 0,s=r?ns(r):void 0;if(!i||!s||i.length!=s.length)return!1;let a;for(let h=0;h<i.length;h++)if(a=i[h],!gl(n[a],r[a]))return!1;return!0}function ns(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function gl(n,r){if(Array.isArray(n)&&Array.isArray(r)){if(n.length!==r.length)return!1;let i=[...n].sort(),s=[...r].sort();return i.every((a,h)=>s[h]===a)}else return n===r}function _l(n){return n.length>0?n[n.length-1]:null}function Ae(n){return uc(n)?n:Po(n)?Dt(Promise.resolve(n)):S(n)}var Wd={exact:yl,subset:bl},vl={exact:qd,subset:Kd,ignored:()=>!0};function ll(n,r,i){return Wd[i.paths](n.root,r.root,i.matrixParams)&&vl[i.queryParams](n.queryParams,r.queryParams)&&!(i.fragment==="exact"&&n.fragment!==r.fragment)}function qd(n,r){return re(n,r)}function yl(n,r,i){if(!je(n.segments,r.segments)||!mr(n.segments,r.segments,i)||n.numberOfChildren!==r.numberOfChildren)return!1;for(let s in r.children)if(!n.children[s]||!yl(n.children[s],r.children[s],i))return!1;return!0}function Kd(n,r){return Object.keys(r).length<=Object.keys(n).length&&Object.keys(r).every(i=>gl(n[i],r[i]))}function bl(n,r,i){return wl(n,r,r.segments,i)}function wl(n,r,i,s){if(n.segments.length>i.length){let a=n.segments.slice(0,i.length);return!(!je(a,i)||r.hasChildren()||!mr(a,i,s))}else if(n.segments.length===i.length){if(!je(n.segments,i)||!mr(n.segments,i,s))return!1;for(let a in r.children)if(!n.children[a]||!bl(n.children[a],r.children[a],s))return!1;return!0}else{let a=i.slice(0,n.segments.length),h=i.slice(n.segments.length);return!je(n.segments,a)||!mr(n.segments,a,s)||!n.children[V]?!1:wl(n.children[V],r,h,s)}}function mr(n,r,i){return r.every((s,a)=>vl[i](n[a].parameters,s.parameters))}var ge=class{constructor(r=new W([],{}),i={},s=null){this.root=r,this.queryParams=i,this.fragment=s}get queryParamMap(){return this._queryParamMap??=vi(this.queryParams),this._queryParamMap}toString(){return Jd.serialize(this)}},W=class{constructor(r,i){this.segments=r,this.children=i,this.parent=null,Object.values(i).forEach(s=>s.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return gr(this)}},Be=class{constructor(r,i){this.path=r,this.parameters=i}get parameterMap(){return this._parameterMap??=vi(this.parameters),this._parameterMap}toString(){return Cl(this)}};function Yd(n,r){return je(n,r)&&n.every((i,s)=>re(i.parameters,r[s].parameters))}function je(n,r){return n.length!==r.length?!1:n.every((i,s)=>i.path===r[s].path)}function Xd(n,r){let i=[];return Object.entries(n.children).forEach(([s,a])=>{s===V&&(i=i.concat(r(a,s)))}),Object.entries(n.children).forEach(([s,a])=>{s!==V&&(i=i.concat(r(a,s)))}),i}var As=(()=>{class n{static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275prov=O({token:n,factory:()=>new ln,providedIn:"root"})}}return n})(),ln=class{parse(r){let i=new os(r);return new ge(i.parseRootSegment(),i.parseQueryParams(),i.parseFragment())}serialize(r){let i=`/${nn(r.root,!0)}`,s=ef(r.queryParams),a=typeof r.fragment=="string"?`#${Qd(r.fragment)}`:"";return`${i}${s}${a}`}},Jd=new ln;function gr(n){return n.segments.map(r=>Cl(r)).join("/")}function nn(n,r){if(!n.hasChildren())return gr(n);if(r){let i=n.children[V]?nn(n.children[V],!1):"",s=[];return Object.entries(n.children).forEach(([a,h])=>{a!==V&&s.push(`${a}:${nn(h,!1)}`)}),s.length>0?`${i}(${s.join("//")})`:i}else{let i=Xd(n,(s,a)=>a===V?[nn(n.children[V],!1)]:[`${a}:${nn(s,!1)}`]);return Object.keys(n.children).length===1&&n.children[V]!=null?`${gr(n)}/${i[0]}`:`${gr(n)}/(${i.join("//")})`}}function xl(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function fr(n){return xl(n).replace(/%3B/gi,";")}function Qd(n){return encodeURI(n)}function rs(n){return xl(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function _r(n){return decodeURIComponent(n)}function hl(n){return _r(n.replace(/\+/g,"%20"))}function Cl(n){return`${rs(n.path)}${tf(n.parameters)}`}function tf(n){return Object.entries(n).map(([r,i])=>`;${rs(r)}=${rs(i)}`).join("")}function ef(n){let r=Object.entries(n).map(([i,s])=>Array.isArray(s)?s.map(a=>`${fr(i)}=${fr(a)}`).join("&"):`${fr(i)}=${fr(s)}`).filter(i=>i);return r.length?`?${r.join("&")}`:""}var nf=/^[^\/()?;#]+/;function Jo(n){let r=n.match(nf);return r?r[0]:""}var rf=/^[^\/()?;=#]+/;function of(n){let r=n.match(rf);return r?r[0]:""}var sf=/^[^=?&#]+/;function af(n){let r=n.match(sf);return r?r[0]:""}var cf=/^[^&#]+/;function lf(n){let r=n.match(cf);return r?r[0]:""}var os=class{constructor(r){this.url=r,this.remaining=r}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new W([],{}):new W([],this.parseChildren())}parseQueryParams(){let r={};if(this.consumeOptional("?"))do this.parseQueryParam(r);while(this.consumeOptional("&"));return r}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let r=[];for(this.peekStartsWith("(")||r.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),r.push(this.parseSegment());let i={};this.peekStartsWith("/(")&&(this.capture("/"),i=this.parseParens(!0));let s={};return this.peekStartsWith("(")&&(s=this.parseParens(!1)),(r.length>0||Object.keys(i).length>0)&&(s[V]=new W(r,i)),s}parseSegment(){let r=Jo(this.remaining);if(r===""&&this.peekStartsWith(";"))throw new et(4009,!1);return this.capture(r),new Be(_r(r),this.parseMatrixParams())}parseMatrixParams(){let r={};for(;this.consumeOptional(";");)this.parseParam(r);return r}parseParam(r){let i=of(this.remaining);if(!i)return;this.capture(i);let s="";if(this.consumeOptional("=")){let a=Jo(this.remaining);a&&(s=a,this.capture(s))}r[_r(i)]=_r(s)}parseQueryParam(r){let i=af(this.remaining);if(!i)return;this.capture(i);let s="";if(this.consumeOptional("=")){let u=lf(this.remaining);u&&(s=u,this.capture(s))}let a=hl(i),h=hl(s);if(r.hasOwnProperty(a)){let u=r[a];Array.isArray(u)||(u=[u],r[a]=u),u.push(h)}else r[a]=h}parseParens(r){let i={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let s=Jo(this.remaining),a=this.remaining[s.length];if(a!=="/"&&a!==")"&&a!==";")throw new et(4010,!1);let h;s.indexOf(":")>-1?(h=s.slice(0,s.indexOf(":")),this.capture(h),this.capture(":")):r&&(h=V);let u=this.parseChildren();i[h]=Object.keys(u).length===1?u[V]:new W([],u),this.consumeOptional("//")}return i}peekStartsWith(r){return this.remaining.startsWith(r)}consumeOptional(r){return this.peekStartsWith(r)?(this.remaining=this.remaining.substring(r.length),!0):!1}capture(r){if(!this.consumeOptional(r))throw new et(4011,!1)}};function kl(n){return n.segments.length>0?new W([],{[V]:n}):n}function Il(n){let r={};for(let[s,a]of Object.entries(n.children)){let h=Il(a);if(s===V&&h.segments.length===0&&h.hasChildren())for(let[u,m]of Object.entries(h.children))r[u]=m;else(h.segments.length>0||h.hasChildren())&&(r[s]=h)}let i=new W(n.segments,r);return hf(i)}function hf(n){if(n.numberOfChildren===1&&n.children[V]){let r=n.children[V];return new W(n.segments.concat(r.segments),r.children)}return n}function hn(n){return n instanceof ge}function uf(n,r,i=null,s=null){let a=El(n);return Tl(a,r,i,s)}function El(n){let r;function i(h){let u={};for(let f of h.children){let v=i(f);u[f.outlet]=v}let m=new W(h.url,u);return h===n&&(r=m),m}let s=i(n.root),a=kl(s);return r??a}function Tl(n,r,i,s){let a=n;for(;a.parent;)a=a.parent;if(r.length===0)return Qo(a,a,a,i,s);let h=df(r);if(h.toRoot())return Qo(a,a,new W([],{}),i,s);let u=ff(h,a,n),m=u.processChildren?sn(u.segmentGroup,u.index,h.commands):Al(u.segmentGroup,u.index,h.commands);return Qo(a,u.segmentGroup,m,i,s)}function vr(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function un(n){return typeof n=="object"&&n!=null&&n.outlets}function Qo(n,r,i,s,a){let h={};s&&Object.entries(s).forEach(([f,v])=>{h[f]=Array.isArray(v)?v.map(b=>`${b}`):`${v}`});let u;n===r?u=i:u=Ml(n,r,i);let m=kl(Il(u));return new ge(m,h,a)}function Ml(n,r,i){let s={};return Object.entries(n.children).forEach(([a,h])=>{h===r?s[a]=i:s[a]=Ml(h,r,i)}),new W(n.segments,s)}var yr=class{constructor(r,i,s){if(this.isAbsolute=r,this.numberOfDoubleDots=i,this.commands=s,r&&s.length>0&&vr(s[0]))throw new et(4003,!1);let a=s.find(un);if(a&&a!==_l(s))throw new et(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function df(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new yr(!0,0,n);let r=0,i=!1,s=n.reduce((a,h,u)=>{if(typeof h=="object"&&h!=null){if(h.outlets){let m={};return Object.entries(h.outlets).forEach(([f,v])=>{m[f]=typeof v=="string"?v.split("/"):v}),[...a,{outlets:m}]}if(h.segmentPath)return[...a,h.segmentPath]}return typeof h!="string"?[...a,h]:u===0?(h.split("/").forEach((m,f)=>{f==0&&m==="."||(f==0&&m===""?i=!0:m===".."?r++:m!=""&&a.push(m))}),a):[...a,h]},[]);return new yr(i,r,s)}var mi=class{constructor(r,i,s){this.segmentGroup=r,this.processChildren=i,this.index=s}};function ff(n,r,i){if(n.isAbsolute)return new mi(r,!0,0);if(!i)return new mi(r,!1,NaN);if(i.parent===null)return new mi(i,!0,0);let s=vr(n.commands[0])?0:1,a=i.segments.length-1+s;return pf(i,a,n.numberOfDoubleDots)}function pf(n,r,i){let s=n,a=r,h=i;for(;h>a;){if(h-=a,s=s.parent,!s)throw new et(4005,!1);a=s.segments.length}return new mi(s,!1,a-h)}function mf(n){return un(n[0])?n[0].outlets:{[V]:n}}function Al(n,r,i){if(n??=new W([],{}),n.segments.length===0&&n.hasChildren())return sn(n,r,i);let s=gf(n,r,i),a=i.slice(s.commandIndex);if(s.match&&s.pathIndex<n.segments.length){let h=new W(n.segments.slice(0,s.pathIndex),{});return h.children[V]=new W(n.segments.slice(s.pathIndex),n.children),sn(h,0,a)}else return s.match&&a.length===0?new W(n.segments,{}):s.match&&!n.hasChildren()?ss(n,r,i):s.match?sn(n,0,a):ss(n,r,i)}function sn(n,r,i){if(i.length===0)return new W(n.segments,{});{let s=mf(i),a={};if(Object.keys(s).some(h=>h!==V)&&n.children[V]&&n.numberOfChildren===1&&n.children[V].segments.length===0){let h=sn(n.children[V],r,i);return new W(n.segments,h.children)}return Object.entries(s).forEach(([h,u])=>{typeof u=="string"&&(u=[u]),u!==null&&(a[h]=Al(n.children[h],r,u))}),Object.entries(n.children).forEach(([h,u])=>{s[h]===void 0&&(a[h]=u)}),new W(n.segments,a)}}function gf(n,r,i){let s=0,a=r,h={match:!1,pathIndex:0,commandIndex:0};for(;a<n.segments.length;){if(s>=i.length)return h;let u=n.segments[a],m=i[s];if(un(m))break;let f=`${m}`,v=s<i.length-1?i[s+1]:null;if(a>0&&f===void 0)break;if(f&&v&&typeof v=="object"&&v.outlets===void 0){if(!dl(f,v,u))return h;s+=2}else{if(!dl(f,{},u))return h;s++}a++}return{match:!0,pathIndex:a,commandIndex:s}}function ss(n,r,i){let s=n.segments.slice(0,r),a=0;for(;a<i.length;){let h=i[a];if(un(h)){let f=_f(h.outlets);return new W(s,f)}if(a===0&&vr(i[0])){let f=n.segments[r];s.push(new Be(f.path,ul(i[0]))),a++;continue}let u=un(h)?h.outlets[V]:`${h}`,m=a<i.length-1?i[a+1]:null;u&&m&&vr(m)?(s.push(new Be(u,ul(m))),a+=2):(s.push(new Be(u,{})),a++)}return new W(s,{})}function _f(n){let r={};return Object.entries(n).forEach(([i,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(r[i]=ss(new W([],{}),0,s))}),r}function ul(n){let r={};return Object.entries(n).forEach(([i,s])=>r[i]=`${s}`),r}function dl(n,r,i){return n==i.path&&re(r,i.parameters)}var an="imperative",vt=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(vt||{}),Zt=class{constructor(r,i){this.id=r,this.url=i}},dn=class extends Zt{constructor(r,i,s="imperative",a=null){super(r,i),this.type=vt.NavigationStart,this.navigationTrigger=s,this.restoredState=a}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},Ue=class extends Zt{constructor(r,i,s){super(r,i),this.urlAfterRedirects=s,this.type=vt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Lt=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(Lt||{}),as=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(as||{}),me=class extends Zt{constructor(r,i,s,a){super(r,i),this.reason=s,this.code=a,this.type=vt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ze=class extends Zt{constructor(r,i,s,a){super(r,i),this.reason=s,this.code=a,this.type=vt.NavigationSkipped}},fn=class extends Zt{constructor(r,i,s,a){super(r,i),this.error=s,this.target=a,this.type=vt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},br=class extends Zt{constructor(r,i,s,a){super(r,i),this.urlAfterRedirects=s,this.state=a,this.type=vt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cs=class extends Zt{constructor(r,i,s,a){super(r,i),this.urlAfterRedirects=s,this.state=a,this.type=vt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ls=class extends Zt{constructor(r,i,s,a,h){super(r,i),this.urlAfterRedirects=s,this.state=a,this.shouldActivate=h,this.type=vt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},hs=class extends Zt{constructor(r,i,s,a){super(r,i),this.urlAfterRedirects=s,this.state=a,this.type=vt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},us=class extends Zt{constructor(r,i,s,a){super(r,i),this.urlAfterRedirects=s,this.state=a,this.type=vt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ds=class{constructor(r){this.route=r,this.type=vt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},fs=class{constructor(r){this.route=r,this.type=vt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ps=class{constructor(r){this.snapshot=r,this.type=vt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ms=class{constructor(r){this.snapshot=r,this.type=vt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},gs=class{constructor(r){this.snapshot=r,this.type=vt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_s=class{constructor(r){this.snapshot=r,this.type=vt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var pn=class{},yi=class{constructor(r,i){this.url=r,this.navigationBehaviorOptions=i}};function vf(n,r){return n.providers&&!n._injector&&(n._injector=Tc(n.providers,r,`Route: ${n.path}`)),n._injector??r}function Xt(n){return n.outlet||V}function yf(n,r){let i=n.filter(s=>Xt(s)===r);return i.push(...n.filter(s=>Xt(s)!==r)),i}function bn(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let r=n.parent;r;r=r.parent){let i=r.routeConfig;if(i?._loadedInjector)return i._loadedInjector;if(i?._injector)return i._injector}return null}var vs=class{get injector(){return bn(this.route?.snapshot)??this.rootInjector}set injector(r){}constructor(r){this.rootInjector=r,this.outlet=null,this.route=null,this.children=new Tr(this.rootInjector),this.attachRef=null}},Tr=(()=>{class n{constructor(i){this.rootInjector=i,this.contexts=new Map}onChildOutletCreated(i,s){let a=this.getOrCreateContext(i);a.outlet=s,this.contexts.set(i,a)}onChildOutletDestroyed(i){let s=this.getContext(i);s&&(s.outlet=null,s.attachRef=null)}onOutletDeactivated(){let i=this.contexts;return this.contexts=new Map,i}onOutletReAttached(i){this.contexts=i}getOrCreateContext(i){let s=this.getContext(i);return s||(s=new vs(this.rootInjector),this.contexts.set(i,s)),s}getContext(i){return this.contexts.get(i)||null}static{this.\u0275fac=function(s){return new(s||n)(M(ri))}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),wr=class{constructor(r){this._root=r}get root(){return this._root.value}parent(r){let i=this.pathFromRoot(r);return i.length>1?i[i.length-2]:null}children(r){let i=ys(r,this._root);return i?i.children.map(s=>s.value):[]}firstChild(r){let i=ys(r,this._root);return i&&i.children.length>0?i.children[0].value:null}siblings(r){let i=bs(r,this._root);return i.length<2?[]:i[i.length-2].children.map(a=>a.value).filter(a=>a!==r)}pathFromRoot(r){return bs(r,this._root).map(i=>i.value)}};function ys(n,r){if(n===r.value)return r;for(let i of r.children){let s=ys(n,i);if(s)return s}return null}function bs(n,r){if(n===r.value)return[r];for(let i of r.children){let s=bs(n,i);if(s.length)return s.unshift(r),s}return[]}var Ot=class{constructor(r,i){this.value=r,this.children=i}toString(){return`TreeNode(${this.value})`}};function pi(n){let r={};return n&&n.children.forEach(i=>r[i.value.outlet]=i),r}var xr=class extends wr{constructor(r,i){super(r),this.snapshot=i,Ds(this,r)}toString(){return this.snapshot.toString()}};function Dl(n){let r=bf(n),i=new Bt([new Be("",{})]),s=new Bt({}),a=new Bt({}),h=new Bt({}),u=new Bt(""),m=new bi(i,s,h,u,a,V,n,r.root);return m.snapshot=r.root,new xr(new Ot(m,[]),r)}function bf(n){let r={},i={},s={},a="",h=new gi([],r,s,a,i,V,n,null,{});return new kr("",new Ot(h,[]))}var bi=class{constructor(r,i,s,a,h,u,m,f){this.urlSubject=r,this.paramsSubject=i,this.queryParamsSubject=s,this.fragmentSubject=a,this.dataSubject=h,this.outlet=u,this.component=m,this._futureSnapshot=f,this.title=this.dataSubject?.pipe(Z(v=>v[yn]))??S(void 0),this.url=r,this.params=i,this.queryParams=s,this.fragment=a,this.data=h}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(Z(r=>vi(r))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(Z(r=>vi(r))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Cr(n,r,i="emptyOnly"){let s,{routeConfig:a}=n;return r!==null&&(i==="always"||a?.path===""||!r.component&&!r.routeConfig?.loadComponent)?s={params:C(C({},r.params),n.params),data:C(C({},r.data),n.data),resolve:C(C(C(C({},n.data),r.data),a?.data),n._resolvedData)}:s={params:C({},n.params),data:C({},n.data),resolve:C(C({},n.data),n._resolvedData??{})},a&&Pl(a)&&(s.resolve[yn]=a.title),s}var gi=class{get title(){return this.data?.[yn]}constructor(r,i,s,a,h,u,m,f,v){this.url=r,this.params=i,this.queryParams=s,this.fragment=a,this.data=h,this.outlet=u,this.component=m,this.routeConfig=f,this._resolve=v}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=vi(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=vi(this.queryParams),this._queryParamMap}toString(){let r=this.url.map(s=>s.toString()).join("/"),i=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${r}', path:'${i}')`}},kr=class extends wr{constructor(r,i){super(i),this.url=r,Ds(this,i)}toString(){return Sl(this._root)}};function Ds(n,r){r.value._routerState=n,r.children.forEach(i=>Ds(n,i))}function Sl(n){let r=n.children.length>0?` { ${n.children.map(Sl).join(", ")} } `:"";return`${n.value}${r}`}function ts(n){if(n.snapshot){let r=n.snapshot,i=n._futureSnapshot;n.snapshot=i,re(r.queryParams,i.queryParams)||n.queryParamsSubject.next(i.queryParams),r.fragment!==i.fragment&&n.fragmentSubject.next(i.fragment),re(r.params,i.params)||n.paramsSubject.next(i.params),Gd(r.url,i.url)||n.urlSubject.next(i.url),re(r.data,i.data)||n.dataSubject.next(i.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function ws(n,r){let i=re(n.params,r.params)&&Yd(n.url,r.url),s=!n.parent!=!r.parent;return i&&!s&&(!n.parent||ws(n.parent,r.parent))}function Pl(n){return typeof n.title=="string"||n.title===null}var Ss=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=V,this.activateEvents=new Rt,this.deactivateEvents=new Rt,this.attachEvents=new Rt,this.detachEvents=new Rt,this.parentContexts=k(Tr),this.location=k(Ic),this.changeDetector=k(ze),this.inputBinder=k(Ps,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(i){if(i.name){let{firstChange:s,previousValue:a}=i.name;if(s)return;this.isTrackedInParentContexts(a)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(a)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(i){return this.parentContexts.getContext(i)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let i=this.parentContexts.getContext(this.name);i?.route&&(i.attachRef?this.attach(i.attachRef,i.route):this.activateWith(i.route,i.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new et(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new et(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new et(4012,!1);this.location.detach();let i=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(i.instance),i}attach(i,s){this.activated=i,this._activatedRoute=s,this.location.insert(i.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(i.instance)}deactivate(){if(this.activated){let i=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(i)}}activateWith(i,s){if(this.isActivated)throw new et(4013,!1);this._activatedRoute=i;let a=this.location,u=i.snapshot.component,m=this.parentContexts.getOrCreateContext(this.name).children,f=new xs(i,m,a.injector);this.activated=a.createComponent(u,{index:a.length,injector:f,environmentInjector:s}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275dir=Fe({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ui]})}}return n})(),xs=class n{__ngOutletInjector(r){return new n(this.route,this.childContexts,r)}constructor(r,i,s){this.route=r,this.childContexts=i,this.parent=s}get(r,i){return r===bi?this.route:r===Tr?this.childContexts:this.parent.get(r,i)}},Ps=new $("");function wf(n,r,i){let s=mn(n,r._root,i?i._root:void 0);return new xr(s,r)}function mn(n,r,i){if(i&&n.shouldReuseRoute(r.value,i.value.snapshot)){let s=i.value;s._futureSnapshot=r.value;let a=xf(n,r,i);return new Ot(s,a)}else{if(n.shouldAttach(r.value)){let h=n.retrieve(r.value);if(h!==null){let u=h.route;return u.value._futureSnapshot=r.value,u.children=r.children.map(m=>mn(n,m)),u}}let s=Cf(r.value),a=r.children.map(h=>mn(n,h));return new Ot(s,a)}}function xf(n,r,i){return r.children.map(s=>{for(let a of i.children)if(n.shouldReuseRoute(s.value,a.value.snapshot))return mn(n,s,a);return mn(n,s)})}function Cf(n){return new bi(new Bt(n.url),new Bt(n.params),new Bt(n.queryParams),new Bt(n.fragment),new Bt(n.data),n.outlet,n.component,n)}var gn=class{constructor(r,i){this.redirectTo=r,this.navigationBehaviorOptions=i}},Rl="ngNavigationCancelingError";function Ir(n,r){let{redirectTo:i,navigationBehaviorOptions:s}=hn(r)?{redirectTo:r,navigationBehaviorOptions:void 0}:r,a=Ol(!1,Lt.Redirect);return a.url=i,a.navigationBehaviorOptions=s,a}function Ol(n,r){let i=new Error(`NavigationCancelingError: ${n||""}`);return i[Rl]=!0,i.cancellationCode=r,i}function kf(n){return Ll(n)&&hn(n.url)}function Ll(n){return!!n&&n[Rl]}var If=(n,r,i,s)=>Z(a=>(new Cs(r,a.targetRouterState,a.currentRouterState,i,s).activate(n),a)),Cs=class{constructor(r,i,s,a,h){this.routeReuseStrategy=r,this.futureState=i,this.currState=s,this.forwardEvent=a,this.inputBindingEnabled=h}activate(r){let i=this.futureState._root,s=this.currState?this.currState._root:null;this.deactivateChildRoutes(i,s,r),ts(this.futureState.root),this.activateChildRoutes(i,s,r)}deactivateChildRoutes(r,i,s){let a=pi(i);r.children.forEach(h=>{let u=h.value.outlet;this.deactivateRoutes(h,a[u],s),delete a[u]}),Object.values(a).forEach(h=>{this.deactivateRouteAndItsChildren(h,s)})}deactivateRoutes(r,i,s){let a=r.value,h=i?i.value:null;if(a===h)if(a.component){let u=s.getContext(a.outlet);u&&this.deactivateChildRoutes(r,i,u.children)}else this.deactivateChildRoutes(r,i,s);else h&&this.deactivateRouteAndItsChildren(i,s)}deactivateRouteAndItsChildren(r,i){r.value.component&&this.routeReuseStrategy.shouldDetach(r.value.snapshot)?this.detachAndStoreRouteSubtree(r,i):this.deactivateRouteAndOutlet(r,i)}detachAndStoreRouteSubtree(r,i){let s=i.getContext(r.value.outlet),a=s&&r.value.component?s.children:i,h=pi(r);for(let u of Object.values(h))this.deactivateRouteAndItsChildren(u,a);if(s&&s.outlet){let u=s.outlet.detach(),m=s.children.onOutletDeactivated();this.routeReuseStrategy.store(r.value.snapshot,{componentRef:u,route:r,contexts:m})}}deactivateRouteAndOutlet(r,i){let s=i.getContext(r.value.outlet),a=s&&r.value.component?s.children:i,h=pi(r);for(let u of Object.values(h))this.deactivateRouteAndItsChildren(u,a);s&&(s.outlet&&(s.outlet.deactivate(),s.children.onOutletDeactivated()),s.attachRef=null,s.route=null)}activateChildRoutes(r,i,s){let a=pi(i);r.children.forEach(h=>{this.activateRoutes(h,a[h.value.outlet],s),this.forwardEvent(new _s(h.value.snapshot))}),r.children.length&&this.forwardEvent(new ms(r.value.snapshot))}activateRoutes(r,i,s){let a=r.value,h=i?i.value:null;if(ts(a),a===h)if(a.component){let u=s.getOrCreateContext(a.outlet);this.activateChildRoutes(r,i,u.children)}else this.activateChildRoutes(r,i,s);else if(a.component){let u=s.getOrCreateContext(a.outlet);if(this.routeReuseStrategy.shouldAttach(a.snapshot)){let m=this.routeReuseStrategy.retrieve(a.snapshot);this.routeReuseStrategy.store(a.snapshot,null),u.children.onOutletReAttached(m.contexts),u.attachRef=m.componentRef,u.route=m.route.value,u.outlet&&u.outlet.attach(m.componentRef,m.route.value),ts(m.route.value),this.activateChildRoutes(r,null,u.children)}else u.attachRef=null,u.route=a,u.outlet&&u.outlet.activateWith(a,u.injector),this.activateChildRoutes(r,null,u.children)}else this.activateChildRoutes(r,null,s)}},Er=class{constructor(r){this.path=r,this.route=this.path[this.path.length-1]}},_i=class{constructor(r,i){this.component=r,this.route=i}};function Ef(n,r,i){let s=n._root,a=r?r._root:null;return rn(s,a,i,[s.value])}function Tf(n){let r=n.routeConfig?n.routeConfig.canActivateChild:null;return!r||r.length===0?null:{node:n,guards:r}}function xi(n,r){let i=Symbol(),s=r.get(n,i);return s===i?typeof n=="function"&&!vc(n)?n:r.get(n):s}function rn(n,r,i,s,a={canDeactivateChecks:[],canActivateChecks:[]}){let h=pi(r);return n.children.forEach(u=>{Mf(u,h[u.value.outlet],i,s.concat([u.value]),a),delete h[u.value.outlet]}),Object.entries(h).forEach(([u,m])=>cn(m,i.getContext(u),a)),a}function Mf(n,r,i,s,a={canDeactivateChecks:[],canActivateChecks:[]}){let h=n.value,u=r?r.value:null,m=i?i.getContext(n.value.outlet):null;if(u&&h.routeConfig===u.routeConfig){let f=Af(u,h,h.routeConfig.runGuardsAndResolvers);f?a.canActivateChecks.push(new Er(s)):(h.data=u.data,h._resolvedData=u._resolvedData),h.component?rn(n,r,m?m.children:null,s,a):rn(n,r,i,s,a),f&&m&&m.outlet&&m.outlet.isActivated&&a.canDeactivateChecks.push(new _i(m.outlet.component,u))}else u&&cn(r,m,a),a.canActivateChecks.push(new Er(s)),h.component?rn(n,null,m?m.children:null,s,a):rn(n,null,i,s,a);return a}function Af(n,r,i){if(typeof i=="function")return i(n,r);switch(i){case"pathParamsChange":return!je(n.url,r.url);case"pathParamsOrQueryParamsChange":return!je(n.url,r.url)||!re(n.queryParams,r.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ws(n,r)||!re(n.queryParams,r.queryParams);case"paramsChange":default:return!ws(n,r)}}function cn(n,r,i){let s=pi(n),a=n.value;Object.entries(s).forEach(([h,u])=>{a.component?r?cn(u,r.children.getContext(h),i):cn(u,null,i):cn(u,r,i)}),a.component?r&&r.outlet&&r.outlet.isActivated?i.canDeactivateChecks.push(new _i(r.outlet.component,a)):i.canDeactivateChecks.push(new _i(null,a)):i.canDeactivateChecks.push(new _i(null,a))}function wn(n){return typeof n=="function"}function Df(n){return typeof n=="boolean"}function Sf(n){return n&&wn(n.canLoad)}function Pf(n){return n&&wn(n.canActivate)}function Rf(n){return n&&wn(n.canActivateChild)}function Of(n){return n&&wn(n.canDeactivate)}function Lf(n){return n&&wn(n.canMatch)}function Nl(n){return n instanceof dc||n?.name==="EmptyError"}var pr=Symbol("INITIAL_VALUE");function wi(){return Ut(n=>Bi(n.map(r=>r.pipe(ke(1),Hn(pr)))).pipe(Z(r=>{for(let i of r)if(i!==!0){if(i===pr)return pr;if(i===!1||Nf(i))return i}return!0}),Ce(r=>r!==pr),ke(1)))}function Nf(n){return hn(n)||n instanceof gn}function Ff(n,r){return jt(i=>{let{targetSnapshot:s,currentSnapshot:a,guards:{canActivateChecks:h,canDeactivateChecks:u}}=i;return u.length===0&&h.length===0?S(ct(C({},i),{guardsResult:!0})):Vf(u,s,a,n).pipe(jt(m=>m&&Df(m)?zf(s,h,n,r):S(m)),Z(m=>ct(C({},i),{guardsResult:m})))})}function Vf(n,r,i,s){return Dt(n).pipe(jt(a=>$f(a.component,a.route,i,r,s)),Ie(a=>a!==!0,!0))}function zf(n,r,i,s){return Dt(r).pipe(Le(a=>$n(jf(a.route.parent,s),Bf(a.route,s),Zf(n,a.path,i),Uf(n,a.route,i))),Ie(a=>a!==!0,!0))}function Bf(n,r){return n!==null&&r&&r(new gs(n)),S(!0)}function jf(n,r){return n!==null&&r&&r(new ps(n)),S(!0)}function Uf(n,r,i){let s=r.routeConfig?r.routeConfig.canActivate:null;if(!s||s.length===0)return S(!0);let a=s.map(h=>bo(()=>{let u=bn(r)??i,m=xi(h,u),f=Pf(m)?m.canActivate(r,n):Kt(u,()=>m(r,n));return Ae(f).pipe(Ie())}));return S(a).pipe(wi())}function Zf(n,r,i){let s=r[r.length-1],h=r.slice(0,r.length-1).reverse().map(u=>Tf(u)).filter(u=>u!==null).map(u=>bo(()=>{let m=u.guards.map(f=>{let v=bn(u.node)??i,b=xi(f,v),w=Rf(b)?b.canActivateChild(s,n):Kt(v,()=>b(s,n));return Ae(w).pipe(Ie())});return S(m).pipe(wi())}));return S(h).pipe(wi())}function $f(n,r,i,s,a){let h=r&&r.routeConfig?r.routeConfig.canDeactivate:null;if(!h||h.length===0)return S(!0);let u=h.map(m=>{let f=bn(r)??a,v=xi(m,f),b=Of(v)?v.canDeactivate(n,r,i,s):Kt(f,()=>v(n,r,i,s));return Ae(b).pipe(Ie())});return S(u).pipe(wi())}function Hf(n,r,i,s){let a=r.canLoad;if(a===void 0||a.length===0)return S(!0);let h=a.map(u=>{let m=xi(u,n),f=Sf(m)?m.canLoad(r,i):Kt(n,()=>m(r,i));return Ae(f)});return S(h).pipe(wi(),Fl(s))}function Fl(n){return hc(gt(r=>{if(typeof r!="boolean")throw Ir(n,r)}),Z(r=>r===!0))}function Gf(n,r,i,s){let a=r.canMatch;if(!a||a.length===0)return S(!0);let h=a.map(u=>{let m=xi(u,n),f=Lf(m)?m.canMatch(r,i):Kt(n,()=>m(r,i));return Ae(f)});return S(h).pipe(wi(),Fl(s))}var _n=class{constructor(r){this.segmentGroup=r||null}},vn=class extends Error{constructor(r){super(),this.urlTree=r}};function fi(n){return zi(new _n(n))}function Wf(n){return zi(new et(4e3,!1))}function qf(n){return zi(Ol(!1,Lt.GuardRejected))}var ks=class{constructor(r,i){this.urlSerializer=r,this.urlTree=i}lineralizeSegments(r,i){let s=[],a=i.root;for(;;){if(s=s.concat(a.segments),a.numberOfChildren===0)return S(s);if(a.numberOfChildren>1||!a.children[V])return Wf(`${r.redirectTo}`);a=a.children[V]}}applyRedirectCommands(r,i,s,a,h){if(typeof i!="string"){let m=i,{queryParams:f,fragment:v,routeConfig:b,url:w,outlet:P,params:I,data:K,title:R}=a,A=Kt(h,()=>m({params:I,data:K,queryParams:f,fragment:v,routeConfig:b,url:w,outlet:P,title:R}));if(A instanceof ge)throw new vn(A);i=A}let u=this.applyRedirectCreateUrlTree(i,this.urlSerializer.parse(i),r,s);if(i[0]==="/")throw new vn(u);return u}applyRedirectCreateUrlTree(r,i,s,a){let h=this.createSegmentGroup(r,i.root,s,a);return new ge(h,this.createQueryParams(i.queryParams,this.urlTree.queryParams),i.fragment)}createQueryParams(r,i){let s={};return Object.entries(r).forEach(([a,h])=>{if(typeof h=="string"&&h[0]===":"){let m=h.substring(1);s[a]=i[m]}else s[a]=h}),s}createSegmentGroup(r,i,s,a){let h=this.createSegments(r,i.segments,s,a),u={};return Object.entries(i.children).forEach(([m,f])=>{u[m]=this.createSegmentGroup(r,f,s,a)}),new W(h,u)}createSegments(r,i,s,a){return i.map(h=>h.path[0]===":"?this.findPosParam(r,h,a):this.findOrReturn(h,s))}findPosParam(r,i,s){let a=s[i.path.substring(1)];if(!a)throw new et(4001,!1);return a}findOrReturn(r,i){let s=0;for(let a of i){if(a.path===r.path)return i.splice(s),a;s++}return r}},Is={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Kf(n,r,i,s,a){let h=Vl(n,r,i);return h.matched?(s=vf(r,s),Gf(s,r,i,a).pipe(Z(u=>u===!0?h:C({},Is)))):S(h)}function Vl(n,r,i){if(r.path==="**")return Yf(i);if(r.path==="")return r.pathMatch==="full"&&(n.hasChildren()||i.length>0)?C({},Is):{matched:!0,consumedSegments:[],remainingSegments:i,parameters:{},positionalParamSegments:{}};let a=(r.matcher||Hd)(i,n,r);if(!a)return C({},Is);let h={};Object.entries(a.posParams??{}).forEach(([m,f])=>{h[m]=f.path});let u=a.consumed.length>0?C(C({},h),a.consumed[a.consumed.length-1].parameters):h;return{matched:!0,consumedSegments:a.consumed,remainingSegments:i.slice(a.consumed.length),parameters:u,positionalParamSegments:a.posParams??{}}}function Yf(n){return{matched:!0,parameters:n.length>0?_l(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function fl(n,r,i,s){return i.length>0&&Qf(n,i,s)?{segmentGroup:new W(r,Jf(s,new W(i,n.children))),slicedSegments:[]}:i.length===0&&tp(n,i,s)?{segmentGroup:new W(n.segments,Xf(n,i,s,n.children)),slicedSegments:i}:{segmentGroup:new W(n.segments,n.children),slicedSegments:i}}function Xf(n,r,i,s){let a={};for(let h of i)if(Mr(n,r,h)&&!s[Xt(h)]){let u=new W([],{});a[Xt(h)]=u}return C(C({},s),a)}function Jf(n,r){let i={};i[V]=r;for(let s of n)if(s.path===""&&Xt(s)!==V){let a=new W([],{});i[Xt(s)]=a}return i}function Qf(n,r,i){return i.some(s=>Mr(n,r,s)&&Xt(s)!==V)}function tp(n,r,i){return i.some(s=>Mr(n,r,s))}function Mr(n,r,i){return(n.hasChildren()||r.length>0)&&i.pathMatch==="full"?!1:i.path===""}function ep(n,r,i){return r.length===0&&!n.children[i]}var Es=class{};function ip(n,r,i,s,a,h,u="emptyOnly"){return new Ts(n,r,i,s,a,u,h).recognize()}var np=31,Ts=class{constructor(r,i,s,a,h,u,m){this.injector=r,this.configLoader=i,this.rootComponentType=s,this.config=a,this.urlTree=h,this.paramsInheritanceStrategy=u,this.urlSerializer=m,this.applyRedirects=new ks(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(r){return new et(4002,`'${r.segmentGroup}'`)}recognize(){let r=fl(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(r).pipe(Z(({children:i,rootSnapshot:s})=>{let a=new Ot(s,i),h=new kr("",a),u=uf(s,[],this.urlTree.queryParams,this.urlTree.fragment);return u.queryParams=this.urlTree.queryParams,h.url=this.urlSerializer.serialize(u),{state:h,tree:u}}))}match(r){let i=new gi([],Object.freeze({}),Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),V,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,r,V,i).pipe(Z(s=>({children:s,rootSnapshot:i})),ni(s=>{if(s instanceof vn)return this.urlTree=s.urlTree,this.match(s.urlTree.root);throw s instanceof _n?this.noMatchError(s):s}))}processSegmentGroup(r,i,s,a,h){return s.segments.length===0&&s.hasChildren()?this.processChildren(r,i,s,h):this.processSegment(r,i,s,s.segments,a,!0,h).pipe(Z(u=>u instanceof Ot?[u]:[]))}processChildren(r,i,s,a){let h=[];for(let u of Object.keys(s.children))u==="primary"?h.unshift(u):h.push(u);return Dt(h).pipe(Le(u=>{let m=s.children[u],f=yf(i,u);return this.processSegmentGroup(r,f,m,u,a)}),gc((u,m)=>(u.push(...m),u)),wo(null),mc(),jt(u=>{if(u===null)return fi(s);let m=zl(u);return rp(m),S(m)}))}processSegment(r,i,s,a,h,u,m){return Dt(i).pipe(Le(f=>this.processSegmentAgainstRoute(f._injector??r,i,f,s,a,h,u,m).pipe(ni(v=>{if(v instanceof _n)return S(null);throw v}))),Ie(f=>!!f),ni(f=>{if(Nl(f))return ep(s,a,h)?S(new Es):fi(s);throw f}))}processSegmentAgainstRoute(r,i,s,a,h,u,m,f){return Xt(s)!==u&&(u===V||!Mr(a,h,s))?fi(a):s.redirectTo===void 0?this.matchSegmentAgainstRoute(r,a,s,h,u,f):this.allowRedirects&&m?this.expandSegmentAgainstRouteUsingRedirect(r,a,i,s,h,u,f):fi(a)}expandSegmentAgainstRouteUsingRedirect(r,i,s,a,h,u,m){let{matched:f,parameters:v,consumedSegments:b,positionalParamSegments:w,remainingSegments:P}=Vl(i,a,h);if(!f)return fi(i);typeof a.redirectTo=="string"&&a.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>np&&(this.allowRedirects=!1));let I=new gi(h,v,Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,pl(a),Xt(a),a.component??a._loadedComponent??null,a,ml(a)),K=Cr(I,m,this.paramsInheritanceStrategy);I.params=Object.freeze(K.params),I.data=Object.freeze(K.data);let R=this.applyRedirects.applyRedirectCommands(b,a.redirectTo,w,I,r);return this.applyRedirects.lineralizeSegments(a,R).pipe(jt(A=>this.processSegment(r,s,i,A.concat(P),u,!1,m)))}matchSegmentAgainstRoute(r,i,s,a,h,u){let m=Kf(i,s,a,r,this.urlSerializer);return s.path==="**"&&(i.children={}),m.pipe(Ut(f=>f.matched?(r=s._injector??r,this.getChildConfig(r,s,a).pipe(Ut(({routes:v})=>{let b=s._loadedInjector??r,{parameters:w,consumedSegments:P,remainingSegments:I}=f,K=new gi(P,w,Object.freeze(C({},this.urlTree.queryParams)),this.urlTree.fragment,pl(s),Xt(s),s.component??s._loadedComponent??null,s,ml(s)),R=Cr(K,u,this.paramsInheritanceStrategy);K.params=Object.freeze(R.params),K.data=Object.freeze(R.data);let{segmentGroup:A,slicedSegments:q}=fl(i,P,I,v);if(q.length===0&&A.hasChildren())return this.processChildren(b,v,A,K).pipe(Z(G=>new Ot(K,G)));if(v.length===0&&q.length===0)return S(new Ot(K,[]));let yt=Xt(s)===h;return this.processSegment(b,v,A,q,yt?V:h,!0,K).pipe(Z(G=>new Ot(K,G instanceof Ot?[G]:[])))}))):fi(i)))}getChildConfig(r,i,s){return i.children?S({routes:i.children,injector:r}):i.loadChildren?i._loadedRoutes!==void 0?S({routes:i._loadedRoutes,injector:i._loadedInjector}):Hf(r,i,s,this.urlSerializer).pipe(jt(a=>a?this.configLoader.loadChildren(r,i).pipe(gt(h=>{i._loadedRoutes=h.routes,i._loadedInjector=h.injector})):qf(i))):S({routes:[],injector:r})}};function rp(n){n.sort((r,i)=>r.value.outlet===V?-1:i.value.outlet===V?1:r.value.outlet.localeCompare(i.value.outlet))}function op(n){let r=n.value.routeConfig;return r&&r.path===""}function zl(n){let r=[],i=new Set;for(let s of n){if(!op(s)){r.push(s);continue}let a=r.find(h=>s.value.routeConfig===h.value.routeConfig);a!==void 0?(a.children.push(...s.children),i.add(a)):r.push(s)}for(let s of i){let a=zl(s.children);r.push(new Ot(s.value,a))}return r.filter(s=>!i.has(s))}function pl(n){return n.data||{}}function ml(n){return n.resolve||{}}function sp(n,r,i,s,a,h){return jt(u=>ip(n,r,i,s,u.extractedUrl,a,h).pipe(Z(({state:m,tree:f})=>ct(C({},u),{targetSnapshot:m,urlAfterRedirects:f}))))}function ap(n,r){return jt(i=>{let{targetSnapshot:s,guards:{canActivateChecks:a}}=i;if(!a.length)return S(i);let h=new Set(a.map(f=>f.route)),u=new Set;for(let f of h)if(!u.has(f))for(let v of Bl(f))u.add(v);let m=0;return Dt(u).pipe(Le(f=>h.has(f)?cp(f,s,n,r):(f.data=Cr(f,f.parent,n).resolve,S(void 0))),gt(()=>m++),xo(1),jt(f=>m===u.size?S(i):xe))})}function Bl(n){let r=n.children.map(i=>Bl(i)).flat();return[n,...r]}function cp(n,r,i,s){let a=n.routeConfig,h=n._resolve;return a?.title!==void 0&&!Pl(a)&&(h[yn]=a.title),lp(h,n,r,s).pipe(Z(u=>(n._resolvedData=u,n.data=Cr(n,n.parent,i).resolve,null)))}function lp(n,r,i,s){let a=ns(n);if(a.length===0)return S({});let h={};return Dt(a).pipe(jt(u=>hp(n[u],r,i,s).pipe(Ie(),gt(m=>{if(m instanceof gn)throw Ir(new ln,m);h[u]=m}))),xo(1),pc(h),ni(u=>Nl(u)?xe:zi(u)))}function hp(n,r,i,s){let a=bn(r)??s,h=xi(n,a),u=h.resolve?h.resolve(r,i):Kt(a,()=>h(r,i));return Ae(u)}function es(n){return Ut(r=>{let i=n(r);return i?Dt(i).pipe(Z(()=>r)):S(r)})}var jl=(()=>{class n{buildTitle(i){let s,a=i.root;for(;a!==void 0;)s=this.getResolvedTitleForRoute(a)??s,a=a.children.find(h=>h.outlet===V);return s}getResolvedTitleForRoute(i){return i.data[yn]}static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275prov=O({token:n,factory:()=>k(up),providedIn:"root"})}}return n})(),up=(()=>{class n extends jl{constructor(i){super(),this.title=i}updateTitle(i){let s=this.buildTitle(i);s!==void 0&&this.title.setTitle(s)}static{this.\u0275fac=function(s){return new(s||n)(M(cl))}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Rs=new $("",{providedIn:"root",factory:()=>({})}),dp=(()=>{class n{static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275cmp=lt({type:n,selectors:[["ng-component"]],standalone:!0,features:[ft],decls:1,vars:0,template:function(s,a){s&1&&dt(0,"router-outlet")},dependencies:[Ss],encapsulation:2})}}return n})();function Os(n){let r=n.children&&n.children.map(Os),i=r?ct(C({},n),{children:r}):C({},n);return!i.component&&!i.loadComponent&&(r||i.loadChildren)&&i.outlet&&i.outlet!==V&&(i.component=dp),i}var Ls=new $(""),fp=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=k(Oo)}loadComponent(i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return S(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let s=Ae(i.loadComponent()).pipe(Z(Ul),gt(h=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=h}),Ne(()=>{this.componentLoaders.delete(i)})),a=new yo(s,()=>new qt).pipe(vo());return this.componentLoaders.set(i,a),a}loadChildren(i,s){if(this.childrenLoaders.get(s))return this.childrenLoaders.get(s);if(s._loadedRoutes)return S({routes:s._loadedRoutes,injector:s._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(s);let h=pp(s,this.compiler,i,this.onLoadEndListener).pipe(Ne(()=>{this.childrenLoaders.delete(s)})),u=new yo(h,()=>new qt).pipe(vo());return this.childrenLoaders.set(s,u),u}static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function pp(n,r,i,s){return Ae(n.loadChildren()).pipe(Z(Ul),jt(a=>a instanceof Ec||Array.isArray(a)?S(a):Dt(r.compileModuleAsync(a))),Z(a=>{s&&s(n);let h,u,m=!1;return Array.isArray(a)?(u=a,m=!0):(h=a.create(i).injector,u=h.get(Ls,[],{optional:!0,self:!0}).flat()),{routes:u.map(Os),injector:h}}))}function mp(n){return n&&typeof n=="object"&&"default"in n}function Ul(n){return mp(n)?n.default:n}var Ns=(()=>{class n{static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275prov=O({token:n,factory:()=>k(gp),providedIn:"root"})}}return n})(),gp=(()=>{class n{shouldProcessUrl(i){return!0}extract(i){return i}merge(i,s){return i}static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),_p=new $("");var vp=new $(""),yp=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new qt,this.transitionAbortSubject=new qt,this.configLoader=k(fp),this.environmentInjector=k(ri),this.urlSerializer=k(As),this.rootContexts=k(Tr),this.location=k(ir),this.inputBindingEnabled=k(Ps,{optional:!0})!==null,this.titleStrategy=k(jl),this.options=k(Rs,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=k(Ns),this.createViewTransition=k(_p,{optional:!0}),this.navigationErrorHandler=k(vp,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>S(void 0),this.rootComponentType=null;let i=a=>this.events.next(new ds(a)),s=a=>this.events.next(new fs(a));this.configLoader.onLoadEndListener=s,this.configLoader.onLoadStartListener=i}complete(){this.transitions?.complete()}handleNavigationRequest(i){let s=++this.navigationId;this.transitions?.next(ct(C(C({},this.transitions.value),i),{id:s}))}setupNavigations(i,s,a){return this.transitions=new Bt({id:0,currentUrlTree:s,currentRawUrl:s,extractedUrl:this.urlHandlingStrategy.extract(s),urlAfterRedirects:this.urlHandlingStrategy.extract(s),rawUrl:s,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:an,restoredState:null,currentSnapshot:a.snapshot,targetSnapshot:null,currentRouterState:a,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ce(h=>h.id!==0),Z(h=>ct(C({},h),{extractedUrl:this.urlHandlingStrategy.extract(h.rawUrl)})),Ut(h=>{let u=!1,m=!1;return S(h).pipe(Ut(f=>{if(this.navigationId>h.id)return this.cancelNavigationTransition(h,"",Lt.SupersededByNewNavigation),xe;this.currentTransition=h,this.currentNavigation={id:f.id,initialUrl:f.rawUrl,extractedUrl:f.extractedUrl,targetBrowserUrl:typeof f.extras.browserUrl=="string"?this.urlSerializer.parse(f.extras.browserUrl):f.extras.browserUrl,trigger:f.source,extras:f.extras,previousNavigation:this.lastSuccessfulNavigation?ct(C({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let v=!i.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),b=f.extras.onSameUrlNavigation??i.onSameUrlNavigation;if(!v&&b!=="reload"){let w="";return this.events.next(new Ze(f.id,this.urlSerializer.serialize(f.rawUrl),w,as.IgnoredSameUrlNavigation)),f.resolve(!1),xe}if(this.urlHandlingStrategy.shouldProcessUrl(f.rawUrl))return S(f).pipe(Ut(w=>{let P=this.transitions?.getValue();return this.events.next(new dn(w.id,this.urlSerializer.serialize(w.extractedUrl),w.source,w.restoredState)),P!==this.transitions?.getValue()?xe:Promise.resolve(w)}),sp(this.environmentInjector,this.configLoader,this.rootComponentType,i.config,this.urlSerializer,this.paramsInheritanceStrategy),gt(w=>{h.targetSnapshot=w.targetSnapshot,h.urlAfterRedirects=w.urlAfterRedirects,this.currentNavigation=ct(C({},this.currentNavigation),{finalUrl:w.urlAfterRedirects});let P=new br(w.id,this.urlSerializer.serialize(w.extractedUrl),this.urlSerializer.serialize(w.urlAfterRedirects),w.targetSnapshot);this.events.next(P)}));if(v&&this.urlHandlingStrategy.shouldProcessUrl(f.currentRawUrl)){let{id:w,extractedUrl:P,source:I,restoredState:K,extras:R}=f,A=new dn(w,this.urlSerializer.serialize(P),I,K);this.events.next(A);let q=Dl(this.rootComponentType).snapshot;return this.currentTransition=h=ct(C({},f),{targetSnapshot:q,urlAfterRedirects:P,extras:ct(C({},R),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=P,S(h)}else{let w="";return this.events.next(new Ze(f.id,this.urlSerializer.serialize(f.extractedUrl),w,as.IgnoredByUrlHandlingStrategy)),f.resolve(!1),xe}}),gt(f=>{let v=new cs(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(v)}),Z(f=>(this.currentTransition=h=ct(C({},f),{guards:Ef(f.targetSnapshot,f.currentSnapshot,this.rootContexts)}),h)),Ff(this.environmentInjector,f=>this.events.next(f)),gt(f=>{if(h.guardsResult=f.guardsResult,f.guardsResult&&typeof f.guardsResult!="boolean")throw Ir(this.urlSerializer,f.guardsResult);let v=new ls(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot,!!f.guardsResult);this.events.next(v)}),Ce(f=>f.guardsResult?!0:(this.cancelNavigationTransition(f,"",Lt.GuardRejected),!1)),es(f=>{if(f.guards.canActivateChecks.length)return S(f).pipe(gt(v=>{let b=new hs(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(b)}),Ut(v=>{let b=!1;return S(v).pipe(ap(this.paramsInheritanceStrategy,this.environmentInjector),gt({next:()=>b=!0,complete:()=>{b||this.cancelNavigationTransition(v,"",Lt.NoDataFromResolver)}}))}),gt(v=>{let b=new us(v.id,this.urlSerializer.serialize(v.extractedUrl),this.urlSerializer.serialize(v.urlAfterRedirects),v.targetSnapshot);this.events.next(b)}))}),es(f=>{let v=b=>{let w=[];b.routeConfig?.loadComponent&&!b.routeConfig._loadedComponent&&w.push(this.configLoader.loadComponent(b.routeConfig).pipe(gt(P=>{b.component=P}),Z(()=>{})));for(let P of b.children)w.push(...v(P));return w};return Bi(v(f.targetSnapshot.root)).pipe(wo(null),ke(1))}),es(()=>this.afterPreactivation()),Ut(()=>{let{currentSnapshot:f,targetSnapshot:v}=h,b=this.createViewTransition?.(this.environmentInjector,f.root,v.root);return b?Dt(b).pipe(Z(()=>h)):S(h)}),Z(f=>{let v=wf(i.routeReuseStrategy,f.targetSnapshot,f.currentRouterState);return this.currentTransition=h=ct(C({},f),{targetRouterState:v}),this.currentNavigation.targetRouterState=v,h}),gt(()=>{this.events.next(new pn)}),If(this.rootContexts,i.routeReuseStrategy,f=>this.events.next(f),this.inputBindingEnabled),ke(1),gt({next:f=>{u=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new Ue(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects))),this.titleStrategy?.updateTitle(f.targetRouterState.snapshot),f.resolve(!0)},complete:()=>{u=!0}}),Gn(this.transitionAbortSubject.pipe(gt(f=>{throw f}))),Ne(()=>{!u&&!m&&this.cancelNavigationTransition(h,"",Lt.SupersededByNewNavigation),this.currentTransition?.id===h.id&&(this.currentNavigation=null,this.currentTransition=null)}),ni(f=>{if(m=!0,Ll(f))this.events.next(new me(h.id,this.urlSerializer.serialize(h.extractedUrl),f.message,f.cancellationCode)),kf(f)?this.events.next(new yi(f.url,f.navigationBehaviorOptions)):h.resolve(!1);else{let v=new fn(h.id,this.urlSerializer.serialize(h.extractedUrl),f,h.targetSnapshot??void 0);try{let b=Kt(this.environmentInjector,()=>this.navigationErrorHandler?.(v));if(b instanceof gn){let{message:w,cancellationCode:P}=Ir(this.urlSerializer,b);this.events.next(new me(h.id,this.urlSerializer.serialize(h.extractedUrl),w,P)),this.events.next(new yi(b.redirectTo,b.navigationBehaviorOptions))}else{this.events.next(v);let w=i.errorHandler(f);h.resolve(!!w)}}catch(b){this.options.resolveNavigationPromiseOnError?h.resolve(!1):h.reject(b)}}return xe}))}))}cancelNavigationTransition(i,s,a){let h=new me(i.id,this.urlSerializer.serialize(i.extractedUrl),s,a);this.events.next(h),i.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let i=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),s=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return i.toString()!==s?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function bp(n){return n!==an}var wp=(()=>{class n{static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275prov=O({token:n,factory:()=>k(xp),providedIn:"root"})}}return n})(),Ms=class{shouldDetach(r){return!1}store(r,i){}shouldAttach(r){return!1}retrieve(r){return null}shouldReuseRoute(r,i){return r.routeConfig===i.routeConfig}},xp=(()=>{class n extends Ms{static{this.\u0275fac=(()=>{let i;return function(a){return(i||(i=Wn(n)))(a||n)}})()}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Zl=(()=>{class n{static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275prov=O({token:n,factory:()=>k(Cp),providedIn:"root"})}}return n})(),Cp=(()=>{class n extends Zl{constructor(){super(...arguments),this.location=k(ir),this.urlSerializer=k(As),this.options=k(Rs,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=k(Ns),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new ge,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=Dl(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(i){return this.location.subscribe(s=>{s.type==="popstate"&&i(s.url,s.state)})}handleRouterEvent(i,s){if(i instanceof dn)this.stateMemento=this.createStateMemento();else if(i instanceof Ze)this.rawUrlTree=s.initialUrl;else if(i instanceof br){if(this.urlUpdateStrategy==="eager"&&!s.extras.skipLocationChange){let a=this.urlHandlingStrategy.merge(s.finalUrl,s.initialUrl);this.setBrowserUrl(s.targetBrowserUrl??a,s)}}else i instanceof pn?(this.currentUrlTree=s.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(s.finalUrl,s.initialUrl),this.routerState=s.targetRouterState,this.urlUpdateStrategy==="deferred"&&!s.extras.skipLocationChange&&this.setBrowserUrl(s.targetBrowserUrl??this.rawUrlTree,s)):i instanceof me&&(i.code===Lt.GuardRejected||i.code===Lt.NoDataFromResolver)?this.restoreHistory(s):i instanceof fn?this.restoreHistory(s,!0):i instanceof Ue&&(this.lastSuccessfulId=i.id,this.currentPageId=this.browserPageId)}setBrowserUrl(i,s){let a=i instanceof ge?this.urlSerializer.serialize(i):i;if(this.location.isCurrentPathEqualTo(a)||s.extras.replaceUrl){let h=this.browserPageId,u=C(C({},s.extras.state),this.generateNgRouterState(s.id,h));this.location.replaceState(a,"",u)}else{let h=C(C({},s.extras.state),this.generateNgRouterState(s.id,this.browserPageId+1));this.location.go(a,"",h)}}restoreHistory(i,s=!1){if(this.canceledNavigationResolution==="computed"){let a=this.browserPageId,h=this.currentPageId-a;h!==0?this.location.historyGo(h):this.currentUrlTree===i.finalUrl&&h===0&&(this.resetState(i),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(s&&this.resetState(i),this.resetUrlToCurrentUrlTree())}resetState(i){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,i.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(i,s){return this.canceledNavigationResolution==="computed"?{navigationId:i,\u0275routerPageId:s}:{navigationId:i}}static{this.\u0275fac=(()=>{let i;return function(a){return(i||(i=Wn(n)))(a||n)}})()}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),on=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(on||{});function kp(n,r){n.events.pipe(Ce(i=>i instanceof Ue||i instanceof me||i instanceof fn||i instanceof Ze),Z(i=>i instanceof Ue||i instanceof Ze?on.COMPLETE:(i instanceof me?i.code===Lt.Redirect||i.code===Lt.SupersededByNewNavigation:!1)?on.REDIRECTING:on.FAILED),Ce(i=>i!==on.REDIRECTING),ke(1)).subscribe(()=>{r()})}function Ip(n){throw n}var Ep={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Tp={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},$l=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=k(tr),this.stateManager=k(Zl),this.options=k(Rs,{optional:!0})||{},this.pendingTasks=k(Zi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=k(yp),this.urlSerializer=k(As),this.location=k(ir),this.urlHandlingStrategy=k(Ns),this._events=new qt,this.errorHandler=this.options.errorHandler||Ip,this.navigated=!1,this.routeReuseStrategy=k(wp),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=k(Ls,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!k(Ps,{optional:!0}),this.eventsSubscription=new lc,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:i=>{this.console.warn(i)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let i=this.navigationTransitions.events.subscribe(s=>{try{let a=this.navigationTransitions.currentTransition,h=this.navigationTransitions.currentNavigation;if(a!==null&&h!==null){if(this.stateManager.handleRouterEvent(s,h),s instanceof me&&s.code!==Lt.Redirect&&s.code!==Lt.SupersededByNewNavigation)this.navigated=!0;else if(s instanceof Ue)this.navigated=!0;else if(s instanceof yi){let u=s.navigationBehaviorOptions,m=this.urlHandlingStrategy.merge(s.url,a.currentRawUrl),f=C({browserUrl:a.extras.browserUrl,info:a.extras.info,skipLocationChange:a.extras.skipLocationChange,replaceUrl:a.extras.replaceUrl||this.urlUpdateStrategy==="eager"||bp(a.source)},u);this.scheduleNavigation(m,an,null,f,{resolve:a.resolve,reject:a.reject,promise:a.promise})}}Ap(s)&&this._events.next(s)}catch(a){this.navigationTransitions.transitionAbortSubject.next(a)}});this.eventsSubscription.add(i)}resetRootComponentType(i){this.routerState.root.component=i,this.navigationTransitions.rootComponentType=i}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),an,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((i,s)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(i,"popstate",s)},0)})}navigateToSyncWithBrowser(i,s,a){let h={replaceUrl:!0},u=a?.navigationId?a:null;if(a){let f=C({},a);delete f.navigationId,delete f.\u0275routerPageId,Object.keys(f).length!==0&&(h.state=f)}let m=this.parseUrl(i);this.scheduleNavigation(m,s,u,h)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(i){this.config=i.map(Os),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(i,s={}){let{relativeTo:a,queryParams:h,fragment:u,queryParamsHandling:m,preserveFragment:f}=s,v=f?this.currentUrlTree.fragment:u,b=null;switch(m??this.options.defaultQueryParamsHandling){case"merge":b=C(C({},this.currentUrlTree.queryParams),h);break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=h||null}b!==null&&(b=this.removeEmptyProps(b));let w;try{let P=a?a.snapshot:this.routerState.snapshot.root;w=El(P)}catch{(typeof i[0]!="string"||i[0][0]!=="/")&&(i=[]),w=this.currentUrlTree.root}return Tl(w,i,b,v??null)}navigateByUrl(i,s={skipLocationChange:!1}){let a=hn(i)?i:this.parseUrl(i),h=this.urlHandlingStrategy.merge(a,this.rawUrlTree);return this.scheduleNavigation(h,an,null,s)}navigate(i,s={skipLocationChange:!1}){return Mp(i),this.navigateByUrl(this.createUrlTree(i,s),s)}serializeUrl(i){return this.urlSerializer.serialize(i)}parseUrl(i){try{return this.urlSerializer.parse(i)}catch{return this.urlSerializer.parse("/")}}isActive(i,s){let a;if(s===!0?a=C({},Ep):s===!1?a=C({},Tp):a=s,hn(i))return ll(this.currentUrlTree,i,a);let h=this.parseUrl(i);return ll(this.currentUrlTree,h,a)}removeEmptyProps(i){return Object.entries(i).reduce((s,[a,h])=>(h!=null&&(s[a]=h),s),{})}scheduleNavigation(i,s,a,h,u){if(this.disposed)return Promise.resolve(!1);let m,f,v;u?(m=u.resolve,f=u.reject,v=u.promise):v=new Promise((w,P)=>{m=w,f=P});let b=this.pendingTasks.add();return kp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(b))}),this.navigationTransitions.handleNavigationRequest({source:s,restoredState:a,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:i,extras:h,resolve:m,reject:f,promise:v,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),v.catch(w=>Promise.reject(w))}static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Mp(n){for(let r=0;r<n.length;r++)if(n[r]==null)throw new et(4008,!1)}function Ap(n){return!(n instanceof pn)&&!(n instanceof yi)}var Dp=new $("");function Hl(n,...r){return Ve([{provide:Ls,multi:!0,useValue:n},[],{provide:bi,useFactory:Sp,deps:[$l]},{provide:Ro,multi:!0,useFactory:Pp},r.map(i=>i.\u0275providers)])}function Sp(n){return n.routerState.root}function Pp(){let n=k(Eo);return r=>{let i=n.get(er);if(r!==i.components[0])return;let s=n.get($l),a=n.get(Rp);n.get(Op)===1&&s.initialNavigation(),n.get(Lp,null,ko.Optional)?.setUpPreloading(),n.get(Dp,null,ko.Optional)?.init(),s.resetRootComponentType(i.componentTypes[0]),a.closed||(a.next(),a.complete(),a.unsubscribe())}}var Rp=new $("",{factory:()=>new qt}),Op=new $("",{providedIn:"root",factory:()=>1});var Lp=new $("");var Gl=[];var Np="@",Fp=(()=>{class n{constructor(i,s,a,h,u){this.doc=i,this.delegate=s,this.zone=a,this.animationType=h,this.moduleImpl=u,this._rendererFactoryPromise=null,this.scheduler=k(kc,{optional:!0}),this.loadingSchedulerFn=k(Vp,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let i=()=>this.moduleImpl??import("./chunk-Q532NWJV.js").then(a=>a),s;return this.loadingSchedulerFn?s=this.loadingSchedulerFn(i):s=i(),s.catch(a=>{throw new et(5300,!1)}).then(({\u0275createEngine:a,\u0275AnimationRendererFactory:h})=>{this._engine=a(this.animationType,this.doc);let u=new h(this.delegate,this._engine,this.zone);return this.delegate=u,u})}createRenderer(i,s){let a=this.delegate.createRenderer(i,s);if(a.\u0275type===0)return a;typeof a.throwOnSyntheticProps=="boolean"&&(a.throwOnSyntheticProps=!1);let h=new Fs(a);return s?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(u=>{let m=u.createRenderer(i,s);h.use(m),this.scheduler?.notify(10)}).catch(u=>{h.use(a)}),h}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(s){Mo()}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac})}}return n})(),Fs=class{constructor(r){this.delegate=r,this.replay=[],this.\u0275type=1}use(r){if(this.delegate=r,this.replay!==null){for(let i of this.replay)i(r);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(r,i){return this.delegate.createElement(r,i)}createComment(r){return this.delegate.createComment(r)}createText(r){return this.delegate.createText(r)}get destroyNode(){return this.delegate.destroyNode}appendChild(r,i){this.delegate.appendChild(r,i)}insertBefore(r,i,s,a){this.delegate.insertBefore(r,i,s,a)}removeChild(r,i,s){this.delegate.removeChild(r,i,s)}selectRootElement(r,i){return this.delegate.selectRootElement(r,i)}parentNode(r){return this.delegate.parentNode(r)}nextSibling(r){return this.delegate.nextSibling(r)}setAttribute(r,i,s,a){this.delegate.setAttribute(r,i,s,a)}removeAttribute(r,i,s){this.delegate.removeAttribute(r,i,s)}addClass(r,i){this.delegate.addClass(r,i)}removeClass(r,i){this.delegate.removeClass(r,i)}setStyle(r,i,s,a){this.delegate.setStyle(r,i,s,a)}removeStyle(r,i,s){this.delegate.removeStyle(r,i,s)}setProperty(r,i,s){this.shouldReplay(i)&&this.replay.push(a=>a.setProperty(r,i,s)),this.delegate.setProperty(r,i,s)}setValue(r,i){this.delegate.setValue(r,i)}listen(r,i,s){return this.shouldReplay(i)&&this.replay.push(a=>a.listen(r,i,s)),this.delegate.listen(r,i,s)}shouldReplay(r){return this.replay!==null&&r.startsWith(Np)}},Vp=new $("");function Wl(n="animations"){return Ao("NgAsyncAnimations"),Ve([{provide:Yn,useFactory:(r,i,s)=>new Fp(r,i,s,n),deps:[pt,ur,ht]},{provide:ai,useValue:n==="noop"?"NoopAnimations":"BrowserAnimations"}])}var ql={providers:[Pc({eventCoalescing:!0}),Hl(Gl),Wl()]};var Kl=new $("");var Yl=new $("");var Bp={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},e_=ct(C({},Bp),{"[class.ng-submitted]":"isSubmitted"});var Vs;try{Vs=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Vs=!1}var $e=(()=>{class n{constructor(i){this._platformId=i,this.isBrowser=this._platformId?Bc(this._platformId):typeof document=="object"&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!!(window.chrome||Vs)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static{this.\u0275fac=function(s){return new(s||n)(M(fe))}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var xn;function jp(){if(xn==null&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>xn=!0}))}finally{xn=xn||!1}return xn}function zs(n){return jp()?n:!!n.capture}function Xl(n){return n.composedPath?n.composedPath()[0]:n.target}function Jl(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function js(n){return Array.isArray(n)?n:[n]}function Us(n){return n instanceof de?n.nativeElement:n}var Ql=new Set,He,Up=(()=>{class n{constructor(i,s){this._platform=i,this._nonce=s,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):$p}matchMedia(i){return(this._platform.WEBKIT||this._platform.BLINK)&&Zp(i,this._nonce),this._matchMedia(i)}static{this.\u0275fac=function(s){return new(s||n)(M($e),M($i,8))}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Zp(n,r){if(!Ql.has(n))try{He||(He=document.createElement("style"),r&&He.setAttribute("nonce",r),He.setAttribute("type","text/css"),document.head.appendChild(He)),He.sheet&&(He.sheet.insertRule(`@media ${n} {body{ }}`,0),Ql.add(n))}catch(i){console.error(i)}}function $p(n){return{matches:n==="all"||n==="",media:n,addListener:()=>{},removeListener:()=>{}}}var eh=(()=>{class n{constructor(i,s){this._mediaMatcher=i,this._zone=s,this._queries=new Map,this._destroySubject=new qt}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(i){return th(js(i)).some(a=>this._registerQuery(a).mql.matches)}observe(i){let a=th(js(i)).map(u=>this._registerQuery(u).observable),h=Bi(a);return h=$n(h.pipe(ke(1)),h.pipe(_c(1),fc(0))),h.pipe(Z(u=>{let m={matches:!1,breakpoints:{}};return u.forEach(({matches:f,query:v})=>{m.matches=m.matches||f,m.breakpoints[v]=f}),m}))}_registerQuery(i){if(this._queries.has(i))return this._queries.get(i);let s=this._mediaMatcher.matchMedia(i),h={observable:new Vi(u=>{let m=f=>this._zone.run(()=>u.next(f));return s.addListener(m),()=>{s.removeListener(m)}}).pipe(Hn(s),Z(({matches:u})=>({query:i,matches:u})),Gn(this._destroySubject)),mql:s};return this._queries.set(i,h),h}static{this.\u0275fac=function(s){return new(s||n)(M(Up),M(ht))}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function th(n){return n.map(r=>r.split(",")).reduce((r,i)=>r.concat(i)).map(r=>r.trim())}function rh(n){return n.buttons===0||n.detail===0}function oh(n){let r=n.touches&&n.touches[0]||n.changedTouches&&n.changedTouches[0];return!!r&&r.identifier===-1&&(r.radiusX==null||r.radiusX===1)&&(r.radiusY==null||r.radiusY===1)}var Ge=function(n){return n[n.NONE=0]="NONE",n[n.BLACK_ON_WHITE=1]="BLACK_ON_WHITE",n[n.WHITE_ON_BLACK=2]="WHITE_ON_BLACK",n}(Ge||{}),ih="cdk-high-contrast-black-on-white",nh="cdk-high-contrast-white-on-black",Zs="cdk-high-contrast-active",sh=(()=>{class n{constructor(i,s){this._platform=i,this._document=s,this._breakpointSubscription=k(eh).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return Ge.NONE;let i=this._document.createElement("div");i.style.backgroundColor="rgb(1,2,3)",i.style.position="absolute",this._document.body.appendChild(i);let s=this._document.defaultView||window,a=s&&s.getComputedStyle?s.getComputedStyle(i):null,h=(a&&a.backgroundColor||"").replace(/ /g,"");switch(i.remove(),h){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return Ge.WHITE_ON_BLACK;case"rgb(255,255,255)":case"rgb(255,250,239)":return Ge.BLACK_ON_WHITE}return Ge.NONE}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){let i=this._document.body.classList;i.remove(Zs,ih,nh),this._hasCheckedHighContrastMode=!0;let s=this.getHighContrastMode();s===Ge.BLACK_ON_WHITE?i.add(Zs,ih):s===Ge.WHITE_ON_BLACK&&i.add(Zs,nh)}}static{this.\u0275fac=function(s){return new(s||n)(M($e),M(pt))}}static{this.\u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var $s=(()=>{class n{static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275mod=Pt({type:n})}static{this.\u0275inj=St({})}}return n})();var Gp=["mat-internal-form-field",""],Wp=["*"];function qp(){return!0}var Kp=new $("mat-sanity-checks",{providedIn:"root",factory:qp}),qs=(()=>{class n{constructor(i,s,a){this._sanityChecks=s,this._document=a,this._hasDoneGlobalChecks=!1,i._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(i){return Jl()?!1:typeof this._sanityChecks=="boolean"?this._sanityChecks:!!this._sanityChecks[i]}static{this.\u0275fac=function(s){return new(s||n)(M(sh),M(Kp,8),M(pt))}}static{this.\u0275mod=Pt({type:n})}static{this.\u0275inj=St({imports:[$s,$s]})}}return n})();var $t=function(n){return n[n.FADING_IN=0]="FADING_IN",n[n.VISIBLE=1]="VISIBLE",n[n.FADING_OUT=2]="FADING_OUT",n[n.HIDDEN=3]="HIDDEN",n}($t||{}),Hs=class{constructor(r,i,s,a=!1){this._renderer=r,this.element=i,this.config=s,this._animationForciblyDisabledThroughCss=a,this.state=$t.HIDDEN}fadeOut(){this._renderer.fadeOutRipple(this)}},ah=zs({passive:!0,capture:!0}),Gs=class{constructor(){this._events=new Map,this._delegateEventHandler=r=>{let i=Xl(r);i&&this._events.get(r.type)?.forEach((s,a)=>{(a===i||a.contains(i))&&s.forEach(h=>h.handleEvent(r))})}}addHandler(r,i,s,a){let h=this._events.get(i);if(h){let u=h.get(s);u?u.add(a):h.set(s,new Set([a]))}else this._events.set(i,new Map([[s,new Set([a])]])),r.runOutsideAngular(()=>{document.addEventListener(i,this._delegateEventHandler,ah)})}removeHandler(r,i,s){let a=this._events.get(r);if(!a)return;let h=a.get(i);h&&(h.delete(s),h.size===0&&a.delete(i),a.size===0&&(this._events.delete(r),document.removeEventListener(r,this._delegateEventHandler,ah)))}},ch={enterDuration:225,exitDuration:150},Yp=800,lh=zs({passive:!0,capture:!0}),hh=["mousedown","touchstart"],uh=["mouseup","mouseleave","touchend","touchcancel"],Ws=class n{static{this._eventManager=new Gs}constructor(r,i,s,a){this._target=r,this._ngZone=i,this._platform=a,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,a.isBrowser&&(this._containerElement=Us(s))}fadeInRipple(r,i,s={}){let a=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),h=C(C({},ch),s.animation);s.centered&&(r=a.left+a.width/2,i=a.top+a.height/2);let u=s.radius||Xp(r,i,a),m=r-a.left,f=i-a.top,v=h.enterDuration,b=document.createElement("div");b.classList.add("mat-ripple-element"),b.style.left=`${m-u}px`,b.style.top=`${f-u}px`,b.style.height=`${u*2}px`,b.style.width=`${u*2}px`,s.color!=null&&(b.style.backgroundColor=s.color),b.style.transitionDuration=`${v}ms`,this._containerElement.appendChild(b);let w=window.getComputedStyle(b),P=w.transitionProperty,I=w.transitionDuration,K=P==="none"||I==="0s"||I==="0s, 0s"||a.width===0&&a.height===0,R=new Hs(this,b,s,K);b.style.transform="scale3d(1, 1, 1)",R.state=$t.FADING_IN,s.persistent||(this._mostRecentTransientRipple=R);let A=null;return!K&&(v||h.exitDuration)&&this._ngZone.runOutsideAngular(()=>{let q=()=>{A&&(A.fallbackTimer=null),clearTimeout(G),this._finishRippleTransition(R)},yt=()=>this._destroyRipple(R),G=setTimeout(yt,v+100);b.addEventListener("transitionend",q),b.addEventListener("transitioncancel",yt),A={onTransitionEnd:q,onTransitionCancel:yt,fallbackTimer:G}}),this._activeRipples.set(R,A),(K||!v)&&this._finishRippleTransition(R),R}fadeOutRipple(r){if(r.state===$t.FADING_OUT||r.state===$t.HIDDEN)return;let i=r.element,s=C(C({},ch),r.config.animation);i.style.transitionDuration=`${s.exitDuration}ms`,i.style.opacity="0",r.state=$t.FADING_OUT,(r._animationForciblyDisabledThroughCss||!s.exitDuration)&&this._finishRippleTransition(r)}fadeOutAll(){this._getActiveRipples().forEach(r=>r.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(r=>{r.config.persistent||r.fadeOut()})}setupTriggerEvents(r){let i=Us(r);!this._platform.isBrowser||!i||i===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=i,hh.forEach(s=>{n._eventManager.addHandler(this._ngZone,s,i,this)}))}handleEvent(r){r.type==="mousedown"?this._onMousedown(r):r.type==="touchstart"?this._onTouchStart(r):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{uh.forEach(i=>{this._triggerElement.addEventListener(i,this,lh)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(r){r.state===$t.FADING_IN?this._startFadeOutTransition(r):r.state===$t.FADING_OUT&&this._destroyRipple(r)}_startFadeOutTransition(r){let i=r===this._mostRecentTransientRipple,{persistent:s}=r.config;r.state=$t.VISIBLE,!s&&(!i||!this._isPointerDown)&&r.fadeOut()}_destroyRipple(r){let i=this._activeRipples.get(r)??null;this._activeRipples.delete(r),this._activeRipples.size||(this._containerRect=null),r===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),r.state=$t.HIDDEN,i!==null&&(r.element.removeEventListener("transitionend",i.onTransitionEnd),r.element.removeEventListener("transitioncancel",i.onTransitionCancel),i.fallbackTimer!==null&&clearTimeout(i.fallbackTimer)),r.element.remove()}_onMousedown(r){let i=rh(r),s=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+Yp;!this._target.rippleDisabled&&!i&&!s&&(this._isPointerDown=!0,this.fadeInRipple(r.clientX,r.clientY,this._target.rippleConfig))}_onTouchStart(r){if(!this._target.rippleDisabled&&!oh(r)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;let i=r.changedTouches;if(i)for(let s=0;s<i.length;s++)this.fadeInRipple(i[s].clientX,i[s].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(r=>{let i=r.state===$t.VISIBLE||r.config.terminateOnPointerUp&&r.state===$t.FADING_IN;!r.config.persistent&&i&&r.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){let r=this._triggerElement;r&&(hh.forEach(i=>n._eventManager.removeHandler(i,r,this)),this._pointerUpEventsRegistered&&(uh.forEach(i=>r.removeEventListener(i,this,lh)),this._pointerUpEventsRegistered=!1))}};function Xp(n,r,i){let s=Math.max(Math.abs(n-i.left),Math.abs(n-i.right)),a=Math.max(Math.abs(r-i.top),Math.abs(r-i.bottom));return Math.sqrt(s*s+a*a)}var Jp=new $("mat-ripple-global-options"),Ks=(()=>{class n{get disabled(){return this._disabled}set disabled(i){i&&this.fadeOutAllNonPersistent(),this._disabled=i,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(i){this._trigger=i,this._setupTriggerEventsIfEnabled()}constructor(i,s,a,h,u){this._elementRef=i,this._animationMode=u,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=h||{},this._rippleRenderer=new Ws(this,s,i,a)}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}fadeOutAllNonPersistent(){this._rippleRenderer.fadeOutAllNonPersistent()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:C(C(C({},this._globalOptions.animation),this._animationMode==="NoopAnimations"?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(i,s=0,a){return typeof i=="number"?this._rippleRenderer.fadeInRipple(i,s,C(C({},this.rippleConfig),a)):this._rippleRenderer.fadeInRipple(0,0,C(C({},this.rippleConfig),i))}static{this.\u0275fac=function(s){return new(s||n)(Mt(de),Mt(ht),Mt($e),Mt(Jp,8),Mt(ai,8))}}static{this.\u0275dir=Fe({type:n,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(s,a){s&2&&li("mat-ripple-unbounded",a.unbounded)},inputs:{color:[0,"matRippleColor","color"],unbounded:[0,"matRippleUnbounded","unbounded"],centered:[0,"matRippleCentered","centered"],radius:[0,"matRippleRadius","radius"],animation:[0,"matRippleAnimation","animation"],disabled:[0,"matRippleDisabled","disabled"],trigger:[0,"matRippleTrigger","trigger"]},exportAs:["matRipple"],standalone:!0})}}return n})();var dh=(()=>{class n{static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275cmp=lt({type:n,selectors:[["div","mat-internal-form-field",""]],hostAttrs:[1,"mdc-form-field","mat-internal-form-field"],hostVars:2,hostBindings:function(s,a){s&2&&li("mdc-form-field--align-end",a.labelPosition==="before")},inputs:{labelPosition:"labelPosition"},standalone:!0,features:[ft],attrs:Gp,ngContentSelectors:Wp,decls:1,vars:0,template:function(s,a){s&1&&(Jn(),Qn(0))},styles:[".mat-internal-form-field{-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;display:inline-flex;align-items:center;vertical-align:middle}.mat-internal-form-field>label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0;order:0}[dir=rtl] .mat-internal-form-field>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px}.mdc-form-field--align-end>label{margin-left:auto;margin-right:0;padding-left:0;padding-right:4px;order:-1}[dir=rtl] .mdc-form-field--align-end .mdc-form-field--align-end label{margin-left:0;margin-right:auto;padding-left:4px;padding-right:0}"],encapsulation:2,changeDetection:0})}}return n})();var Qp=["input"],tm=["label"],em=["*"],im=new $("mat-checkbox-default-options",{providedIn:"root",factory:ph});function ph(){return{color:"accent",clickAction:"check-indeterminate",disabledInteractive:!1}}var xt=function(n){return n[n.Init=0]="Init",n[n.Checked=1]="Checked",n[n.Unchecked=2]="Unchecked",n[n.Indeterminate=3]="Indeterminate",n}(xt||{}),nm={provide:Kl,useExisting:Co(()=>mh),multi:!0},Ys=class{},rm=0,fh=ph(),mh=(()=>{class n{focus(){this._inputElement.nativeElement.focus()}_createChangeEvent(i){let s=new Ys;return s.source=this,s.checked=i,s}_getAnimationTargetElement(){return this._inputElement?.nativeElement}get inputId(){return`${this.id||this._uniqueId}-input`}constructor(i,s,a,h,u,m){this._elementRef=i,this._changeDetectorRef=s,this._ngZone=a,this._animationMode=u,this._options=m,this._animationClasses={uncheckedToChecked:"mdc-checkbox--anim-unchecked-checked",uncheckedToIndeterminate:"mdc-checkbox--anim-unchecked-indeterminate",checkedToUnchecked:"mdc-checkbox--anim-checked-unchecked",checkedToIndeterminate:"mdc-checkbox--anim-checked-indeterminate",indeterminateToChecked:"mdc-checkbox--anim-indeterminate-checked",indeterminateToUnchecked:"mdc-checkbox--anim-indeterminate-unchecked"},this.ariaLabel="",this.ariaLabelledby=null,this.labelPosition="after",this.name=null,this.change=new Rt,this.indeterminateChange=new Rt,this._onTouched=()=>{},this._currentAnimationClass="",this._currentCheckState=xt.Init,this._controlValueAccessorChangeFn=()=>{},this._validatorChangeFn=()=>{},this._checked=!1,this._disabled=!1,this._indeterminate=!1,this._options=this._options||fh,this.color=this._options.color||fh.color,this.tabIndex=parseInt(h)||0,this.id=this._uniqueId=`mat-mdc-checkbox-${++rm}`,this.disabledInteractive=m?.disabledInteractive??!1}ngOnChanges(i){i.required&&this._validatorChangeFn()}ngAfterViewInit(){this._syncIndeterminate(this._indeterminate)}get checked(){return this._checked}set checked(i){i!=this.checked&&(this._checked=i,this._changeDetectorRef.markForCheck())}get disabled(){return this._disabled}set disabled(i){i!==this.disabled&&(this._disabled=i,this._changeDetectorRef.markForCheck())}get indeterminate(){return this._indeterminate}set indeterminate(i){let s=i!=this._indeterminate;this._indeterminate=i,s&&(this._indeterminate?this._transitionCheckState(xt.Indeterminate):this._transitionCheckState(this.checked?xt.Checked:xt.Unchecked),this.indeterminateChange.emit(this._indeterminate)),this._syncIndeterminate(this._indeterminate)}_isRippleDisabled(){return this.disableRipple||this.disabled}_onLabelTextChange(){this._changeDetectorRef.detectChanges()}writeValue(i){this.checked=!!i}registerOnChange(i){this._controlValueAccessorChangeFn=i}registerOnTouched(i){this._onTouched=i}setDisabledState(i){this.disabled=i}validate(i){return this.required&&i.value!==!0?{required:!0}:null}registerOnValidatorChange(i){this._validatorChangeFn=i}_transitionCheckState(i){let s=this._currentCheckState,a=this._getAnimationTargetElement();if(!(s===i||!a)&&(this._currentAnimationClass&&a.classList.remove(this._currentAnimationClass),this._currentAnimationClass=this._getAnimationClassForCheckStateTransition(s,i),this._currentCheckState=i,this._currentAnimationClass.length>0)){a.classList.add(this._currentAnimationClass);let h=this._currentAnimationClass;this._ngZone.runOutsideAngular(()=>{setTimeout(()=>{a.classList.remove(h)},1e3)})}}_emitChangeEvent(){this._controlValueAccessorChangeFn(this.checked),this.change.emit(this._createChangeEvent(this.checked)),this._inputElement&&(this._inputElement.nativeElement.checked=this.checked)}toggle(){this.checked=!this.checked,this._controlValueAccessorChangeFn(this.checked)}_handleInputClick(){let i=this._options?.clickAction;!this.disabled&&i!=="noop"?(this.indeterminate&&i!=="check"&&Promise.resolve().then(()=>{this._indeterminate=!1,this.indeterminateChange.emit(this._indeterminate)}),this._checked=!this._checked,this._transitionCheckState(this._checked?xt.Checked:xt.Unchecked),this._emitChangeEvent()):(this.disabled&&this.disabledInteractive||!this.disabled&&i==="noop")&&(this._inputElement.nativeElement.checked=this.checked,this._inputElement.nativeElement.indeterminate=this.indeterminate)}_onInteractionEvent(i){i.stopPropagation()}_onBlur(){Promise.resolve().then(()=>{this._onTouched(),this._changeDetectorRef.markForCheck()})}_getAnimationClassForCheckStateTransition(i,s){if(this._animationMode==="NoopAnimations")return"";switch(i){case xt.Init:if(s===xt.Checked)return this._animationClasses.uncheckedToChecked;if(s==xt.Indeterminate)return this._checked?this._animationClasses.checkedToIndeterminate:this._animationClasses.uncheckedToIndeterminate;break;case xt.Unchecked:return s===xt.Checked?this._animationClasses.uncheckedToChecked:this._animationClasses.uncheckedToIndeterminate;case xt.Checked:return s===xt.Unchecked?this._animationClasses.checkedToUnchecked:this._animationClasses.checkedToIndeterminate;case xt.Indeterminate:return s===xt.Checked?this._animationClasses.indeterminateToChecked:this._animationClasses.indeterminateToUnchecked}return""}_syncIndeterminate(i){let s=this._inputElement;s&&(s.nativeElement.indeterminate=i)}_onInputClick(){this._handleInputClick()}_onTouchTargetClick(){this._handleInputClick(),this.disabled||this._inputElement.nativeElement.focus()}_preventBubblingFromLabel(i){i.target&&this._labelElement.nativeElement.contains(i.target)&&i.stopPropagation()}static{this.\u0275fac=function(s){return new(s||n)(Mt(de),Mt(ze),Mt(ht),Io("tabindex"),Mt(ai,8),Mt(im,8))}}static{this.\u0275cmp=lt({type:n,selectors:[["mat-checkbox"]],viewQuery:function(s,a){if(s&1&&(Wi(Qp,5),Wi(tm,5),Wi(Ks,5)),s&2){let h;ui(h=di())&&(a._inputElement=h.first),ui(h=di())&&(a._labelElement=h.first),ui(h=di())&&(a.ripple=h.first)}},hostAttrs:[1,"mat-mdc-checkbox"],hostVars:16,hostBindings:function(s,a){s&2&&(Do("id",a.id),ci("tabindex",null)("aria-label",null)("aria-labelledby",null),Mc(a.color?"mat-"+a.color:"mat-accent"),li("_mat-animation-noopable",a._animationMode==="NoopAnimations")("mdc-checkbox--disabled",a.disabled)("mat-mdc-checkbox-disabled",a.disabled)("mat-mdc-checkbox-checked",a.checked)("mat-mdc-checkbox-disabled-interactive",a.disabledInteractive))},inputs:{ariaLabel:[0,"aria-label","ariaLabel"],ariaLabelledby:[0,"aria-labelledby","ariaLabelledby"],ariaDescribedby:[0,"aria-describedby","ariaDescribedby"],id:"id",required:[2,"required","required",Yt],labelPosition:"labelPosition",name:"name",value:"value",disableRipple:[2,"disableRipple","disableRipple",Yt],tabIndex:[2,"tabIndex","tabIndex",i=>i==null?void 0:Oc(i)],color:"color",disabledInteractive:[2,"disabledInteractive","disabledInteractive",Yt],checked:[2,"checked","checked",Yt],disabled:[2,"disabled","disabled",Yt],indeterminate:[2,"indeterminate","indeterminate",Yt]},outputs:{change:"change",indeterminateChange:"indeterminateChange"},exportAs:["matCheckbox"],standalone:!0,features:[ne([nm,{provide:Yl,useExisting:n,multi:!0}]),Gi,Ui,ft],ngContentSelectors:em,decls:15,vars:20,consts:[["checkbox",""],["input",""],["label",""],["mat-internal-form-field","",3,"click","labelPosition"],[1,"mdc-checkbox"],[1,"mat-mdc-checkbox-touch-target",3,"click"],["type","checkbox",1,"mdc-checkbox__native-control",3,"blur","click","change","checked","indeterminate","disabled","id","required","tabIndex"],[1,"mdc-checkbox__ripple"],[1,"mdc-checkbox__background"],["focusable","false","viewBox","0 0 24 24","aria-hidden","true",1,"mdc-checkbox__checkmark"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59",1,"mdc-checkbox__checkmark-path"],[1,"mdc-checkbox__mixedmark"],["mat-ripple","",1,"mat-mdc-checkbox-ripple","mat-mdc-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered"],[1,"mdc-label",3,"for"]],template:function(s,a){if(s&1){let h=Ac();Jn(),X(0,"div",3),hi("click",function(m){return oi(h),si(a._preventBubblingFromLabel(m))}),X(1,"div",4,0)(3,"div",5),hi("click",function(){return oi(h),si(a._onTouchTargetClick())}),it(),X(4,"input",6,1),hi("blur",function(){return oi(h),si(a._onBlur())})("click",function(){return oi(h),si(a._onInputClick())})("change",function(m){return oi(h),si(a._onInteractionEvent(m))}),it(),dt(6,"div",7),X(7,"div",8),bc(),X(8,"svg",9),dt(9,"path",10),it(),wc(),dt(10,"div",11),it(),dt(11,"div",12),it(),X(12,"label",13,2),Qn(14),it()()}if(s&2){let h=Dc(2);bt("labelPosition",a.labelPosition),ut(4),li("mdc-checkbox--selected",a.checked),bt("checked",a.checked)("indeterminate",a.indeterminate)("disabled",a.disabled&&!a.disabledInteractive)("id",a.inputId)("required",a.required)("tabIndex",a.disabled&&!a.disabledInteractive?-1:a.tabIndex),ci("aria-label",a.ariaLabel||null)("aria-labelledby",a.ariaLabelledby)("aria-describedby",a.ariaDescribedby)("aria-checked",a.indeterminate?"mixed":null)("aria-disabled",a.disabled&&a.disabledInteractive?!0:null)("name",a.name)("value",a.value),ut(7),bt("matRippleTrigger",h)("matRippleDisabled",a.disableRipple||a.disabled)("matRippleCentered",!0),ut(),bt("for",a.inputId)}},dependencies:[Ks,dh],styles:['.mdc-checkbox{display:inline-block;position:relative;flex:0 0 18px;box-sizing:content-box;width:18px;height:18px;line-height:0;white-space:nowrap;cursor:pointer;vertical-align:bottom;padding:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);margin:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox:hover .mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:hover .mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control:focus~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-focus-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-unselected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-unselected-pressed-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-hover-state-layer-opacity, var(--mat-app-hover-state-layer-opacity));background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-hover-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-focus-state-layer-opacity, var(--mat-app-focus-state-layer-opacity));background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox .mdc-checkbox__native-control:focus:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-focus-state-layer-color, var(--mat-app-primary))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mdc-checkbox__ripple{opacity:var(--mdc-checkbox-selected-pressed-state-layer-opacity, var(--mat-app-pressed-state-layer-opacity));background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox:active .mdc-checkbox__native-control:checked~.mat-mdc-checkbox-ripple .mat-ripple-element{background-color:var(--mdc-checkbox-selected-pressed-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mat-mdc-checkbox-ripple .mat-ripple-element,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control~.mdc-checkbox__ripple{background-color:var(--mdc-checkbox-unselected-hover-state-layer-color, var(--mat-app-on-surface))}.mdc-checkbox .mdc-checkbox__native-control{position:absolute;margin:0;padding:0;opacity:0;cursor:inherit;width:var(--mdc-checkbox-state-layer-size, 40px);height:var(--mdc-checkbox-state-layer-size, 40px);top:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);right:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - var(--mdc-checkbox-state-layer-size, 40px))/2)}.mdc-checkbox--disabled{cursor:default;pointer-events:none}.cdk-high-contrast-active .mdc-checkbox--disabled{opacity:.5}.mdc-checkbox__background{display:inline-flex;position:absolute;align-items:center;justify-content:center;box-sizing:border-box;width:18px;height:18px;border:2px solid currentColor;border-radius:2px;background-color:rgba(0,0,0,0);pointer-events:none;will-change:background-color,border-color;transition:background-color 90ms cubic-bezier(0.4, 0, 0.6, 1),border-color 90ms cubic-bezier(0.4, 0, 0.6, 1);-webkit-print-color-adjust:exact;color-adjust:exact;border-color:var(--mdc-checkbox-unselected-icon-color, var(--mat-app-on-surface-variant));top:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2);left:calc((var(--mdc-checkbox-state-layer-size, 40px) - 18px)/2)}.mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:enabled:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox__native-control:disabled:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:disabled:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-hover-icon-color, var(--mat-app-on-surface));background-color:rgba(0,0,0,0)}.mdc-checkbox:hover .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox:hover .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-hover-icon-color, var(--mat-app-primary))}.mdc-checkbox__native-control:focus:focus:not(:checked)~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:not(:indeterminate)~.mdc-checkbox__background{border-color:var(--mdc-checkbox-unselected-focus-icon-color, var(--mat-app-on-surface))}.mdc-checkbox__native-control:focus:focus:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:focus:focus:indeterminate~.mdc-checkbox__background{border-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary));background-color:var(--mdc-checkbox-selected-focus-icon-color, var(--mat-app-primary))}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox:hover .mdc-checkbox__native-control~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox .mdc-checkbox__native-control:focus~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__background{border-color:var(--mdc-checkbox-disabled-unselected-icon-color)}.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{background-color:var(--mdc-checkbox-disabled-selected-icon-color);border-color:rgba(0,0,0,0)}.mdc-checkbox__checkmark{position:absolute;top:0;right:0;bottom:0;left:0;width:100%;opacity:0;transition:opacity 180ms cubic-bezier(0.4, 0, 0.6, 1);color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox--disabled .mdc-checkbox__checkmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.cdk-high-contrast-active .mdc-checkbox--disabled .mdc-checkbox__checkmark,.cdk-high-contrast-active .mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__checkmark{color:CanvasText}.mdc-checkbox__checkmark-path{transition:stroke-dashoffset 180ms cubic-bezier(0.4, 0, 0.6, 1);stroke:currentColor;stroke-width:3.12px;stroke-dashoffset:29.7833385;stroke-dasharray:29.7833385}.mdc-checkbox__mixedmark{width:100%;height:0;transform:scaleX(0) rotate(0deg);border-width:1px;border-style:solid;opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1);border-color:var(--mdc-checkbox-selected-checkmark-color, var(--mat-app-on-primary))}.cdk-high-contrast-active .mdc-checkbox__mixedmark{margin:0 1px}.mdc-checkbox--disabled .mdc-checkbox__mixedmark,.mdc-checkbox--disabled.mat-mdc-checkbox-disabled-interactive .mdc-checkbox__mixedmark{border-color:var(--mdc-checkbox-disabled-selected-checkmark-color, var(--mat-app-surface))}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__background,.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__background,.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__background,.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__background{animation-duration:180ms;animation-timing-function:linear}.mdc-checkbox--anim-unchecked-checked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-unchecked-checked-checkmark-path 180ms linear;transition:none}.mdc-checkbox--anim-unchecked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-unchecked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-unchecked .mdc-checkbox__checkmark-path{animation:mdc-checkbox-checked-unchecked-checkmark-path 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__checkmark{animation:mdc-checkbox-checked-indeterminate-checkmark 90ms linear;transition:none}.mdc-checkbox--anim-checked-indeterminate .mdc-checkbox__mixedmark{animation:mdc-checkbox-checked-indeterminate-mixedmark 90ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__checkmark{animation:mdc-checkbox-indeterminate-checked-checkmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-checked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-checked-mixedmark 500ms linear;transition:none}.mdc-checkbox--anim-indeterminate-unchecked .mdc-checkbox__mixedmark{animation:mdc-checkbox-indeterminate-unchecked-mixedmark 300ms linear;transition:none}.mdc-checkbox__native-control:checked~.mdc-checkbox__background,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background{transition:border-color 90ms cubic-bezier(0, 0, 0.2, 1),background-color 90ms cubic-bezier(0, 0, 0.2, 1)}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark-path,.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark-path{stroke-dashoffset:0}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__checkmark{transition:opacity 180ms cubic-bezier(0, 0, 0.2, 1),transform 180ms cubic-bezier(0, 0, 0.2, 1);opacity:1}.mdc-checkbox__native-control:checked~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(-45deg)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__checkmark{transform:rotate(45deg);opacity:0;transition:opacity 90ms cubic-bezier(0.4, 0, 0.6, 1),transform 90ms cubic-bezier(0.4, 0, 0.6, 1)}.mdc-checkbox__native-control:indeterminate~.mdc-checkbox__background .mdc-checkbox__mixedmark{transform:scaleX(1) rotate(0deg);opacity:1}@keyframes mdc-checkbox-unchecked-checked-checkmark-path{0%,50%{stroke-dashoffset:29.7833385}50%{animation-timing-function:cubic-bezier(0, 0, 0.2, 1)}100%{stroke-dashoffset:0}}@keyframes mdc-checkbox-unchecked-indeterminate-mixedmark{0%,68.2%{transform:scaleX(0)}68.2%{animation-timing-function:cubic-bezier(0, 0, 0, 1)}100%{transform:scaleX(1)}}@keyframes mdc-checkbox-checked-unchecked-checkmark-path{from{animation-timing-function:cubic-bezier(0.4, 0, 1, 1);opacity:1;stroke-dashoffset:0}to{opacity:0;stroke-dashoffset:-29.7833385}}@keyframes mdc-checkbox-checked-indeterminate-checkmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(45deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-checked-checkmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(45deg);opacity:0}to{transform:rotate(360deg);opacity:1}}@keyframes mdc-checkbox-checked-indeterminate-mixedmark{from{animation-timing-function:cubic-bezier(0, 0, 0.2, 1);transform:rotate(-45deg);opacity:0}to{transform:rotate(0deg);opacity:1}}@keyframes mdc-checkbox-indeterminate-checked-mixedmark{from{animation-timing-function:cubic-bezier(0.14, 0, 0, 1);transform:rotate(0deg);opacity:1}to{transform:rotate(315deg);opacity:0}}@keyframes mdc-checkbox-indeterminate-unchecked-mixedmark{0%{animation-timing-function:linear;transform:scaleX(1);opacity:1}32.8%,100%{transform:scaleX(0);opacity:0}}.mat-mdc-checkbox{display:inline-block;position:relative;-webkit-tap-highlight-color:rgba(0,0,0,0)}.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *,.mat-mdc-checkbox._mat-animation-noopable .mdc-checkbox *::before{transition:none !important;animation:none !important}.mat-mdc-checkbox label{cursor:pointer}.mat-mdc-checkbox .mat-internal-form-field{color:var(--mat-checkbox-label-text-color, var(--mat-app-on-surface));font-family:var(--mat-checkbox-label-text-font, var(--mat-app-body-medium-font));line-height:var(--mat-checkbox-label-text-line-height, var(--mat-app-body-medium-line-height));font-size:var(--mat-checkbox-label-text-size, var(--mat-app-body-medium-size));letter-spacing:var(--mat-checkbox-label-text-tracking, var(--mat-app-body-medium-tracking));font-weight:var(--mat-checkbox-label-text-weight, var(--mat-app-body-medium-weight))}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive{pointer-events:auto}.mat-mdc-checkbox.mat-mdc-checkbox-disabled.mat-mdc-checkbox-disabled-interactive input{cursor:default}.mat-mdc-checkbox.mat-mdc-checkbox-disabled label{cursor:default;color:var(--mat-checkbox-disabled-label-color)}.mat-mdc-checkbox label:empty{display:none}.mat-mdc-checkbox .mdc-checkbox__ripple{opacity:0}.mat-mdc-checkbox-ripple,.mdc-checkbox__ripple{top:0;left:0;right:0;bottom:0;position:absolute;border-radius:50%;pointer-events:none}.mat-mdc-checkbox-ripple:not(:empty),.mdc-checkbox__ripple:not(:empty){transform:translateZ(0)}.mat-mdc-checkbox-ripple .mat-ripple-element{opacity:.1}.mat-mdc-checkbox-touch-target{position:absolute;top:50%;left:50%;height:48px;width:48px;transform:translate(-50%, -50%);display:var(--mat-checkbox-touch-target-display)}.mat-mdc-checkbox-ripple::before{border-radius:50%}.mdc-checkbox__native-control:focus~.mat-mdc-focus-indicator::before{content:""}'],encapsulation:2,changeDetection:0})}}return n})();var gh=(()=>{class n{static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275mod=Pt({type:n})}static{this.\u0275inj=St({imports:[mh,qs,qs]})}}return n})();var Ar=class n{onCheckboxChange(r){}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=lt({type:n,selectors:[["app-header"]],standalone:!0,features:[ft],decls:7,vars:1,consts:[[1,"left-side"],["alt","App Logo",3,"src"]],template:function(i,s){i&1&&(X(0,"nav")(1,"div",0),dt(2,"img",1),X(3,"h1"),wt(4,"BirdNet "),X(5,"span"),wt(6,"- a living library of bird vocalizations"),it()()()()),i&2&&(ut(2),bt("src","logo2.png",Kn))},dependencies:[gh],styles:[`nav{background-color:#013833;padding:5px;display:flex;justify-content:space-between}nav .left-side{display:flex;align-items:center}nav .left-side img{height:50px;width:auto;margin-right:10px;margin-left:5px}nav .left-side h1{color:#fff;font-weight:400;margin:0}nav .left-side h1 span{font-size:12px}nav .right-side{display:flex;align-items:center;padding-right:15px}nav .mat-checkbox{margin:5px}nav .mdc-checkbox .mdc-checkbox__background{border:2px solid #ffffff}nav .mat-mdc-checkbox.mat-accent .mdc-label{font-size:16px;color:#fff;font-family:Courgette,cursive;font-weight:400;font-style:normal;margin:0}nav .mdc-checkbox__native-control:enabled:checked~.mdc-checkbox__background{border:2px solid #ffffff}nav .mdc-checkbox__native-control{border-color:#fff}nav .mdc-checkbox__native-control:hover{border-color:#fff}nav .mdc-checkbox__background svg{color:#fff}nav .mdc-checkbox:hover .mdc-checkbox__native-control:not(:checked)~.mdc-checkbox__background,nav .mdc-checkbox:hover .mdc-checkbox__native-control:not(:indeterminate)~.mdc-checkbox__background{border-color:#fff}@media only screen and (max-width: 600px){nav{flex-direction:column}nav .right-side{display:none}}
`],encapsulation:2})};var Ht=Gu(vh());var kn=class n{constructor(r){this.http=r}getCitiesGeoJson(){return this.http.get("cities.geojson")}getBirdsData(){return this.http.get("birds-db.json")}static \u0275fac=function(i){return new(i||n)(M(Uo))};static \u0275prov=O({token:n,factory:n.\u0275fac,providedIn:"root"})};var _e=class n{destroyedNotificationId=new qt;destroyedNotificationId$=this.destroyedNotificationId.asObservable();static \u0275fac=function(i){return new(i||n)};static \u0275prov=O({token:n,factory:n.\u0275fac})};var Sr=class n{lifetime=0;destroyed=new Rt;_notification;set notification(r){this._notification=r}get notification(){return this._notification}stateService=k(_e);timerId;ngOnInit(){let r=this.notification.lifetime;this.timerId=setInterval(()=>{r-=500,r<=0},1e3)}ngOnDestroy(){clearInterval(this.timerId)}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=lt({type:n,selectors:[["app-notification-item"]],inputs:{lifetime:"lifetime",notification:"notification"},outputs:{destroyed:"destroyed"},standalone:!0,features:[ne([]),ft],decls:16,vars:6,consts:[[1,"notification-list__left-side"],[1,"image-block"],["alt","",3,"src"],[1,"notification-list__item__info"],[1,"notification-list__right-side"],[1,"confidence"]],template:function(i,s){i&1&&(X(0,"div",0)(1,"div",1),dt(2,"img",2),it(),X(3,"div",3)(4,"p"),wt(5),it(),X(6,"span"),wt(7),it(),X(8,"div"),wt(9,"Date: "),X(10,"span"),wt(11),it()()()(),X(12,"div",4),wt(13),X(14,"div",5),wt(15,"Confidence"),it()()),i&2&&(ut(2),bt("src",s.notification.image_url,Kn),ut(3),qi("Name: ",s.notification.Com_Name,""),ut(2),qi("Scientific name: (",s.notification.Sci_Name,")"),ut(4),Sc("",s.notification.Date," ",s.notification.Time,""),ut(2),qi(" ",(s.notification.Confidence*100).toFixed(2)," "))},styles:["[_nghost-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}"]})};function om(n,r){if(n&1&&dt(0,"app-notification-item",4),n&2){let i=So().$implicit;bt("notification",i)}}function sm(n,r){if(n&1&&(X(0,"li",2),Xn(1,om,1,1,"app-notification-item",3),it()),n&2){let i=r.$implicit;ut(),bt("ngIf",i.Com_Name)}}var Pr=class n{_notificationList=[];set notificationList(r){this._notificationList=r}get notificationList(){return this._notificationList}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=lt({type:n,selectors:[["app-detection-notification"]],inputs:{notificationList:"notificationList"},standalone:!0,features:[ft],decls:2,vars:1,consts:[[1,"notification-list"],["class","notification-list__item",4,"ngFor","ngForOf"],[1,"notification-list__item"],[3,"notification",4,"ngIf"],[3,"notification"]],template:function(i,s){i&1&&(X(0,"ul",0),Xn(1,sm,2,1,"li",1),it()),i&2&&(ut(),bt("ngForOf",s.notificationList))},dependencies:[No,Fc,Vc,Sr],styles:[`.notification-list{display:flex;padding:0;margin:0;flex-direction:column;row-gap:16px}.notification-list__item{display:flex;justify-content:space-between;border:1px solid #ccc;background:#fff;padding:0 8px;border-top-right-radius:10px;border-bottom-right-radius:10px;align-items:center;position:relative}.notification-list__item__info{display:flex;flex-direction:column;padding:2px 0}.notification-list__left-side{display:flex;align-items:center}.notification-list__left-side .image-block{margin-left:-32px;margin-right:12px;border-radius:100%;width:52px;height:52px;border:2px solid #ff7676;background:#ff7676}.notification-list__left-side .image-block img{border-radius:100%;width:52px;height:52px}.notification-list__left-side p{margin:0;font-size:14px}.notification-list__left-side p span,.notification-list__left-side span{font-size:10px}.notification-list__right-side{display:flex;flex-direction:column;text-align:center}.notification-list__right-side .confidence{font-size:12px}@media only screen and (max-width: 600px){app-detection-notification{right:0!important;left:0!important;margin:auto!important;width:calc(100% - 30px)!important}p{font-size:14px!important}span{font-size:12px!important}.image-block{left:-10px!important}.notification-list__item__info{padding-left:15px!important}}
`],encapsulation:2})};var Rr=class n{stateService=k(_e);geojsonService=k(kn);map;data;customIcon=Ht.icon({iconUrl:"marker.png",iconSize:[30,38],iconAnchor:[22,94],popupAnchor:[-3,-76]});birdNames=[{common:"European Robin",scientific:"Erithacus rubecula"},{common:"Great Tit",scientific:"Parus major"},{common:"Blue Tit",scientific:"Cyanistes caeruleus"},{common:"Blackbird",scientific:"Turdus merula"},{common:"House Sparrow",scientific:"Passer domesticus"},{common:"Chaffinch",scientific:"Fringilla coelebs"},{common:"Goldfinch",scientific:"Carduelis carduelis"},{common:"European Starling",scientific:"Sturnus vulgaris"},{common:"Barn Swallow",scientific:"Hirundo rustica"},{common:"Common Chiffchaff",scientific:"Phylloscopus collybita"}];birdInfo={id:Date.now().toString(),name:"Tawny Owl",subName:"Strics Aluco",info:"BirdNet-PI - Zwolle",rate:"8.9",lifetime:1e3};notificationList=[{id:this.generateUniqueId(),name:"Tawny Owl",subName:"Strics Aluco",info:"BirdNet-PI - Zwolle",rate:"8.9",lifetime:1e3}];ngOnInit(){this.geojsonService.getBirdsData().subscribe(h=>{this.addMarkers(h)}),this.map=Ht.map("map").setView([50.715,12.496],15);let r=Ht.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{maxZoom:30,attribution:'&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'}),i=Ht.tileLayer("https://server.arcgisonline.com/ArcGIS/rest/services/World_Imagery/MapServer/tile/{z}/{y}/{x}",{attribution:'&copy; <a href="https://www.esri.com">Esri</a> &mdash; Source: Esri, Earthstar Geographics, i-cubed, USDA, USGS, AEX, GeoEye, Getmapping, Aerogrid, IGN, IGP, UPR-EGP, and the GIS User Community'}),s=Ht.tileLayer("https://stamen-tiles.a.ssl.fastly.net/toner/{z}/{x}/{y}.png",{maxZoom:30,attribution:'&copy; <a href="http://maps.stamen.com/">Stamen Design</a>'});r.addTo(this.map);let a={OpenStreetMap:r,Satellite:i,"Stamen Toner":s};Ht.control.layers(a).addTo(this.map),this.stateService.destroyedNotificationId$.subscribe(h=>{this.notificationList=this.notificationList.filter(u=>u.id!==h)})}addMarkers(r){let i=0,s=setInterval(()=>{if(i>=200){clearInterval(s);return}let a=r[i].Lat+Math.random()/100,h=r[i].Lon+Math.random()/100,u=Math.floor(Math.random()*this.birdNames.length),m=this.birdNames[u];Ht.marker([a,h],{icon:this.customIcon}).addTo(this.map).bindPopup(`
        <div class="popup-info">
            <div class="image">
                <img src="${r[i].image_url}" alt="">
            </div>
            <div class="popup-content">
                <b>${r[i].Com_Name} </b>
                 <br>(${r[i].Sci_Name})<br>
                 Latitude: ${a}, Longitude: ${h}
            </div>
        </div>`),r[i].lifetime=Math.floor(Math.random()*1e3*30),r[i].id=r[i].Date+"-"+r[i].Time.replaceAll(":","-"),this.notificationList.unshift(r[i]),i++},2e3)}generateUniqueId(){let r=new Date,s=[r.getFullYear(),("0"+(r.getMonth()+1)).slice(-2),("0"+r.getDate()).slice(-2),("0"+r.getHours()).slice(-2),("0"+r.getMinutes()).slice(-2),("0"+r.getSeconds()).slice(-2),("00"+r.getMilliseconds()).slice(-3)].join(""),a=Math.random().toString(36).substr(2,5);return`${s}-${a}`}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=lt({type:n,selectors:[["app-map"]],standalone:!0,features:[ne([kn,_e]),ft],decls:2,vars:1,consts:[["id","map",2,"height","100%"],[3,"notificationList"]],template:function(i,s){i&1&&dt(0,"div",0)(1,"app-detection-notification",1),i&2&&(ut(),bt("notificationList",s.notificationList))},dependencies:[Pr],styles:["[_nghost-%COMP%]{display:block;height:100vh;width:100%;overflow:hidden;position:relative}.map-container[_ngcontent-%COMP%]{height:100%;width:100%}app-detection-notification[_ngcontent-%COMP%]{padding-left:30px;overflow-y:scroll;position:absolute;top:10px;right:30px;z-index:999;width:400px;max-width:100%;max-height:85vh;-ms-overflow-style:none;scrollbar-width:none}"]})};var Or=class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=lt({type:n,selectors:[["app-footer"]],standalone:!0,features:[ft],decls:9,vars:0,consts:[[1,"left-side"],[1,"right-side"],["href","https://birdnet.cornell.edu/"]],template:function(i,s){i&1&&(X(0,"footer")(1,"div",0),wt(2," BirdNet "),it(),X(3,"div",1),wt(4," BirdNet "),X(5,"span"),wt(6,"is powered by"),it(),X(7,"a",2),wt(8,"BirdNET"),it()()())},styles:["[_nghost-%COMP%]{position:fixed;bottom:0;width:100vw;z-index:999}footer[_ngcontent-%COMP%]{background-color:#013833;display:flex;justify-content:space-between;color:#fff;padding:15px;font-size:12px;align-items:center}footer[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]{font-size:14px}footer[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-size:12px;margin:0 5px}footer[_ngcontent-%COMP%]   .right-side[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#ffffffa6}"]})};var Lr=class n{title="BirdNet";static \u0275fac=function(i){return new(i||n)};static \u0275cmp=lt({type:n,selectors:[["app-root"]],standalone:!0,features:[ne([_e]),ft],decls:4,vars:0,template:function(i,s){i&1&&dt(0,"app-header")(1,"app-map")(2,"app-footer")(3,"router-outlet")},dependencies:[tl,Ar,Rr,Or,Ss]})};al(Lr,ql).catch(n=>console.error(n));
